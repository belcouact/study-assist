<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>化学数据库 - 化学学习助手</title>
    <link rel="icon" href="../../assets/icons/logo_btrfly.ico" type="image/x-icon">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/utilities.css">
    <link rel="stylesheet" href="../../css/responsive.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Mobile First Design */
        .database-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }

        .database-header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem 1rem;
            background: linear-gradient(135deg, #dc3545 0%, #fd7e14 100%);
            border-radius: 15px;
            color: white;
        }

        .database-header h1 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .database-header p {
            font-size: 1rem;
            opacity: 0.9;
        }

        .search-section {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .search-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .search-input {
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #dc3545;
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
        }

        .search-filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.5rem;
        }

        .filter-btn {
            padding: 0.8rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 0.9rem;
        }

        .filter-btn:hover {
            border-color: #dc3545;
            background: rgba(220, 53, 69, 0.05);
        }

        .filter-btn.active {
            border-color: #dc3545;
            background: #dc3545;
            color: white;
        }

        .results-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        .compounds-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        .compound-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid #dc3545;
        }

        .compound-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(220, 53, 69, 0.15);
        }

        .compound-header {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 1rem;
            align-items: start;
            margin-bottom: 1rem;
        }

        .compound-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 0.5rem;
        }

        .compound-formula {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            color: #dc3545;
            font-weight: 600;
        }

        .compound-cas {
            background: #f8f9fa;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            color: #718096;
        }

        .compound-properties {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .property-item {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: 5px;
            font-size: 0.9rem;
        }

        .property-label {
            font-weight: 600;
            color: #4a5568;
        }

        .property-value {
            color: #2d3748;
        }

        .compound-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .compound-tag {
            background: rgba(220, 53, 69, 0.1);
            color: #dc3545;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .safety-warnings {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .safety-title {
            font-weight: 600;
            color: #856404;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .safety-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .safety-item {
            padding: 0.3rem 0;
            color: #856404;
            font-size: 0.9rem;
        }

        .detailed-view {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .detailed-view.active {
            display: block;
        }

        .detail-tabs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .detail-tab {
            padding: 0.8rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 0.9rem;
        }

        .detail-tab:hover {
            border-color: #dc3545;
            background: rgba(220, 53, 69, 0.05);
        }

        .detail-tab.active {
            border-color: #dc3545;
            background: #dc3545;
            color: white;
        }

        .detail-content {
            display: none;
        }

        .detail-content.active {
            display: block;
        }

        .property-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        .property-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
        }

        .section-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1rem;
        }

        .reactions-list {
            display: grid;
            gap: 1rem;
        }

        .reaction-item {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            border-left: 3px solid #fd7e14;
        }

        .reaction-equation {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            color: #dc3545;
            margin-bottom: 0.5rem;
        }

        .reaction-conditions {
            color: #718096;
            font-size: 0.9rem;
        }

        .structure-display {
            text-align: center;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 2rem;
            margin: 1rem 0;
        }

        .structure-placeholder {
            width: 200px;
            height: 150px;
            background: white;
            border: 2px dashed #e2e8f0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            color: #718096;
        }

        /* Desktop Responsive */
        @media (min-width: 768px) {
            .database-container {
                padding: 2rem;
            }

            .database-header h1 {
                font-size: 2.5rem;
            }

            .database-header p {
                font-size: 1.1rem;
            }

            .search-container {
                grid-template-columns: 1fr auto;
            }

            .results-section {
                grid-template-columns: 2fr 1fr;
            }

            .compounds-grid {
                grid-template-columns: 1fr;
            }

            .compound-properties {
                grid-template-columns: repeat(2, 1fr);
            }

            .property-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .compounds-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .detail-tabs {
                grid-template-columns: repeat(6, 1fr);
            }
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="../../index.html">
                        <i class="fas fa-graduation-cap" style="background: linear-gradient(90deg, #4361ee, #7209b7); -webkit-background-clip: text; background-clip: text; color: transparent;"></i>
                        <span>Alex的学习助手</span>
                    </a>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="../../index.html">首页</a></li>
                        <li><a href="main.html">化学</a></li>
                        <li><a href="../../tts.html">语音</a></li>
                        <li><a href="../../draw.html">绘图</a></li>
                    </ul>
                </nav>
                <button class="mobile-menu-toggle" aria-label="切换菜单">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main class="database-container">
        <div class="database-header">
            <h1><i class="fas fa-database"></i> 化学数据库</h1>
            <p>查询化合物性质、反应数据和安全信息的综合数据库</p>
        </div>

        <!-- 搜索区域 -->
        <div class="search-section">
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="搜索化合物名称、分子式或CAS号...">
                <button class="calculate-btn" onclick="searchCompounds()" style="width: auto; padding: 1rem 2rem;">
                    <i class="fas fa-search"></i> 搜索
                </button>
            </div>
            
            <div class="search-filters">
                <button class="filter-btn active" data-category="all">全部</button>
                <button class="filter-btn" data-category="organic">有机物</button>
                <button class="filter-btn" data-category="inorganic">无机物</button>
                <button class="filter-btn" data-category="acids">酸类</button>
                <button class="filter-btn" data-category="bases">碱类</button>
                <button class="filter-btn" data-category="salts">盐类</button>
            </div>
        </div>

        <!-- 结果展示区域 -->
        <div class="results-section">
            <!-- 化合物列表 -->
            <div class="compounds-section">
                <h3><i class="fas fa-list"></i> 搜索结果</h3>
                <div class="compounds-grid" id="compoundsGrid">
                    <!-- 化合物卡片将通过JavaScript动态生成 -->
                </div>
            </div>

            <!-- 详细信息面板 -->
            <div class="detailed-view" id="detailedView">
                <h3 id="selectedCompoundName">选择化合物查看详情</h3>
                
                <div class="detail-tabs">
                    <button class="detail-tab active" data-tab="properties">性质</button>
                    <button class="detail-tab" data-tab="structure">结构</button>
                    <button class="detail-tab" data-tab="reactions">反应</button>
                    <button class="detail-tab" data-tab="safety">安全</button>
                    <button class="detail-tab" data-tab="synthesis">合成</button>
                    <button class="detail-tab" data-tab="uses">用途</button>
                </div>

                <!-- 性质标签 -->
                <div class="detail-content active" id="properties">
                    <div class="property-grid">
                        <div class="property-section">
                            <div class="section-title">物理性质</div>
                            <div id="physicalProperties">
                                <!-- 动态加载 -->
                            </div>
                        </div>
                        <div class="property-section">
                            <div class="section-title">化学性质</div>
                            <div id="chemicalProperties">
                                <!-- 动态加载 -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 结构标签 -->
                <div class="detail-content" id="structure">
                    <div class="structure-display">
                        <div class="structure-placeholder" id="structureDisplay">
                            <i class="fas fa-atom" style="font-size: 3rem; color: #dc3545;"></i>
                        </div>
                        <p style="margin-top: 1rem; color: #718096;">分子结构图</p>
                    </div>
                    <div class="property-section">
                        <div class="section-title">分子信息</div>
                        <div id="molecularInfo">
                            <!-- 动态加载 -->
                        </div>
                    </div>
                </div>

                <!-- 反应标签 -->
                <div class="detail-content" id="reactions">
                    <div class="reactions-list" id="reactionsList">
                        <!-- 动态加载反应信息 -->
                    </div>
                </div>

                <!-- 安全标签 -->
                <div class="detail-content" id="safety">
                    <div class="property-section">
                        <div class="section-title">安全警告</div>
                        <div id="safetyWarnings">
                            <!-- 动态加载 -->
                        </div>
                    </div>
                    <div class="property-section">
                        <div class="section-title">防护措施</div>
                        <div id="protectiveMeasures">
                            <!-- 动态加载 -->
                        </div>
                    </div>
                </div>

                <!-- 合成标签 -->
                <div class="detail-content" id="synthesis">
                    <div class="property-section">
                        <div class="section-title">工业制备</div>
                        <div id="industrialSynthesis">
                            <!-- 动态加载 -->
                        </div>
                    </div>
                    <div class="property-section">
                        <div class="section-title">实验室制备</div>
                        <div id="labSynthesis">
                            <!-- 动态加载 -->
                        </div>
                    </div>
                </div>

                <!-- 用途标签 -->
                <div class="detail-content" id="uses">
                    <div class="property-section">
                        <div class="section-title">主要用途</div>
                        <div id="mainUses">
                            <!-- 动态加载 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <p class="copyright-text">study-llm.me域名为Alex所有。保留所有权利。</p>
                <div class="profile-section">
                    <button id="profile-button" class="profile-button">
                        <i class="fas fa-user-circle"></i>
                        学习阶段
                    </button>
                    <div id="profile-display" class="profile-display"></div>
                </div>
            </div>
        </div>
    </footer>

    <script src="../../js/common.js"></script>
    <script src="../../js/navigation.js"></script>
    <script src="../../js/profile.js"></script>
    <script>
        // 化合物数据库
        const compoundsDatabase = [
            {
                id: 1,
                name: "氯化钠",
                englishName: "Sodium Chloride",
                formula: "NaCl",
                cas: "7647-14-5",
                category: "salts",
                molecularWeight: 58.44,
                properties: {
                    physical: {
                        "熔点": "801°C",
                        "沸点": "1465°C",
                        "密度": "2.165 g/cm³",
                        "溶解性": "易溶于水",
                        "外观": "白色立方晶体"
                    },
                    chemical: {
                        "电导性": "熔融状态下导电",
                        "稳定性": "稳定",
                        "分解温度": ">800°C",
                        "酸碱性": "中性"
                    }
                },
                reactions: [
                    {
                        equation: "2NaCl → 2Na + Cl₂",
                        conditions: "电解熔融态",
                        type: "电解反应"
                    },
                    {
                        equation: "NaCl + AgNO₃ → AgCl↓ + NaNO₃",
                        conditions: "水溶液",
                        type: "沉淀反应"
                    }
                ],
                safety: {
                    warnings: ["大量摄入可能导致高血压", "避免与强氧化剂接触"],
                    protection: ["佩戴防护眼镜", "保持良好通风", "避免长期接触"]
                },
                synthesis: {
                    industrial: "海水蒸发或岩盐开采",
                    laboratory: "HCl + NaOH → NaCl + H₂O"
                },
                uses: ["食品调味", "化工原料", "道路除冰", "电解工业"],
                tags: ["食用盐", "电解质", "离子化合物"]
            },
            {
                id: 2,
                name: "硫酸",
                englishName: "Sulfuric Acid",
                formula: "H₂SO₄",
                cas: "7664-93-9",
                category: "acids",
                molecularWeight: 98.08,
                properties: {
                    physical: {
                        "熔点": "10.38°C",
                        "沸点": "337°C",
                        "密度": "1.84 g/cm³ (浓度98%)",
                        "溶解性": "与水任意比例混溶",
                        "外观": "无色油状液体"
                    },
                    chemical: {
                        "酸性": "强酸，双元酸",
                        "氧化性": "浓硫酸具有强氧化性",
                        "吸水性": "强烈吸水",
                        "腐蚀性": "强腐蚀性"
                    }
                },
                reactions: [
                    {
                        equation: "H₂SO₄ + 2NaOH → Na₂SO₄ + 2H₂O",
                        conditions: "水溶液",
                        type: "酸碱中和"
                    },
                    {
                        equation: "H₂SO₄ + Cu → CuSO₄ + SO₂↑ + 2H₂O",
                        conditions: "浓硫酸加热",
                        type: "氧化还原"
                    }
                ],
                safety: {
                    warnings: ["强腐蚀性", "接触皮肤造成严重烧伤", "与水反应放出大量热"],
                    protection: ["佩戴防酸面罩", "穿防酸工作服", "使用防酸手套", "稀释时酸入水"]
                },
                synthesis: {
                    industrial: "接触法：SO₂ + ½O₂ → SO₃，SO₃ + H₂O → H₂SO₄",
                    laboratory: "SO₃ + H₂O → H₂SO₄（小量制备）"
                },
                uses: ["化肥生产", "石油精炼", "金属冶炼", "蓄电池电解液"],
                tags: ["强酸", "脱水剂", "氧化剂", "工业原料"]
            },
            {
                id: 3,
                name: "氢氧化钠",
                englishName: "Sodium Hydroxide",
                formula: "NaOH",
                cas: "1310-73-2",
                category: "bases",
                molecularWeight: 40.00,
                properties: {
                    physical: {
                        "熔点": "318°C",
                        "沸点": "1388°C",
                        "密度": "2.13 g/cm³",
                        "溶解性": "易溶于水，强烈放热",
                        "外观": "白色不透明固体"
                    },
                    chemical: {
                        "碱性": "强碱",
                        "潮解性": "强烈潮解",
                        "腐蚀性": "强腐蚀性",
                        "稳定性": "稳定"
                    }
                },
                reactions: [
                    {
                        equation: "NaOH + HCl → NaCl + H₂O",
                        conditions: "水溶液",
                        type: "酸碱中和"
                    },
                    {
                        equation: "2NaOH + CO₂ → Na₂CO₃ + H₂O",
                        conditions: "常温",
                        type: "酸性氧化物反应"
                    }
                ],
                safety: {
                    warnings: ["强腐蚀性", "接触皮肤造成化学烧伤", "损害眼睛和呼吸道"],
                    protection: ["佩戴防护眼镜", "穿防护服", "戴橡胶手套", "保持通风"]
                },
                synthesis: {
                    industrial: "电解氯化钠溶液：2NaCl + 2H₂O → 2NaOH + H₂↑ + Cl₂↑",
                    laboratory: "Ca(OH)₂ + Na₂CO₃ → CaCO₃↓ + 2NaOH"
                },
                uses: ["造纸工业", "纺织工业", "肥皂制造", "石油精炼"],
                tags: ["强碱", "苛性钠", "烧碱", "工业碱"]
            },
            {
                id: 4,
                name: "乙醇",
                englishName: "Ethanol",
                formula: "C₂H₅OH",
                cas: "64-17-5",
                category: "organic",
                molecularWeight: 46.07,
                properties: {
                    physical: {
                        "熔点": "-114.1°C",
                        "沸点": "78.37°C",
                        "密度": "0.789 g/cm³",
                        "溶解性": "与水任意比例混溶",
                        "外观": "无色透明液体"
                    },
                    chemical: {
                        "官能团": "羟基(-OH)",
                        "极性": "极性分子",
                        "易燃性": "易燃",
                        "氧化性": "可被氧化为醛、酸"
                    }
                },
                reactions: [
                    {
                        equation: "C₂H₅OH + 3O₂ → 2CO₂ + 3H₂O",
                        conditions: "燃烧",
                        type: "燃烧反应"
                    },
                    {
                        equation: "C₂H₅OH → C₂H₄ + H₂O",
                        conditions: "170°C，浓H₂SO₄",
                        type: "消除反应"
                    }
                ],
                safety: {
                    warnings: ["易燃液体", "蒸气可形成爆炸性混合物", "长期接触影响神经系统"],
                    protection: ["远离火源", "保持通风", "佩戴防护用品", "避免大量摄入"]
                },
                synthesis: {
                    industrial: "乙烯水化：C₂H₄ + H₂O → C₂H₅OH",
                    laboratory: "发酵法：C₆H₁₂O₆ → 2C₂H₅OH + 2CO₂"
                },
                uses: ["溶剂", "燃料", "饮料", "消毒剂", "化工原料"],
                tags: ["醇类", "有机溶剂", "燃料", "消毒剂"]
            },
            {
                id: 5,
                name: "氨气",
                englishName: "Ammonia",
                formula: "NH₃",
                cas: "7664-41-7",
                category: "inorganic",
                molecularWeight: 17.03,
                properties: {
                    physical: {
                        "熔点": "-77.73°C",
                        "沸点": "-33.34°C",
                        "密度": "0.696 g/L (标准状况)",
                        "溶解性": "极易溶于水",
                        "外观": "无色气体，刺激性气味"
                    },
                    chemical: {
                        "碱性": "弱碱",
                        "还原性": "具有还原性",
                        "配位性": "可形成配离子",
                        "分解性": "高温下分解"
                    }
                },
                reactions: [
                    {
                        equation: "NH₃ + HCl → NH₄Cl",
                        conditions: "常温",
                        type: "酸碱反应"
                    },
                    {
                        equation: "4NH₃ + 5O₂ → 4NO + 6H₂O",
                        conditions: "催化剂，加热",
                        type: "催化氧化"
                    }
                ],
                safety: {
                    warnings: ["刺激性气体", "高浓度时有毒", "腐蚀眼睛和呼吸道"],
                    protection: ["佩戴防毒面具", "保持通风", "避免直接接触", "紧急时用水冲洗"]
                },
                synthesis: {
                    industrial: "哈伯法：N₂ + 3H₂ ⇌ 2NH₃",
                    laboratory: "NH₄Cl + Ca(OH)₂ → CaCl₂ + 2NH₃↑ + 2H₂O"
                },
                uses: ["制造化肥", "制冷剂", "清洁剂", "化工原料"],
                tags: ["碱性气体", "化肥原料", "制冷剂"]
            }
        ];

        let currentFilter = 'all';
        let searchResults = [];
        let selectedCompound = null;

        // 初始化
        function init() {
            setupEventListeners();
            searchResults = compoundsDatabase;
            renderCompounds();
        }

        // 设置事件监听
        function setupEventListeners() {
            // 搜索输入框
            document.getElementById('searchInput').addEventListener('input', handleSearch);
            
            // 过滤按钮
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentFilter = this.dataset.category;
                    handleSearch();
                });
            });

            // 详情标签
            document.querySelectorAll('.detail-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.detail-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.detail-content').forEach(c => c.classList.remove('active'));
                    
                    this.classList.add('active');
                    document.getElementById(this.dataset.tab).classList.add('active');
                });
            });
        }

        // 搜索处理
        function handleSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            searchResults = compoundsDatabase.filter(compound => {
                const matchesCategory = currentFilter === 'all' || compound.category === currentFilter;
                const matchesSearch = searchTerm === '' || 
                    compound.name.toLowerCase().includes(searchTerm) ||
                    compound.englishName.toLowerCase().includes(searchTerm) ||
                    compound.formula.toLowerCase().includes(searchTerm) ||
                    compound.cas.toLowerCase().includes(searchTerm);
                
                return matchesCategory && matchesSearch;
            });

            renderCompounds();
        }

        // 搜索化合物
        function searchCompounds() {
            handleSearch();
        }

        // 渲染化合物列表
        function renderCompounds() {
            const grid = document.getElementById('compoundsGrid');
            
            if (searchResults.length === 0) {
                grid.innerHTML = '<p style="text-align: center; color: #718096; padding: 2rem;">未找到匹配的化合物</p>';
                return;
            }

            grid.innerHTML = searchResults.map(compound => createCompoundCard(compound)).join('');
        }

        // 创建化合物卡片
        function createCompoundCard(compound) {
            return `
                <div class="compound-card" onclick="selectCompound(${compound.id})">
                    <div class="compound-header">
                        <div>
                            <div class="compound-name">${compound.name}</div>
                            <div class="compound-formula">${compound.formula}</div>
                        </div>
                        <div class="compound-cas">CAS: ${compound.cas}</div>
                    </div>

                    <div class="compound-properties">
                        <div class="property-item">
                            <div class="property-label">分子量</div>
                            <div class="property-value">${compound.molecularWeight} g/mol</div>
                        </div>
                        <div class="property-item">
                            <div class="property-label">类别</div>
                            <div class="property-value">${getCategoryName(compound.category)}</div>
                        </div>
                    </div>

                    <div class="compound-tags">
                        ${compound.tags.map(tag => `<span class="compound-tag">${tag}</span>`).join('')}
                    </div>

                    ${compound.safety.warnings.length > 0 ? `
                        <div class="safety-warnings">
                            <div class="safety-title">
                                <i class="fas fa-exclamation-triangle"></i>
                                安全警告
                            </div>
                            <ul class="safety-list">
                                ${compound.safety.warnings.slice(0, 2).map(warning => 
                                    `<li class="safety-item">• ${warning}</li>`
                                ).join('')}
                            </ul>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        // 获取类别名称
        function getCategoryName(category) {
            const names = {
                'organic': '有机物',
                'inorganic': '无机物',
                'acids': '酸类',
                'bases': '碱类',
                'salts': '盐类'
            };
            return names[category] || category;
        }

        // 选择化合物
        function selectCompound(id) {
            selectedCompound = compoundsDatabase.find(compound => compound.id === id);
            if (selectedCompound) {
                showDetailedView();
                loadCompoundDetails();
            }
        }

        // 显示详细视图
        function showDetailedView() {
            document.getElementById('detailedView').classList.add('active');
            document.getElementById('selectedCompoundName').textContent = 
                `${selectedCompound.name} (${selectedCompound.formula})`;
        }

        // 加载化合物详情
        function loadCompoundDetails() {
            // 加载物理性质
            const physicalProps = Object.entries(selectedCompound.properties.physical)
                .map(([key, value]) => `
                    <div class="property-item">
                        <div class="property-label">${key}</div>
                        <div class="property-value">${value}</div>
                    </div>
                `).join('');
            document.getElementById('physicalProperties').innerHTML = physicalProps;

            // 加载化学性质
            const chemicalProps = Object.entries(selectedCompound.properties.chemical)
                .map(([key, value]) => `
                    <div class="property-item">
                        <div class="property-label">${key}</div>
                        <div class="property-value">${value}</div>
                    </div>
                `).join('');
            document.getElementById('chemicalProperties').innerHTML = chemicalProps;

            // 加载分子信息
            const molecularInfo = `
                <div class="property-item">
                    <div class="property-label">英文名</div>
                    <div class="property-value">${selectedCompound.englishName}</div>
                </div>
                <div class="property-item">
                    <div class="property-label">分子式</div>
                    <div class="property-value">${selectedCompound.formula}</div>
                </div>
                <div class="property-item">
                    <div class="property-label">分子量</div>
                    <div class="property-value">${selectedCompound.molecularWeight} g/mol</div>
                </div>
                <div class="property-item">
                    <div class="property-label">CAS号</div>
                    <div class="property-value">${selectedCompound.cas}</div>
                </div>
            `;
            document.getElementById('molecularInfo').innerHTML = molecularInfo;

            // 加载反应信息
            const reactions = selectedCompound.reactions.map(reaction => `
                <div class="reaction-item">
                    <div class="reaction-equation">${reaction.equation}</div>
                    <div class="reaction-conditions">条件: ${reaction.conditions} | 类型: ${reaction.type}</div>
                </div>
            `).join('');
            document.getElementById('reactionsList').innerHTML = reactions;

            // 加载安全信息
            const safetyWarnings = selectedCompound.safety.warnings.map(warning => 
                `<div class="safety-item">• ${warning}</div>`
            ).join('');
            document.getElementById('safetyWarnings').innerHTML = safetyWarnings;

            const protectiveMeasures = selectedCompound.safety.protection.map(measure => 
                `<div class="safety-item">• ${measure}</div>`
            ).join('');
            document.getElementById('protectiveMeasures').innerHTML = protectiveMeasures;

            // 加载合成信息
            document.getElementById('industrialSynthesis').innerHTML = 
                `<p>${selectedCompound.synthesis.industrial}</p>`;
            document.getElementById('labSynthesis').innerHTML = 
                `<p>${selectedCompound.synthesis.laboratory}</p>`;

            // 加载用途信息
            const uses = selectedCompound.uses.map(use => 
                `<div class="safety-item">• ${use}</div>`
            ).join('');
            document.getElementById('mainUses').innerHTML = uses;
        }

        // 初始化页面
        init();
    </script>
</body>
</html> 