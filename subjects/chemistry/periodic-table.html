<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>元素周期表 - 化学学习助手</title>
    <link rel="icon" href="../../assets/icons/logo_btrfly.ico" type="image/x-icon">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/utilities.css">
    <link rel="stylesheet" href="../../css/responsive.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .periodic-page {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem 0;
        }

        .periodic-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            margin: 2rem auto;
            max-width: 1600px;
        }

        .periodic-header {
            background: linear-gradient(135deg, #dc3545, #fd7e14);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .periodic-header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
        }

        .periodic-header p {
            margin: 1rem 0 0 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .periodic-controls {
            background: #f8f9fa;
            padding: 1.5rem;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            gap: 2rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .control-group label {
            font-weight: 600;
            color: #333;
            font-size: 0.9rem;
        }

        .control-input {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 0.9rem;
            min-width: 200px;
        }

        .property-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .property-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #dc3545;
            background: white;
            color: #dc3545;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .property-btn.active {
            background: #dc3545;
            color: white;
        }

        .property-btn:hover {
            background: #dc3545;
            color: white;
        }

        .periodic-content {
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
            min-height: 700px;
        }

        .periodic-table-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 1.5rem;
            overflow: auto;
        }

        .periodic-table {
            display: grid;
            grid-template-columns: repeat(18, 1fr);
            gap: 2px;
            min-width: 900px;
        }

        .element {
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 0.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        .element:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 10;
        }

        .element.selected {
            border: 3px solid #dc3545;
            background: #fff5f5;
        }

        .element-number {
            font-size: 0.7rem;
            color: #666;
            position: absolute;
            top: 2px;
            left: 4px;
        }

        .element-symbol {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
        }

        .element-name {
            font-size: 0.6rem;
            color: #666;
            margin-top: 2px;
        }

        .element-info {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            height: fit-content;
        }

        .element-info h3 {
            margin: 0 0 1rem 0;
            color: #dc3545;
            font-size: 1.5rem;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .info-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
        }

        .info-item label {
            font-size: 0.8rem;
            color: #666;
            display: block;
            margin-bottom: 0.25rem;
        }

        .info-item value {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
        }

        .electron-config {
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .electron-config h4 {
            margin: 0 0 0.5rem 0;
            color: #1976d2;
            font-size: 1rem;
        }

        .config-text {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #333;
        }

        .element-description {
            background: #f0f8ff;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #dc3545;
        }

        .element-description h4 {
            margin: 0 0 0.5rem 0;
            color: #dc3545;
        }

        .element-description p {
            margin: 0;
            font-size: 0.9rem;
            line-height: 1.5;
            color: #333;
        }

        /* Element categories */
        .alkali-metal { background-color: #ffebee; }
        .alkaline-earth { background-color: #f3e5f5; }
        .transition-metal { background-color: #e8f5e8; }
        .post-transition { background-color: #fff3e0; }
        .metalloid { background-color: #e0f2f1; }
        .nonmetal { background-color: #e3f2fd; }
        .halogen { background-color: #fce4ec; }
        .noble-gas { background-color: #f1f8e9; }
        .lanthanide { background-color: #fff8e1; }
        .actinide { background-color: #fafafa; }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            border: 1px solid #ddd;
        }

        @media (max-width: 768px) {
            .periodic-content {
                grid-template-columns: 1fr;
            }
            
            .periodic-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .control-input {
                min-width: auto;
            }
            
            .periodic-table {
                min-width: 600px;
            }
            
            .element {
                min-height: 40px;
                padding: 0.25rem;
            }
            
            .element-symbol {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="../../index.html">
                        <i class="fas fa-graduation-cap" style="background: linear-gradient(90deg, #4361ee, #7209b7); -webkit-background-clip: text; background-clip: text; color: transparent;"></i>
                        <span>Alex的学习助手</span>
                    </a>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="../../index.html">首页</a></li>
                        <li><a href="main.html">化学</a></li>
                        <li><a href="../../index.html#subjects">科目</a></li>
                        <li><a href="../../tts.html">语音</a></li>
                        <li><a href="../../draw.html">绘图</a></li>
                    </ul>
                </nav>
                <button class="mobile-menu-toggle" aria-label="切换菜单">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main class="periodic-page">
        <div class="container">
            <div class="periodic-container">
                <div class="periodic-header">
                    <h1><i class="fas fa-table"></i> 交互式元素周期表</h1>
                    <p>探索元素性质、电子排布和化学趋势</p>
                </div>

                <div class="periodic-controls">
                    <div class="control-group">
                        <label>搜索元素</label>
                        <input type="text" class="control-input" id="element-search" placeholder="输入元素名称、符号或原子序数...">
                    </div>
                    
                    <div class="control-group">
                        <label>显示属性</label>
                        <div class="property-buttons">
                            <button class="property-btn active" data-property="category">元素类别</button>
                            <button class="property-btn" data-property="atomic-mass">原子质量</button>
                            <button class="property-btn" data-property="electronegativity">电负性</button>
                            <button class="property-btn" data-property="ionization">电离能</button>
                        </div>
                    </div>
                </div>

                <div class="periodic-content">
                    <div class="periodic-table-container">
                        <div class="legend">
                            <div class="legend-item">
                                <div class="legend-color alkali-metal"></div>
                                <span>碱金属</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color alkaline-earth"></div>
                                <span>碱土金属</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color transition-metal"></div>
                                <span>过渡金属</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color post-transition"></div>
                                <span>后过渡金属</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color metalloid"></div>
                                <span>类金属</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color nonmetal"></div>
                                <span>非金属</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color halogen"></div>
                                <span>卤素</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color noble-gas"></div>
                                <span>惰性气体</span>
                            </div>
                        </div>
                        
                        <div class="periodic-table" id="periodic-table">
                            <!-- Elements will be generated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="element-info" id="element-info">
                        <h3>选择一个元素</h3>
                        <p>点击周期表中的任意元素查看详细信息</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <p class="copyright-text">study-llm.me域名为Alex所有。保留所有权利。</p>
            </div>
        </div>
    </footer>

    <script src="../../js/common.js"></script>
    <script src="../../js/navigation.js"></script>
    <script>
        // 元素周期表功能
        class PeriodicTable {
            constructor() {
                this.selectedElement = null;
                this.currentProperty = 'category';
                this.elements = this.initializeElements();
                this.initializeEventListeners();
                this.renderPeriodicTable();
            }

            initializeElements() {
                // 简化的元素数据 - 实际应用中应该从完整数据库加载
                return [
                    { number: 1, symbol: 'H', name: '氢', mass: 1.008, category: 'nonmetal', electronegativity: 2.20, ionization: 13.6, config: '1s¹' },
                    { number: 2, symbol: 'He', name: '氦', mass: 4.003, category: 'noble-gas', electronegativity: null, ionization: 24.6, config: '1s²' },
                    { number: 3, symbol: 'Li', name: '锂', mass: 6.941, category: 'alkali-metal', electronegativity: 0.98, ionization: 5.4, config: '[He] 2s¹' },
                    { number: 4, symbol: 'Be', name: '铍', mass: 9.012, category: 'alkaline-earth', electronegativity: 1.57, ionization: 9.3, config: '[He] 2s²' },
                    { number: 5, symbol: 'B', name: '硼', mass: 10.811, category: 'metalloid', electronegativity: 2.04, ionization: 8.3, config: '[He] 2s² 2p¹' },
                    { number: 6, symbol: 'C', name: '碳', mass: 12.011, category: 'nonmetal', electronegativity: 2.55, ionization: 11.3, config: '[He] 2s² 2p²' },
                    { number: 7, symbol: 'N', name: '氮', mass: 14.007, category: 'nonmetal', electronegativity: 3.04, ionization: 14.5, config: '[He] 2s² 2p³' },
                    { number: 8, symbol: 'O', name: '氧', mass: 15.999, category: 'nonmetal', electronegativity: 3.44, ionization: 13.6, config: '[He] 2s² 2p⁴' },
                    { number: 9, symbol: 'F', name: '氟', mass: 18.998, category: 'halogen', electronegativity: 3.98, ionization: 17.4, config: '[He] 2s² 2p⁵' },
                    { number: 10, symbol: 'Ne', name: '氖', mass: 20.180, category: 'noble-gas', electronegativity: null, ionization: 21.6, config: '[He] 2s² 2p⁶' },
                    { number: 11, symbol: 'Na', name: '钠', mass: 22.990, category: 'alkali-metal', electronegativity: 0.93, ionization: 5.1, config: '[Ne] 3s¹' },
                    { number: 12, symbol: 'Mg', name: '镁', mass: 24.305, category: 'alkaline-earth', electronegativity: 1.31, ionization: 7.6, config: '[Ne] 3s²' },
                    { number: 13, symbol: 'Al', name: '铝', mass: 26.982, category: 'post-transition', electronegativity: 1.61, ionization: 6.0, config: '[Ne] 3s² 3p¹' },
                    { number: 14, symbol: 'Si', name: '硅', mass: 28.086, category: 'metalloid', electronegativity: 1.90, ionization: 8.2, config: '[Ne] 3s² 3p²' },
                    { number: 15, symbol: 'P', name: '磷', mass: 30.974, category: 'nonmetal', electronegativity: 2.19, ionization: 10.5, config: '[Ne] 3s² 3p³' },
                    { number: 16, symbol: 'S', name: '硫', mass: 32.065, category: 'nonmetal', electronegativity: 2.58, ionization: 10.4, config: '[Ne] 3s² 3p⁴' },
                    { number: 17, symbol: 'Cl', name: '氯', mass: 35.453, category: 'halogen', electronegativity: 3.16, ionization: 13.0, config: '[Ne] 3s² 3p⁵' },
                    { number: 18, symbol: 'Ar', name: '氩', mass: 39.948, category: 'noble-gas', electronegativity: null, ionization: 15.8, config: '[Ne] 3s² 3p⁶' },
                    // 添加更多元素...
                    { number: 19, symbol: 'K', name: '钾', mass: 39.098, category: 'alkali-metal', electronegativity: 0.82, ionization: 4.3, config: '[Ar] 4s¹' },
                    { number: 20, symbol: 'Ca', name: '钙', mass: 40.078, category: 'alkaline-earth', electronegativity: 1.00, ionization: 6.1, config: '[Ar] 4s²' }
                ];
            }

            initializeEventListeners() {
                // 搜索功能
                document.getElementById('element-search').addEventListener('input', (e) => {
                    this.searchElement(e.target.value);
                });

                // 属性切换
                document.querySelectorAll('.property-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.switchProperty(e.target.dataset.property);
                    });
                });
            }

            renderPeriodicTable() {
                const table = document.getElementById('periodic-table');
                table.innerHTML = '';

                // 创建118个位置的网格
                for (let i = 1; i <= 118; i++) {
                    const element = this.elements.find(el => el.number === i);
                    const elementDiv = document.createElement('div');
                    
                    if (element) {
                        elementDiv.className = `element ${element.category}`;
                        elementDiv.innerHTML = `
                            <div class="element-number">${element.number}</div>
                            <div class="element-symbol">${element.symbol}</div>
                            <div class="element-name">${element.name}</div>
                        `;
                        elementDiv.addEventListener('click', () => this.selectElement(element));
                    } else {
                        elementDiv.className = 'element empty';
                        elementDiv.style.visibility = 'hidden';
                    }
                    
                    table.appendChild(elementDiv);
                }

                this.updatePropertyDisplay();
            }

            selectElement(element) {
                // 移除之前的选择
                document.querySelectorAll('.element.selected').forEach(el => {
                    el.classList.remove('selected');
                });

                // 选择新元素
                const elementDiv = document.querySelector(`.element:nth-child(${element.number})`);
                if (elementDiv) {
                    elementDiv.classList.add('selected');
                }

                this.selectedElement = element;
                this.displayElementInfo(element);
            }

            displayElementInfo(element) {
                const infoDiv = document.getElementById('element-info');
                
                const description = this.getElementDescription(element);
                
                infoDiv.innerHTML = `
                    <h3>${element.name} (${element.symbol})</h3>
                    
                    <div class="info-grid">
                        <div class="info-item">
                            <label>原子序数</label>
                            <value>${element.number}</value>
                        </div>
                        <div class="info-item">
                            <label>原子质量</label>
                            <value>${element.mass}</value>
                        </div>
                        <div class="info-item">
                            <label>元素类别</label>
                            <value>${this.getCategoryName(element.category)}</value>
                        </div>
                        <div class="info-item">
                            <label>电负性</label>
                            <value>${element.electronegativity || 'N/A'}</value>
                        </div>
                        <div class="info-item">
                            <label>第一电离能</label>
                            <value>${element.ionization} eV</value>
                        </div>
                    </div>

                    <div class="electron-config">
                        <h4>电子排布</h4>
                        <div class="config-text">${element.config}</div>
                    </div>

                    <div class="element-description">
                        <h4>元素简介</h4>
                        <p>${description}</p>
                    </div>
                `;
            }

            getElementDescription(element) {
                const descriptions = {
                    'H': '氢是宇宙中最轻、最丰富的元素，是恒星核聚变的主要燃料。',
                    'He': '氦是第二轻的元素，化学性质极不活泼，常用于气球和低温应用。',
                    'Li': '锂是最轻的金属，广泛用于电池和精神药物中。',
                    'Be': '铍是轻质高强度金属，用于航空航天和核工业。',
                    'B': '硼是重要的半导体材料，也用于玻璃和陶瓷工业。',
                    'C': '碳是生命的基础元素，具有多种同素异形体如钻石和石墨。',
                    'N': '氮占大气的78%，是蛋白质和核酸的重要组成部分。',
                    'O': '氧是维持生命必需的元素，支持燃烧和呼吸过程。',
                    'F': '氟是最活泼的非金属元素，用于牙膏和制冷剂。',
                    'Ne': '氖是惰性气体，常用于霓虹灯和激光器。'
                };
                
                return descriptions[element.symbol] || `${element.name}是周期表中的第${element.number}号元素。`;
            }

            getCategoryName(category) {
                const names = {
                    'alkali-metal': '碱金属',
                    'alkaline-earth': '碱土金属',
                    'transition-metal': '过渡金属',
                    'post-transition': '后过渡金属',
                    'metalloid': '类金属',
                    'nonmetal': '非金属',
                    'halogen': '卤素',
                    'noble-gas': '惰性气体',
                    'lanthanide': '镧系元素',
                    'actinide': '锕系元素'
                };
                return names[category] || category;
            }

            switchProperty(property) {
                // 更新按钮状态
                document.querySelectorAll('.property-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-property="${property}"]`).classList.add('active');

                this.currentProperty = property;
                this.updatePropertyDisplay();
            }

            updatePropertyDisplay() {
                // 根据当前属性更新元素显示
                if (this.currentProperty === 'category') {
                    // 默认按类别着色，已在CSS中定义
                    return;
                }

                // 为其他属性添加数值显示或颜色编码
                document.querySelectorAll('.element').forEach((elementDiv, index) => {
                    const element = this.elements.find(el => el.number === index + 1);
                    if (element && this.currentProperty !== 'category') {
                        const value = element[this.currentProperty.replace('-', '')];
                        if (value !== null && value !== undefined) {
                            // 可以在这里添加数值显示或颜色编码逻辑
                        }
                    }
                });
            }

            searchElement(query) {
                if (!query) {
                    // 清除搜索高亮
                    document.querySelectorAll('.element').forEach(el => {
                        el.style.opacity = '1';
                    });
                    return;
                }

                const searchTerm = query.toLowerCase();
                document.querySelectorAll('.element').forEach((elementDiv, index) => {
                    const element = this.elements.find(el => el.number === index + 1);
                    if (element) {
                        const matches = 
                            element.name.toLowerCase().includes(searchTerm) ||
                            element.symbol.toLowerCase().includes(searchTerm) ||
                            element.number.toString().includes(searchTerm);
                        
                        elementDiv.style.opacity = matches ? '1' : '0.3';
                        
                        if (matches && query.length > 1) {
                            this.selectElement(element);
                        }
                    }
                });
            }
        }

        // 初始化周期表
        document.addEventListener('DOMContentLoaded', () => {
            new PeriodicTable();
        });
    </script>
</body>
</html> 