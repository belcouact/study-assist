<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>物理公式参考 - 学习助手</title>
    <link rel="icon" href="../../assets/icons/logo_btrfly.ico" type="image/x-icon">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/utilities.css">
    <link rel="stylesheet" href="../../css/responsive.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        .formulas-page {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem 0;
        }

        .formulas-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            margin: 2rem auto;
            max-width: 1400px;
        }

        .formulas-header {
            background: linear-gradient(135deg, #4361ee, #7209b7);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .formulas-header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
        }

        .formulas-header p {
            margin: 1rem 0 0 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .formulas-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            overflow-x: auto;
        }

        .formulas-tab {
            flex: 1;
            min-width: 150px;
            padding: 1rem 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: #6c757d;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .formulas-tab.active {
            background: white;
            color: #4361ee;
            border-bottom: 3px solid #4361ee;
        }

        .formulas-tab:hover {
            background: rgba(67, 97, 238, 0.1);
            color: #4361ee;
        }

        .formulas-content {
            padding: 2rem;
            min-height: 600px;
        }

        .formula-panel {
            display: none;
        }

        .formula-panel.active {
            display: block;
        }

        .formula-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .formula-card {
            background: #fff;
            border: 1px solid #e9ecef;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .formula-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(67, 97, 238, 0.2);
            border-color: #4361ee;
        }

        .formula-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .formula-equation {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            text-align: center;
            font-size: 1.1rem;
            border-left: 4px solid #4361ee;
        }

        .formula-description {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .formula-variables {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .formula-variables h5 {
            margin: 0 0 0.5rem 0;
            color: #4361ee;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .variable-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .variable-list li {
            padding: 0.25rem 0;
            font-size: 0.85rem;
            color: #666;
        }

        .variable-list li strong {
            color: #333;
            margin-right: 0.5rem;
        }

        .formula-calculator {
            background: #e3f2fd;
            border-radius: 10px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .calculator-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: #1976d2;
            margin-bottom: 0.5rem;
        }

        .calculator-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .calculator-input {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.85rem;
        }

        .calculator-button {
            background: linear-gradient(135deg, #4361ee, #7209b7);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .calculator-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }

        .calculator-result {
            background: white;
            border-radius: 5px;
            padding: 0.75rem;
            margin-top: 0.5rem;
            font-weight: 600;
            color: #333;
            border-left: 4px solid #4caf50;
        }

        .search-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .search-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #4361ee;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }

        .formula-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .formula-tag {
            background: rgba(67, 97, 238, 0.1);
            color: #4361ee;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .units-info {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 0.75rem;
            margin-top: 1rem;
        }

        .units-info h6 {
            margin: 0 0 0.5rem 0;
            color: #856404;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .units-info p {
            margin: 0;
            font-size: 0.8rem;
            color: #856404;
        }

        @media (max-width: 768px) {
            .formula-grid {
                grid-template-columns: 1fr;
            }
            
            .formulas-tabs {
                flex-wrap: wrap;
            }
            
            .formulas-tab {
                min-width: 120px;
                font-size: 0.9rem;
            }
            
            .calculator-inputs {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="../../index.html">
                        <i class="fas fa-graduation-cap" style="background: linear-gradient(90deg, #4361ee, #7209b7); -webkit-background-clip: text; background-clip: text; color: transparent;"></i>
                        <span>Alex的学习助手</span>
                    </a>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="../../index.html">首页</a></li>
                        <li><a href="main.html">物理</a></li>
                        <li><a href="../../index.html#subjects">科目</a></li>
                        <li><a href="../../tts.html">语音</a></li>
                        <li><a href="../../draw.html">绘图</a></li>
                    </ul>
                </nav>
                <button class="mobile-menu-toggle" aria-label="切换菜单">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main class="formulas-page">
        <div class="container">
            <div class="formulas-container">
                <div class="formulas-header">
                    <h1><i class="fas fa-calculator"></i> 物理公式参考</h1>
                    <p>完整的物理公式库，包含计算器和详细说明</p>
                </div>

                <div class="formulas-tabs">
                    <button class="formulas-tab active" data-tab="mechanics">
                        <i class="fas fa-cogs"></i> 力学
                    </button>
                    <button class="formulas-tab" data-tab="thermodynamics">
                        <i class="fas fa-temperature-high"></i> 热力学
                    </button>
                    <button class="formulas-tab" data-tab="electromagnetism">
                        <i class="fas fa-bolt"></i> 电磁学
                    </button>
                    <button class="formulas-tab" data-tab="optics">
                        <i class="fas fa-glasses"></i> 光学
                    </button>
                    <button class="formulas-tab" data-tab="modern">
                        <i class="fas fa-atom"></i> 现代物理
                    </button>
                </div>

                <div class="formulas-content">
                    <div class="search-container">
                        <input type="text" class="search-input" id="formula-search" placeholder="搜索公式、概念或变量...">
                    </div>

                    <!-- 力学公式 -->
                    <div class="formula-panel active" id="mechanics-panel">
                        <div class="formula-grid">
                            <div class="formula-card" data-keywords="牛顿 力 质量 加速度">
                                <div class="formula-title">
                                    <i class="fas fa-arrows-alt"></i> 牛顿第二定律
                                </div>
                                <div class="formula-equation">
                                    $$\vec{F} = m\vec{a}$$
                                </div>
                                <div class="formula-description">
                                    物体所受合外力等于质量与加速度的乘积，是经典力学的基础定律。
                                </div>
                                <div class="formula-variables">
                                    <h5>变量说明：</h5>
                                    <ul class="variable-list">
                                        <li><strong>F:</strong> 合外力 (N)</li>
                                        <li><strong>m:</strong> 物体质量 (kg)</li>
                                        <li><strong>a:</strong> 加速度 (m/s²)</li>
                                    </ul>
                                </div>
                                <div class="formula-calculator">
                                    <div class="calculator-title">计算器</div>
                                    <div class="calculator-inputs">
                                        <input type="number" class="calculator-input" id="mass-1" placeholder="质量 (kg)">
                                        <input type="number" class="calculator-input" id="acceleration-1" placeholder="加速度 (m/s²)">
                                    </div>
                                    <button class="calculator-button" onclick="calculateForce()">计算力</button>
                                    <div class="calculator-result" id="force-result" style="display: none;"></div>
                                </div>
                                <div class="formula-tags">
                                    <span class="formula-tag">基础力学</span>
                                    <span class="formula-tag">牛顿定律</span>
                                </div>
                            </div>

                            <div class="formula-card" data-keywords="动能 速度 质量">
                                <div class="formula-title">
                                    <i class="fas fa-tachometer-alt"></i> 动能
                                </div>
                                <div class="formula-equation">
                                    $$E_k = \frac{1}{2}mv^2$$
                                </div>
                                <div class="formula-description">
                                    物体由于运动而具有的能量，与质量和速度的平方成正比。
                                </div>
                                <div class="formula-variables">
                                    <h5>变量说明：</h5>
                                    <ul class="variable-list">
                                        <li><strong>E_k:</strong> 动能 (J)</li>
                                        <li><strong>m:</strong> 物体质量 (kg)</li>
                                        <li><strong>v:</strong> 速度 (m/s)</li>
                                    </ul>
                                </div>
                                <div class="formula-calculator">
                                    <div class="calculator-title">计算器</div>
                                    <div class="calculator-inputs">
                                        <input type="number" class="calculator-input" id="mass-2" placeholder="质量 (kg)">
                                        <input type="number" class="calculator-input" id="velocity-2" placeholder="速度 (m/s)">
                                    </div>
                                    <button class="calculator-button" onclick="calculateKineticEnergy()">计算动能</button>
                                    <div class="calculator-result" id="kinetic-result" style="display: none;"></div>
                                </div>
                                <div class="formula-tags">
                                    <span class="formula-tag">能量</span>
                                    <span class="formula-tag">运动学</span>
                                </div>
                            </div>

                            <div class="formula-card" data-keywords="重力势能 高度 重力">
                                <div class="formula-title">
                                    <i class="fas fa-mountain"></i> 重力势能
                                </div>
                                <div class="formula-equation">
                                    $$E_p = mgh$$
                                </div>
                                <div class="formula-description">
                                    物体在重力场中由于位置而具有的能量。
                                </div>
                                <div class="formula-variables">
                                    <h5>变量说明：</h5>
                                    <ul class="variable-list">
                                        <li><strong>E_p:</strong> 重力势能 (J)</li>
                                        <li><strong>m:</strong> 物体质量 (kg)</li>
                                        <li><strong>g:</strong> 重力加速度 (9.8 m/s²)</li>
                                        <li><strong>h:</strong> 高度 (m)</li>
                                    </ul>
                                </div>
                                <div class="formula-calculator">
                                    <div class="calculator-title">计算器</div>
                                    <div class="calculator-inputs">
                                        <input type="number" class="calculator-input" id="mass-3" placeholder="质量 (kg)">
                                        <input type="number" class="calculator-input" id="height-3" placeholder="高度 (m)">
                                    </div>
                                    <button class="calculator-button" onclick="calculatePotentialEnergy()">计算势能</button>
                                    <div class="calculator-result" id="potential-result" style="display: none;"></div>
                                </div>
                                <div class="formula-tags">
                                    <span class="formula-tag">能量</span>
                                    <span class="formula-tag">重力</span>
                                </div>
                            </div>

                            <div class="formula-card" data-keywords="匀加速 位移 时间">
                                <div class="formula-title">
                                    <i class="fas fa-route"></i> 匀加速运动位移
                                </div>
                                <div class="formula-equation">
                                    $$s = v_0t + \frac{1}{2}at^2$$
                                </div>
                                <div class="formula-description">
                                    匀加速直线运动中位移与时间的关系。
                                </div>
                                <div class="formula-variables">
                                    <h5>变量说明：</h5>
                                    <ul class="variable-list">
                                        <li><strong>s:</strong> 位移 (m)</li>
                                        <li><strong>v₀:</strong> 初始速度 (m/s)</li>
                                        <li><strong>t:</strong> 时间 (s)</li>
                                        <li><strong>a:</strong> 加速度 (m/s²)</li>
                                    </ul>
                                </div>
                                <div class="formula-calculator">
                                    <div class="calculator-title">计算器</div>
                                    <div class="calculator-inputs">
                                        <input type="number" class="calculator-input" id="v0-4" placeholder="初速度 (m/s)">
                                        <input type="number" class="calculator-input" id="time-4" placeholder="时间 (s)">
                                        <input type="number" class="calculator-input" id="acceleration-4" placeholder="加速度 (m/s²)">
                                    </div>
                                    <button class="calculator-button" onclick="calculateDisplacement()">计算位移</button>
                                    <div class="calculator-result" id="displacement-result" style="display: none;"></div>
                                </div>
                                <div class="formula-tags">
                                    <span class="formula-tag">运动学</span>
                                    <span class="formula-tag">匀加速</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 热力学公式 -->
                    <div class="formula-panel" id="thermodynamics-panel">
                        <div class="formula-grid">
                            <div class="formula-card" data-keywords="理想气体 压强 体积 温度">
                                <div class="formula-title">
                                    <i class="fas fa-thermometer-half"></i> 理想气体状态方程
                                </div>
                                <div class="formula-equation">
                                    $$PV = nRT$$
                                </div>
                                <div class="formula-description">
                                    描述理想气体压强、体积、温度和物质的量之间关系的状态方程。
                                </div>
                                <div class="formula-variables">
                                    <h5>变量说明：</h5>
                                    <ul class="variable-list">
                                        <li><strong>P:</strong> 压强 (Pa)</li>
                                        <li><strong>V:</strong> 体积 (m³)</li>
                                        <li><strong>n:</strong> 物质的量 (mol)</li>
                                        <li><strong>R:</strong> 气体常数 (8.314 J/(mol·K))</li>
                                        <li><strong>T:</strong> 绝对温度 (K)</li>
                                    </ul>
                                </div>
                                <div class="formula-calculator">
                                    <div class="calculator-title">计算器</div>
                                    <div class="calculator-inputs">
                                        <input type="number" class="calculator-input" id="pressure-5" placeholder="压强 (Pa)">
                                        <input type="number" class="calculator-input" id="volume-5" placeholder="体积 (m³)">
                                        <input type="number" class="calculator-input" id="moles-5" placeholder="物质的量 (mol)">
                                    </div>
                                    <button class="calculator-button" onclick="calculateTemperature()">计算温度</button>
                                    <div class="calculator-result" id="temperature-result" style="display: none;"></div>
                                </div>
                                <div class="formula-tags">
                                    <span class="formula-tag">理想气体</span>
                                    <span class="formula-tag">状态方程</span>
                                </div>
                            </div>

                            <div class="formula-card" data-keywords="热量 比热容 温度变化">
                                <div class="formula-title">
                                    <i class="fas fa-fire"></i> 热量计算
                                </div>
                                <div class="formula-equation">
                                    $$Q = mc\Delta T$$
                                </div>
                                <div class="formula-description">
                                    物体吸收或放出的热量与质量、比热容和温度变化的关系。
                                </div>
                                <div class="formula-variables">
                                    <h5>变量说明：</h5>
                                    <ul class="variable-list">
                                        <li><strong>Q:</strong> 热量 (J)</li>
                                        <li><strong>m:</strong> 质量 (kg)</li>
                                        <li><strong>c:</strong> 比热容 (J/(kg·K))</li>
                                        <li><strong>ΔT:</strong> 温度变化 (K)</li>
                                    </ul>
                                </div>
                                <div class="formula-calculator">
                                    <div class="calculator-title">计算器</div>
                                    <div class="calculator-inputs">
                                        <input type="number" class="calculator-input" id="mass-6" placeholder="质量 (kg)">
                                        <input type="number" class="calculator-input" id="specific-heat-6" placeholder="比热容 (J/(kg·K))">
                                        <input type="number" class="calculator-input" id="temp-change-6" placeholder="温度变化 (K)">
                                    </div>
                                    <button class="calculator-button" onclick="calculateHeat()">计算热量</button>
                                    <div class="calculator-result" id="heat-result" style="display: none;"></div>
                                </div>
                                <div class="formula-tags">
                                    <span class="formula-tag">热量</span>
                                    <span class="formula-tag">比热容</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 电磁学公式 -->
                    <div class="formula-panel" id="electromagnetism-panel">
                        <div class="formula-grid">
                            <div class="formula-card" data-keywords="欧姆定律 电压 电流 电阻">
                                <div class="formula-title">
                                    <i class="fas fa-bolt"></i> 欧姆定律
                                </div>
                                <div class="formula-equation">
                                    $$V = IR$$
                                </div>
                                <div class="formula-description">
                                    在恒定温度下，导体中的电流与电压成正比，与电阻成反比。
                                </div>
                                <div class="formula-variables">
                                    <h5>变量说明：</h5>
                                    <ul class="variable-list">
                                        <li><strong>V:</strong> 电压 (V)</li>
                                        <li><strong>I:</strong> 电流 (A)</li>
                                        <li><strong>R:</strong> 电阻 (Ω)</li>
                                    </ul>
                                </div>
                                <div class="formula-calculator">
                                    <div class="calculator-title">计算器</div>
                                    <div class="calculator-inputs">
                                        <input type="number" class="calculator-input" id="current-7" placeholder="电流 (A)">
                                        <input type="number" class="calculator-input" id="resistance-7" placeholder="电阻 (Ω)">
                                    </div>
                                    <button class="calculator-button" onclick="calculateVoltage()">计算电压</button>
                                    <div class="calculator-result" id="voltage-result" style="display: none;"></div>
                                </div>
                                <div class="formula-tags">
                                    <span class="formula-tag">电路</span>
                                    <span class="formula-tag">基础电学</span>
                                </div>
                            </div>

                            <div class="formula-card" data-keywords="库仑定律 电荷 距离 电力">
                                <div class="formula-title">
                                    <i class="fas fa-atom"></i> 库仑定律
                                </div>
                                <div class="formula-equation">
                                    $$F = k\frac{q_1 q_2}{r^2}$$
                                </div>
                                <div class="formula-description">
                                    两个点电荷之间的相互作用力与电荷量的乘积成正比，与距离的平方成反比。
                                </div>
                                <div class="formula-variables">
                                    <h5>变量说明：</h5>
                                    <ul class="variable-list">
                                        <li><strong>F:</strong> 电力 (N)</li>
                                        <li><strong>k:</strong> 库仑常数 (8.99×10⁹ N·m²/C²)</li>
                                        <li><strong>q₁, q₂:</strong> 电荷量 (C)</li>
                                        <li><strong>r:</strong> 距离 (m)</li>
                                    </ul>
                                </div>
                                <div class="formula-calculator">
                                    <div class="calculator-title">计算器</div>
                                    <div class="calculator-inputs">
                                        <input type="number" class="calculator-input" id="charge1-8" placeholder="电荷1 (C)">
                                        <input type="number" class="calculator-input" id="charge2-8" placeholder="电荷2 (C)">
                                        <input type="number" class="calculator-input" id="distance-8" placeholder="距离 (m)">
                                    </div>
                                    <button class="calculator-button" onclick="calculateCoulombForce()">计算电力</button>
                                    <div class="calculator-result" id="coulomb-result" style="display: none;"></div>
                                </div>
                                <div class="formula-tags">
                                    <span class="formula-tag">静电学</span>
                                    <span class="formula-tag">电荷</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 光学公式 -->
                    <div class="formula-panel" id="optics-panel">
                        <div class="formula-grid">
                            <div class="formula-card" data-keywords="斯涅尔定律 折射 入射角">
                                <div class="formula-title">
                                    <i class="fas fa-glasses"></i> 斯涅尔定律
                                </div>
                                <div class="formula-equation">
                                    $$n_1 \sin\theta_1 = n_2 \sin\theta_2$$
                                </div>
                                <div class="formula-description">
                                    光线在两种介质界面发生折射时，入射角和折射角的正弦值与折射率的关系。
                                </div>
                                <div class="formula-variables">
                                    <h5>变量说明：</h5>
                                    <ul class="variable-list">
                                        <li><strong>n₁, n₂:</strong> 两种介质的折射率</li>
                                        <li><strong>θ₁:</strong> 入射角 (°)</li>
                                        <li><strong>θ₂:</strong> 折射角 (°)</li>
                                    </ul>
                                </div>
                                <div class="formula-calculator">
                                    <div class="calculator-title">计算器</div>
                                    <div class="calculator-inputs">
                                        <input type="number" class="calculator-input" id="n1-9" placeholder="折射率1">
                                        <input type="number" class="calculator-input" id="angle1-9" placeholder="入射角 (°)">
                                        <input type="number" class="calculator-input" id="n2-9" placeholder="折射率2">
                                    </div>
                                    <button class="calculator-button" onclick="calculateRefraction()">计算折射角</button>
                                    <div class="calculator-result" id="refraction-result" style="display: none;"></div>
                                </div>
                                <div class="formula-tags">
                                    <span class="formula-tag">几何光学</span>
                                    <span class="formula-tag">折射</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 现代物理公式 -->
                    <div class="formula-panel" id="modern-panel">
                        <div class="formula-grid">
                            <div class="formula-card" data-keywords="爱因斯坦 质能方程 相对论">
                                <div class="formula-title">
                                    <i class="fas fa-atom"></i> 质能方程
                                </div>
                                <div class="formula-equation">
                                    $$E = mc^2$$
                                </div>
                                <div class="formula-description">
                                    爱因斯坦的著名方程，表明质量和能量之间的等价关系。
                                </div>
                                <div class="formula-variables">
                                    <h5>变量说明：</h5>
                                    <ul class="variable-list">
                                        <li><strong>E:</strong> 能量 (J)</li>
                                        <li><strong>m:</strong> 质量 (kg)</li>
                                        <li><strong>c:</strong> 光速 (3×10⁸ m/s)</li>
                                    </ul>
                                </div>
                                <div class="formula-calculator">
                                    <div class="calculator-title">计算器</div>
                                    <div class="calculator-inputs">
                                        <input type="number" class="calculator-input" id="mass-10" placeholder="质量 (kg)">
                                    </div>
                                    <button class="calculator-button" onclick="calculateMassEnergy()">计算能量</button>
                                    <div class="calculator-result" id="mass-energy-result" style="display: none;"></div>
                                </div>
                                <div class="formula-tags">
                                    <span class="formula-tag">相对论</span>
                                    <span class="formula-tag">质能关系</span>
                                </div>
                            </div>

                            <div class="formula-card" data-keywords="普朗克 光子 能量 频率">
                                <div class="formula-title">
                                    <i class="fas fa-lightbulb"></i> 普朗克方程
                                </div>
                                <div class="formula-equation">
                                    $$E = hf$$
                                </div>
                                <div class="formula-description">
                                    光子的能量与其频率成正比，是量子力学的基础方程之一。
                                </div>
                                <div class="formula-variables">
                                    <h5>变量说明：</h5>
                                    <ul class="variable-list">
                                        <li><strong>E:</strong> 光子能量 (J)</li>
                                        <li><strong>h:</strong> 普朗克常数 (6.626×10⁻³⁴ J·s)</li>
                                        <li><strong>f:</strong> 频率 (Hz)</li>
                                    </ul>
                                </div>
                                <div class="formula-calculator">
                                    <div class="calculator-title">计算器</div>
                                    <div class="calculator-inputs">
                                        <input type="number" class="calculator-input" id="frequency-11" placeholder="频率 (Hz)">
                                    </div>
                                    <button class="calculator-button" onclick="calculatePhotonEnergy()">计算光子能量</button>
                                    <div class="calculator-result" id="photon-result" style="display: none;"></div>
                                </div>
                                <div class="formula-tags">
                                    <span class="formula-tag">量子力学</span>
                                    <span class="formula-tag">光子</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <p class="copyright-text">study-llm.me域名为Alex所有。保留所有权利。</p>
            </div>
        </div>
    </footer>

    <script src="../../js/common.js"></script>
    <script src="../../js/navigation.js"></script>
    <script>
        // 物理公式参考功能
        class PhysicsFormulas {
            constructor() {
                this.currentTab = 'mechanics';
                this.initializeEventListeners();
                this.initializeMathJax();
            }

            initializeEventListeners() {
                // 标签切换
                document.querySelectorAll('.formulas-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        this.switchTab(e.target.dataset.tab);
                    });
                });

                // 搜索功能
                document.getElementById('formula-search').addEventListener('input', (e) => {
                    this.searchFormulas(e.target.value);
                });
            }

            initializeMathJax() {
                if (window.MathJax) {
                    MathJax.typesetPromise();
                }
            }

            switchTab(tabName) {
                // 更新标签状态
                document.querySelectorAll('.formulas-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');

                // 更新面板显示
                document.querySelectorAll('.formula-panel').forEach(panel => {
                    panel.classList.remove('active');
                });
                document.getElementById(`${tabName}-panel`).classList.add('active');

                this.currentTab = tabName;

                // 重新渲染数学公式
                setTimeout(() => {
                    if (window.MathJax) {
                        MathJax.typesetPromise();
                    }
                }, 100);
            }

            searchFormulas(query) {
                const cards = document.querySelectorAll('.formula-card');
                const searchTerm = query.toLowerCase();

                cards.forEach(card => {
                    const title = card.querySelector('.formula-title').textContent.toLowerCase();
                    const description = card.querySelector('.formula-description').textContent.toLowerCase();
                    const keywords = card.dataset.keywords ? card.dataset.keywords.toLowerCase() : '';
                    const variables = card.querySelector('.variable-list').textContent.toLowerCase();

                    const isMatch = title.includes(searchTerm) || 
                                  description.includes(searchTerm) || 
                                  keywords.includes(searchTerm) ||
                                  variables.includes(searchTerm);

                    card.style.display = isMatch ? 'block' : 'none';
                });
            }
        }

        // 计算器函数
        function calculateForce() {
            const mass = parseFloat(document.getElementById('mass-1').value);
            const acceleration = parseFloat(document.getElementById('acceleration-1').value);
            
            if (isNaN(mass) || isNaN(acceleration)) {
                alert('请输入有效的数值');
                return;
            }
            
            const force = mass * acceleration;
            const result = document.getElementById('force-result');
            result.innerHTML = `合外力 = ${force.toFixed(2)} N`;
            result.style.display = 'block';
        }

        function calculateKineticEnergy() {
            const mass = parseFloat(document.getElementById('mass-2').value);
            const velocity = parseFloat(document.getElementById('velocity-2').value);
            
            if (isNaN(mass) || isNaN(velocity)) {
                alert('请输入有效的数值');
                return;
            }
            
            const kineticEnergy = 0.5 * mass * velocity * velocity;
            const result = document.getElementById('kinetic-result');
            result.innerHTML = `动能 = ${kineticEnergy.toFixed(2)} J`;
            result.style.display = 'block';
        }

        function calculatePotentialEnergy() {
            const mass = parseFloat(document.getElementById('mass-3').value);
            const height = parseFloat(document.getElementById('height-3').value);
            const g = 9.8;
            
            if (isNaN(mass) || isNaN(height)) {
                alert('请输入有效的数值');
                return;
            }
            
            const potentialEnergy = mass * g * height;
            const result = document.getElementById('potential-result');
            result.innerHTML = `重力势能 = ${potentialEnergy.toFixed(2)} J`;
            result.style.display = 'block';
        }

        function calculateDisplacement() {
            const v0 = parseFloat(document.getElementById('v0-4').value);
            const time = parseFloat(document.getElementById('time-4').value);
            const acceleration = parseFloat(document.getElementById('acceleration-4').value);
            
            if (isNaN(v0) || isNaN(time) || isNaN(acceleration)) {
                alert('请输入有效的数值');
                return;
            }
            
            const displacement = v0 * time + 0.5 * acceleration * time * time;
            const result = document.getElementById('displacement-result');
            result.innerHTML = `位移 = ${displacement.toFixed(2)} m`;
            result.style.display = 'block';
        }

        function calculateTemperature() {
            const pressure = parseFloat(document.getElementById('pressure-5').value);
            const volume = parseFloat(document.getElementById('volume-5').value);
            const moles = parseFloat(document.getElementById('moles-5').value);
            const R = 8.314;
            
            if (isNaN(pressure) || isNaN(volume) || isNaN(moles)) {
                alert('请输入有效的数值');
                return;
            }
            
            const temperature = (pressure * volume) / (moles * R);
            const result = document.getElementById('temperature-result');
            result.innerHTML = `温度 = ${temperature.toFixed(2)} K (${(temperature - 273.15).toFixed(2)} °C)`;
            result.style.display = 'block';
        }

        function calculateHeat() {
            const mass = parseFloat(document.getElementById('mass-6').value);
            const specificHeat = parseFloat(document.getElementById('specific-heat-6').value);
            const tempChange = parseFloat(document.getElementById('temp-change-6').value);
            
            if (isNaN(mass) || isNaN(specificHeat) || isNaN(tempChange)) {
                alert('请输入有效的数值');
                return;
            }
            
            const heat = mass * specificHeat * tempChange;
            const result = document.getElementById('heat-result');
            result.innerHTML = `热量 = ${heat.toFixed(2)} J`;
            result.style.display = 'block';
        }

        function calculateVoltage() {
            const current = parseFloat(document.getElementById('current-7').value);
            const resistance = parseFloat(document.getElementById('resistance-7').value);
            
            if (isNaN(current) || isNaN(resistance)) {
                alert('请输入有效的数值');
                return;
            }
            
            const voltage = current * resistance;
            const result = document.getElementById('voltage-result');
            result.innerHTML = `电压 = ${voltage.toFixed(2)} V`;
            result.style.display = 'block';
        }

        function calculateCoulombForce() {
            const charge1 = parseFloat(document.getElementById('charge1-8').value);
            const charge2 = parseFloat(document.getElementById('charge2-8').value);
            const distance = parseFloat(document.getElementById('distance-8').value);
            const k = 8.99e9;
            
            if (isNaN(charge1) || isNaN(charge2) || isNaN(distance)) {
                alert('请输入有效的数值');
                return;
            }
            
            const force = k * Math.abs(charge1 * charge2) / (distance * distance);
            const result = document.getElementById('coulomb-result');
            result.innerHTML = `电力 = ${force.toExponential(2)} N`;
            result.style.display = 'block';
        }

        function calculateRefraction() {
            const n1 = parseFloat(document.getElementById('n1-9').value);
            const angle1 = parseFloat(document.getElementById('angle1-9').value);
            const n2 = parseFloat(document.getElementById('n2-9').value);
            
            if (isNaN(n1) || isNaN(angle1) || isNaN(n2)) {
                alert('请输入有效的数值');
                return;
            }
            
            const angle1Rad = angle1 * Math.PI / 180;
            const sinAngle2 = (n1 * Math.sin(angle1Rad)) / n2;
            
            if (Math.abs(sinAngle2) > 1) {
                const result = document.getElementById('refraction-result');
                result.innerHTML = '发生全反射！';
                result.style.display = 'block';
                return;
            }
            
            const angle2 = Math.asin(sinAngle2) * 180 / Math.PI;
            const result = document.getElementById('refraction-result');
            result.innerHTML = `折射角 = ${angle2.toFixed(2)}°`;
            result.style.display = 'block';
        }

        function calculateMassEnergy() {
            const mass = parseFloat(document.getElementById('mass-10').value);
            const c = 3e8;
            
            if (isNaN(mass)) {
                alert('请输入有效的数值');
                return;
            }
            
            const energy = mass * c * c;
            const result = document.getElementById('mass-energy-result');
            result.innerHTML = `能量 = ${energy.toExponential(2)} J`;
            result.style.display = 'block';
        }

        function calculatePhotonEnergy() {
            const frequency = parseFloat(document.getElementById('frequency-11').value);
            const h = 6.626e-34;
            
            if (isNaN(frequency)) {
                alert('请输入有效的数值');
                return;
            }
            
            const energy = h * frequency;
            const result = document.getElementById('photon-result');
            result.innerHTML = `光子能量 = ${energy.toExponential(2)} J`;
            result.style.display = 'block';
        }

        // 初始化公式参考
        document.addEventListener('DOMContentLoaded', () => {
            new PhysicsFormulas();
        });
    </script>
</body>
</html> 