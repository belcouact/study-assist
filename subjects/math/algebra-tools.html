<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>代数工具 - 数学学习助手</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .algebra-workspace {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .tool-tabs {
            background: #f8f9fa;
            padding: 0;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            overflow-x: auto;
        }

        .tab-btn {
            padding: 15px 25px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            color: #495057;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tab-btn:hover {
            background: #e9ecef;
            color: #007bff;
        }

        .tab-btn.active {
            color: #007bff;
            border-bottom-color: #007bff;
            background: white;
        }

        .tool-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .tool-section {
            display: none;
        }

        .tool-section.active {
            display: block;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }

        .input-field {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #545b62;
        }

        .result-area {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            min-height: 100px;
        }

        .result-area h4 {
            color: #007bff;
            margin-bottom: 15px;
        }

        .step-by-step {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border-left: 4px solid #28a745;
        }

        .step {
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .step:last-child {
            border-bottom: none;
        }

        .step-number {
            display: inline-block;
            background: #007bff;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            text-align: center;
            line-height: 25px;
            font-size: 12px;
            font-weight: bold;
            margin-right: 10px;
        }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .example-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid #17a2b8;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .example-card:hover {
            background: #e9ecef;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .example-card h5 {
            color: #17a2b8;
            margin-bottom: 8px;
        }

        .example-card .equation {
            font-family: 'Courier New', monospace;
            background: white;
            padding: 8px;
            border-radius: 4px;
            margin: 8px 0;
        }

        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.9);
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .back-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 10px 15px;
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid #f5c6cb;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 10px 15px;
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid #c3e6cb;
        }

        .formula-display {
            font-family: 'Times New Roman', serif;
            font-size: 18px;
            text-align: center;
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border: 2px solid #e9ecef;
        }

        .graph-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid #e9ecef;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @media (max-width: 1024px) {
            .container {
                padding: 15px;
            }
            
            .algebra-workspace {
                margin-top: 10px;
            }
            
            .tool-content {
                padding: 20px;
            }
            
            .examples-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 2rem;
            }
            
            .header p {
                font-size: 1rem;
            }

            .tool-tabs {
                flex-direction: column;
                padding: 0;
            }

            .tab-btn {
                text-align: center;
                border-bottom: 1px solid #e9ecef;
                border-right: none;
                padding: 12px 20px;
                font-size: 14px;
            }

            .tab-btn.active {
                border-bottom: 1px solid #007bff;
                border-right: none;
            }

            .tool-content {
                padding: 15px;
            }

            .examples-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .input-field {
                font-size: 16px; /* Prevents zoom on iOS */
            }
            
            .btn {
                width: 100%;
                justify-content: center;
                margin-bottom: 10px;
            }
            
            .variable-input {
                flex-direction: column;
                gap: 8px;
            }
            
            .variable-input input {
                width: 100%;
            }
            
            .concept-cards {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .back-btn {
                position: static;
                margin-bottom: 10px;
                width: calc(100% - 20px);
                margin-left: 10px;
                margin-right: 10px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 5px;
            }
            
            .header {
                margin-bottom: 15px;
            }

            .header h1 {
                font-size: 1.5rem;
            }
            
            .tool-content {
                padding: 10px;
            }
            
            .result-area {
                padding: 15px;
            }
            
            .step-by-step {
                padding: 10px;
            }
            
            .formula-display {
                font-size: 16px;
                padding: 10px;
            }
            
            .graph-container {
                padding: 10px;
                min-height: 200px;
            }
        }

        /* Touch-friendly enhancements */
        @media (hover: none) and (pointer: coarse) {
            .tab-btn {
                min-height: 44px; /* Minimum touch target size */
            }
            
            .btn {
                min-height: 44px;
                padding: 12px 20px;
            }
            
            .input-field {
                min-height: 44px;
                padding: 12px 15px;
            }
            
            .example-card:hover {
                transform: none; /* Disable hover effects on touch devices */
            }
            
            .btn-primary:hover {
                transform: none;
            }
        }

        .variable-input {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
        }

        .variable-input input {
            flex: 1;
            padding: 8px 12px;
            border: 2px solid #dee2e6;
            border-radius: 6px;
        }

        .variable-input button {
            padding: 8px 12px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .add-variable-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 10px;
        }

        /* New styles for enhanced content */
        .learning-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
        }

        .learning-section h3 {
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .concept-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .concept-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .concept-card:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }

        .concept-card h4 {
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .concept-card p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .interactive-demo {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            border: 2px solid #e9ecef;
        }

        .demo-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .demo-slider {
            flex: 1;
            min-width: 150px;
        }

        .demo-slider label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .demo-slider input[type="range"] {
            width: 100%;
            margin-bottom: 0.5rem;
        }

        .demo-value {
            text-align: center;
            font-weight: bold;
            color: #007bff;
        }

        .visual-equation {
            background: white;
            border: 2px solid #007bff;
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            font-size: 1.5rem;
            font-family: 'Times New Roman', serif;
            margin: 1rem 0;
        }

        .tips-section {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .tips-section h4 {
            color: #856404;
            margin-bottom: 1rem;
        }

        .tip-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 0.8rem;
            gap: 0.5rem;
        }

        .tip-icon {
            background: #ffc107;
            color: #856404;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .practice-problems {
            background: #e7f3ff;
            border: 2px solid #b3d9ff;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .practice-problems h4 {
            color: #0056b3;
            margin-bottom: 1rem;
        }

        .problem-item {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 4px solid #007bff;
        }

        .problem-question {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .problem-answer {
            display: none;
            background: #f8f9fa;
            padding: 0.8rem;
            border-radius: 6px;
            margin-top: 0.5rem;
            border-left: 3px solid #28a745;
        }

        .show-answer-btn {
            background: #17a2b8;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .show-answer-btn:hover {
            background: #138496;
        }

        .real-world-examples {
            background: #f0f8f0;
            border: 2px solid #c3e6cb;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .real-world-examples h4 {
            color: #155724;
            margin-bottom: 1rem;
        }

        .example-scenario {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 4px solid #28a745;
        }

        .scenario-title {
            font-weight: 600;
            color: #155724;
            margin-bottom: 0.5rem;
        }

        .scenario-description {
            font-size: 0.95rem;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <button class="back-btn" onclick="window.location.href='main.html'">← 返回数学主页</button>
    
    <div class="container">
        <div class="header">
            <h1>🧮 代数工具与学习中心</h1>
            <p>全面的代数学习平台 - 涵盖初中到高中所有代数知识点，包括交互式工具、概念讲解、练习题和实际应用</p>
        </div>

        <div class="algebra-workspace">
            <div class="tool-tabs">
                <button class="tab-btn active" data-tab="algebra-basics">
                    <span>📚</span> 代数基础
                </button>
                <button class="tab-btn" data-tab="linear-equations">
                    <span>📐</span> 线性方程与不等式
                </button>
                <button class="tab-btn" data-tab="quadratic-functions">
                    <span>📊</span> 二次函数与方程
                </button>
                <button class="tab-btn" data-tab="polynomials">
                    <span>🔢</span> 多项式运算
                </button>
                <button class="tab-btn" data-tab="rational-expressions">
                    <span>➗</span> 有理表达式
                </button>
                <button class="tab-btn" data-tab="radical-expressions">
                    <span>√</span> 根式与指数
                </button>
                <button class="tab-btn" data-tab="systems-equations">
                    <span>⚖️</span> 方程组
                </button>
                <button class="tab-btn" data-tab="functions">
                    <span>📈</span> 函数概念
                </button>
                <button class="tab-btn" data-tab="exponential-logarithmic">
                    <span>📉</span> 指数与对数
                </button>
                <button class="tab-btn" data-tab="sequences-series">
                    <span>🔄</span> 数列与级数
                </button>
                <button class="tab-btn" data-tab="matrices">
                    <span>🔲</span> 矩阵运算
                </button>
                <button class="tab-btn" data-tab="calculator">
                    <span>🧮</span> 科学计算器
                </button>
            </div>

            <div class="tool-content">
                <!-- 代数基础 -->
                <div class="tool-section active" id="algebra-basics">
                    <h3>代数基础知识</h3>
                    <p>代数是数学的重要分支，学习用字母表示数，建立方程和不等式来解决实际问题</p>
                    
                    <!-- Learning Section -->
                    <div class="learning-section">
                        <h3>🎓 代数基本概念</h3>
                        <p>代数学习从理解变量、常数、代数表达式开始，这些是所有代数运算的基础。</p>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>变量与常数</h4>
                                <p>变量用字母表示未知数或可变的量，常数是固定不变的数值。如：在 3x + 5 中，x是变量，3和5是常数。</p>
                            </div>
                            <div class="concept-card">
                                <h4>代数表达式</h4>
                                <p>由数字、变量和运算符号组成的式子。如：2x + 3y - 5，包含项、系数、同类项等概念。</p>
                            </div>
                            <div class="concept-card">
                                <h4>运算法则</h4>
                                <p>加法交换律、结合律，乘法分配律等。这些法则是代数运算的基础规则。</p>
                            </div>
                            <div class="concept-card">
                                <h4>代数式的值</h4>
                                <p>将变量的值代入代数式计算结果。如：当x=2时，3x+1=3×2+1=7。</p>
                            </div>
                        </div>
                    </div>

                    <!-- Interactive Demo -->
                    <div class="interactive-demo">
                        <h4>🎮 代数表达式计算器</h4>
                        <p>输入代数表达式和变量值，计算表达式的值</p>
                        <div class="input-group">
                            <label>代数表达式 (如: 3*x + 2*y - 5)</label>
                            <input type="text" id="expression-input" class="input-field" placeholder="3*x + 2*y - 5" value="3*x + 2*y - 5">
                        </div>
                        <div class="demo-controls">
                            <div class="demo-slider">
                                <label>变量 x 的值:</label>
                                <input type="range" id="var-x" min="-10" max="10" value="2" step="0.1" oninput="calculateExpression()">
                                <div class="demo-value" id="value-x">2</div>
                            </div>
                            <div class="demo-slider">
                                <label>变量 y 的值:</label>
                                <input type="range" id="var-y" min="-10" max="10" value="1" step="0.1" oninput="calculateExpression()">
                                <div class="demo-value" id="value-y">1</div>
                            </div>
                        </div>
                        <div class="visual-equation" id="expression-result">当 x=2, y=1 时，3x + 2y - 5 = 3</div>
                    </div>

                    <!-- Tips Section -->
                    <div class="tips-section">
                        <h4>💡 学习技巧</h4>
                        <div class="tip-item">
                            <div class="tip-icon">1</div>
                            <div>理解变量的含义：变量是可以变化的量，用字母表示</div>
                        </div>
                        <div class="tip-item">
                            <div class="tip-icon">2</div>
                            <div>掌握同类项：含有相同变量且变量指数相同的项</div>
                        </div>
                        <div class="tip-item">
                            <div class="tip-icon">3</div>
                            <div>运算顺序：先算括号，再算乘除，最后算加减</div>
                        </div>
                        <div class="tip-item">
                            <div class="tip-icon">4</div>
                            <div>分配律的应用：a(b+c) = ab + ac</div>
                        </div>
                        <div class="tip-item">
                            <div class="tip-icon">5</div>
                            <div>多练习代入求值，培养数感</div>
                        </div>
                    </div>

                    <!-- Practice Problems -->
                    <div class="practice-problems">
                        <h4>🏋️ 基础练习题</h4>
                        <div class="problem-item">
                            <div class="problem-question">1. 当 x = 3 时，求 2x + 5 的值</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                2x + 5 = 2 × 3 + 5 = 6 + 5 = 11
                            </div>
                        </div>
                        <div class="problem-item">
                            <div class="problem-question">2. 化简：3x + 2x - x</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                3x + 2x - x = (3 + 2 - 1)x = 4x
                            </div>
                        </div>
                        <div class="problem-item">
                            <div class="problem-question">3. 展开：3(x + 2)</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                3(x + 2) = 3x + 3 × 2 = 3x + 6
                            </div>
                        </div>
                        <div class="problem-item">
                            <div class="problem-question">4. 当 a = 2, b = -1 时，求 a² + 2ab + b² 的值</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                a² + 2ab + b² = 2² + 2×2×(-1) + (-1)²<br>
                                = 4 - 4 + 1 = 1
                            </div>
                        </div>
                    </div>

                    <!-- Real World Examples -->
                    <div class="real-world-examples">
                        <h4>🌍 生活中的代数</h4>
                        <div class="example-scenario">
                            <div class="scenario-title">🛒 购物计算</div>
                            <div class="scenario-description">
                                小明买了x个苹果，每个3元，又买了y个橙子，每个2元。总花费可以表示为：3x + 2y 元。
                                如果买了5个苹果和3个橙子，总花费 = 3×5 + 2×3 = 21元。
                            </div>
                        </div>
                        <div class="example-scenario">
                            <div class="scenario-title">🏃 运动计算</div>
                            <div class="scenario-description">
                                小红每天跑步t分钟，每分钟跑200米。一周跑步的总距离可以表示为：200t × 7 = 1400t 米。
                                如果每天跑30分钟，一周总距离 = 1400×30 = 42000米 = 42公里。
                            </div>
                        </div>
                        <div class="example-scenario">
                            <div class="scenario-title">💰 储蓄计算</div>
                            <div class="scenario-description">
                                小李每月存钱m元，存了n个月。总存款可以表示为：mn 元。
                                如果每月存500元，存了12个月，总存款 = 500×12 = 6000元。
                            </div>
                        </div>
                    </div>

                    <!-- Grade Level Progression -->
                    <div class="learning-section">
                        <h3>📊 年级学习进度</h3>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>7年级 (初一)</h4>
                                <p>• 有理数运算<br>• 代数式的概念<br>• 同类项合并<br>• 简单的一元一次方程</p>
                            </div>
                            <div class="concept-card">
                                <h4>8年级 (初二)</h4>
                                <p>• 整式的乘除<br>• 因式分解基础<br>• 分式运算<br>• 一元二次方程</p>
                            </div>
                            <div class="concept-card">
                                <h4>9年级 (初三)</h4>
                                <p>• 二次函数<br>• 反比例函数<br>• 相似三角形<br>• 圆的性质</p>
                            </div>
                            <div class="concept-card">
                                <h4>高中阶段</h4>
                                <p>• 函数与方程<br>• 不等式<br>• 数列<br>• 三角函数<br>• 导数与积分</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 线性方程与不等式 -->
                <div class="tool-section" id="linear-equations">
                    <h3>线性方程与不等式</h3>
                    <p>掌握一元一次方程、一元一次不等式的求解方法和应用</p>
                    
                    <!-- Learning Section -->
                    <div class="learning-section">
                        <h3>🎓 线性方程基础知识</h3>
                        <p>线性方程是代数学习的基础，理解其求解原理对后续学习至关重要。</p>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>一元一次方程</h4>
                                <p>形如 ax + b = 0 (a≠0) 的方程。解法：移项、合并同类项、系数化为1。</p>
                            </div>
                            <div class="concept-card">
                                <h4>一元一次不等式</h4>
                                <p>形如 ax + b > 0 的不等式。注意：两边同乘负数时不等号要变向。</p>
                            </div>
                            <div class="concept-card">
                                <h4>不等式组</h4>
                                <p>多个不等式的组合，解集是各不等式解集的交集。</p>
                            </div>
                            <div class="concept-card">
                                <h4>绝对值方程</h4>
                                <p>含有绝对值的方程，需要分情况讨论去掉绝对值符号。</p>
                            </div>
                        </div>
                    </div>

                    <!-- Interactive Demo -->
                    <div class="interactive-demo">
                        <h4>🎮 一元一次方程求解演示</h4>
                        <p>观察方程 ax + b = c 的求解过程</p>
                        <div class="demo-controls">
                            <div class="demo-slider">
                                <label>系数 a:</label>
                                <input type="range" id="linear-a" min="1" max="10" value="3" step="1" oninput="updateLinearDemo()">
                                <div class="demo-value" id="linear-value-a">3</div>
                            </div>
                            <div class="demo-slider">
                                <label>常数 b:</label>
                                <input type="range" id="linear-b" min="-10" max="10" value="2" step="1" oninput="updateLinearDemo()">
                                <div class="demo-value" id="linear-value-b">2</div>
                            </div>
                            <div class="demo-slider">
                                <label>右边 c:</label>
                                <input type="range" id="linear-c" min="-10" max="10" value="8" step="1" oninput="updateLinearDemo()">
                                <div class="demo-value" id="linear-value-c">8</div>
                            </div>
                        </div>
                        <div class="visual-equation" id="linear-equation">3x + 2 = 8</div>
                        <div class="visual-equation" id="linear-steps">3x = 6 → x = 2</div>
                        <div class="visual-equation" id="linear-solution">解: x = 2</div>
                    </div>

                    <!-- Practice Problems -->
                    <div class="practice-problems">
                        <h4>🏋️ 线性方程练习</h4>
                        <div class="problem-item">
                            <div class="problem-question">1. 解方程：2x - 5 = 3x + 1</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                2x - 5 = 3x + 1<br>
                                2x - 3x = 1 + 5<br>
                                -x = 6<br>
                                x = -6
                            </div>
                        </div>
                        <div class="problem-item">
                            <div class="problem-question">2. 解不等式：3x - 2 > 2x + 4</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                3x - 2 > 2x + 4<br>
                                3x - 2x > 4 + 2<br>
                                x > 6
                            </div>
                        </div>
                        <div class="problem-item">
                            <div class="problem-question">3. 解方程：|x - 3| = 5</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                当 x - 3 = 5 时，x = 8<br>
                                当 x - 3 = -5 时，x = -2<br>
                                所以 x = 8 或 x = -2
                            </div>
                        </div>
                    </div>

                    <!-- Real World Examples -->
                    <div class="real-world-examples">
                        <h4>🌍 生活中的线性方程</h4>
                        <div class="example-scenario">
                            <div class="scenario-title">🛒 购物优惠</div>
                            <div class="scenario-description">
                                商店促销：满100元减20元。小明买了x元商品，实际付款80元，求x的值。<br>
                                <strong>方程：</strong>x - 20 = 80<br>
                                <strong>解：</strong>x = 100元
                            </div>
                        </div>
                        <div class="example-scenario">
                            <div class="scenario-title">🚗 租车费用</div>
                            <div class="scenario-description">
                                租车费用：起步价30元，每公里2元。行驶x公里，总费用不超过100元。<br>
                                <strong>不等式：</strong>30 + 2x ≤ 100<br>
                                <strong>解：</strong>x ≤ 35公里
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 二次函数与方程 -->
                <div class="tool-section" id="quadratic-functions">
                    <h3>二次函数与方程</h3>
                    <p>掌握二次函数的性质、图像和二次方程的求解方法</p>
                    
                    <div class="learning-section">
                        <h3>🎓 二次函数基础知识</h3>
                        <p>二次函数是高中数学的重点内容，在实际问题中应用广泛。</p>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>标准形式</h4>
                                <p>y = ax² + bx + c (a≠0)。a决定开口方向，|a|决定开口大小。</p>
                            </div>
                            <div class="concept-card">
                                <h4>顶点式</h4>
                                <p>y = a(x-h)² + k，顶点坐标为(h,k)，对称轴为x=h。</p>
                            </div>
                            <div class="concept-card">
                                <h4>求根公式</h4>
                                <p>x = (-b ± √(b²-4ac)) / 2a。判别式Δ=b²-4ac决定根的性质。</p>
                            </div>
                            <div class="concept-card">
                                <h4>因式分解</h4>
                                <p>当Δ≥0时，ax²+bx+c = a(x-x₁)(x-x₂)，其中x₁,x₂是方程的根。</p>
                            </div>
                        </div>
                    </div>

                    <div class="practice-problems">
                        <h4>🏋️ 二次函数练习</h4>
                        <div class="problem-item">
                            <div class="problem-question">1. 求二次函数 y = x² - 4x + 3 的顶点坐标</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                配方：y = x² - 4x + 3 = (x-2)² - 1<br>
                                顶点坐标：(2, -1)
                            </div>
                        </div>
                        <div class="problem-item">
                            <div class="problem-question">2. 解方程：x² - 5x + 6 = 0</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                因式分解：(x-2)(x-3) = 0<br>
                                所以 x = 2 或 x = 3
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 多项式运算 -->
                <div class="tool-section" id="polynomials">
                    <h3>多项式运算</h3>
                    <p>掌握多项式的加减乘除运算和因式分解</p>
                    
                    <div class="learning-section">
                        <h3>🎓 多项式基础知识</h3>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>多项式定义</h4>
                                <p>由变量、系数和非负整数指数组成的代数表达式。</p>
                            </div>
                            <div class="concept-card">
                                <h4>加减运算</h4>
                                <p>合并同类项：相同变量的相同次幂可以合并。</p>
                            </div>
                            <div class="concept-card">
                                <h4>乘法运算</h4>
                                <p>分配律：每一项都要与另一个多项式的每一项相乘。</p>
                            </div>
                            <div class="concept-card">
                                <h4>因式分解</h4>
                                <p>提公因子、平方差公式、完全平方式、十字相乘法。</p>
                            </div>
                        </div>
                    </div>

                    <div class="practice-problems">
                        <h4>🏋️ 多项式练习</h4>
                        <div class="problem-item">
                            <div class="problem-question">1. 计算：(x+2)(x-3)</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                (x+2)(x-3) = x² - 3x + 2x - 6 = x² - x - 6
                            </div>
                        </div>
                        <div class="problem-item">
                            <div class="problem-question">2. 因式分解：x² - 9</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                x² - 9 = x² - 3² = (x+3)(x-3)
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 有理表达式 -->
                <div class="tool-section" id="rational-expressions">
                    <h3>有理表达式</h3>
                    <p>掌握分式的运算、化简和方程求解</p>
                    
                    <div class="learning-section">
                        <h3>🎓 有理表达式基础</h3>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>分式定义</h4>
                                <p>形如 P(x)/Q(x) 的表达式，其中Q(x)≠0。</p>
                            </div>
                            <div class="concept-card">
                                <h4>分式运算</h4>
                                <p>加减需通分，乘除按分数运算法则。</p>
                            </div>
                            <div class="concept-card">
                                <h4>分式化简</h4>
                                <p>约去分子分母的公因子，化为最简分式。</p>
                            </div>
                            <div class="concept-card">
                                <h4>分式方程</h4>
                                <p>去分母转化为整式方程，注意检验增根。</p>
                            </div>
                        </div>
                    </div>

                    <div class="practice-problems">
                        <h4>🏋️ 有理表达式练习</h4>
                        <div class="problem-item">
                            <div class="problem-question">1. 化简：(x²-4)/(x+2)</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                (x²-4)/(x+2) = (x+2)(x-2)/(x+2) = x-2 (x≠-2)
                            </div>
                        </div>
                        <div class="problem-item">
                            <div class="problem-question">2. 解方程：1/x + 1/(x+1) = 1/2</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                通分：(x+1+x)/(x(x+1)) = 1/2<br>
                                (2x+1)/(x(x+1)) = 1/2<br>
                                2(2x+1) = x(x+1)<br>
                                4x+2 = x²+x<br>
                                x²-3x-2 = 0<br>
                                x = (3±√17)/2
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 根式与指数 -->
                <div class="tool-section" id="radical-expressions">
                    <h3>根式与指数</h3>
                    <p>掌握根式运算、指数法则和相关方程求解</p>
                    
                    <div class="learning-section">
                        <h3>🎓 根式与指数基础</h3>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>根式定义</h4>
                                <p>ⁿ√a 表示n次方根，√a 特指平方根。</p>
                            </div>
                            <div class="concept-card">
                                <h4>指数法则</h4>
                                <p>aᵐ·aⁿ = aᵐ⁺ⁿ，(aᵐ)ⁿ = aᵐⁿ，a⁻ⁿ = 1/aⁿ</p>
                            </div>
                            <div class="concept-card">
                                <h4>根式化简</h4>
                                <p>提取完全平方因子，分母有理化。</p>
                            </div>
                            <div class="concept-card">
                                <h4>根式方程</h4>
                                <p>通过平方消除根号，注意检验增根。</p>
                            </div>
                        </div>
                    </div>

                    <div class="practice-problems">
                        <h4>🏋️ 根式与指数练习</h4>
                        <div class="problem-item">
                            <div class="problem-question">1. 化简：√18</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                √18 = √(9×2) = √9×√2 = 3√2
                            </div>
                        </div>
                        <div class="problem-item">
                            <div class="problem-question">2. 解方程：√(x+3) = 5</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                两边平方：x+3 = 25<br>
                                x = 22<br>
                                检验：√(22+3) = √25 = 5 ✓
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 方程组 -->
                <div class="tool-section" id="systems-equations">
                    <h3>方程组求解</h3>
                    <p>掌握线性方程组和非线性方程组的求解方法</p>
                    
                    <div class="learning-section">
                        <h3>🎓 方程组基础知识</h3>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>代入法</h4>
                                <p>从一个方程解出一个变量，代入另一个方程。</p>
                            </div>
                            <div class="concept-card">
                                <h4>消元法</h4>
                                <p>通过加减消除一个变量，化为一元方程。</p>
                            </div>
                            <div class="concept-card">
                                <h4>图像法</h4>
                                <p>将方程组转化为函数图像，交点即为解。</p>
                            </div>
                            <div class="concept-card">
                                <h4>矩阵法</h4>
                                <p>利用矩阵运算求解线性方程组。</p>
                            </div>
                        </div>
                    </div>

                    <div class="practice-problems">
                        <h4>🏋️ 方程组练习</h4>
                        <div class="problem-item">
                            <div class="problem-question">1. 求解：x + y = 5, x - y = 1</div>
                            <button class="show-answer-btn" onclick="toggleAnswer(this)">显示答案</button>
                            <div class="problem-answer">
                                <strong>解：</strong><br>
                                两式相加：2x = 6，所以 x = 3<br>
                                代入第一式：3 + y = 5，所以 y = 2
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 函数概念 -->
                <div class="tool-section" id="functions">
                    <h3>函数概念与性质</h3>
                    <p>理解函数的定义、性质和图像特征</p>
                    
                    <div class="learning-section">
                        <h3>🎓 函数基础知识</h3>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>函数定义</h4>
                                <p>对于定义域内每个x值，都有唯一的y值与之对应。</p>
                            </div>
                            <div class="concept-card">
                                <h4>函数性质</h4>
                                <p>单调性、奇偶性、周期性、有界性等。</p>
                            </div>
                            <div class="concept-card">
                                <h4>复合函数</h4>
                                <p>f(g(x))，先计算内层函数，再计算外层函数。</p>
                            </div>
                            <div class="concept-card">
                                <h4>反函数</h4>
                                <p>如果y=f(x)，则x=f⁻¹(y)，图像关于y=x对称。</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 指数与对数 -->
                <div class="tool-section" id="exponential-logarithmic">
                    <h3>指数与对数函数</h3>
                    <p>掌握指数函数和对数函数的性质及应用</p>
                    
                    <div class="learning-section">
                        <h3>🎓 指数对数基础</h3>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>指数函数</h4>
                                <p>y = aˣ (a>0, a≠1)，底数大于1时单调递增。</p>
                            </div>
                            <div class="concept-card">
                                <h4>对数函数</h4>
                                <p>y = log_a(x)，是指数函数的反函数。</p>
                            </div>
                            <div class="concept-card">
                                <h4>对数运算</h4>
                                <p>log(ab) = log(a) + log(b)，log(a/b) = log(a) - log(b)</p>
                            </div>
                            <div class="concept-card">
                                <h4>换底公式</h4>
                                <p>log_a(b) = log_c(b) / log_c(a)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 数列与级数 -->
                <div class="tool-section" id="sequences-series">
                    <h3>数列与级数</h3>
                    <p>学习等差数列、等比数列及其求和公式</p>
                    
                    <div class="learning-section">
                        <h3>🎓 数列基础知识</h3>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>等差数列</h4>
                                <p>aₙ = a₁ + (n-1)d，公差为d的数列。</p>
                            </div>
                            <div class="concept-card">
                                <h4>等比数列</h4>
                                <p>aₙ = a₁ × qⁿ⁻¹，公比为q的数列。</p>
                            </div>
                            <div class="concept-card">
                                <h4>数列求和</h4>
                                <p>等差：Sₙ = n(a₁+aₙ)/2，等比：Sₙ = a₁(1-qⁿ)/(1-q)</p>
                            </div>
                            <div class="concept-card">
                                <h4>递推关系</h4>
                                <p>通过前面的项来定义后面的项。</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 矩阵运算 -->
                <div class="tool-section" id="matrices">
                    <h3>矩阵运算</h3>
                    <p>学习矩阵的基本运算和应用</p>
                    
                    <div class="learning-section">
                        <h3>🎓 矩阵基础知识</h3>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>矩阵定义</h4>
                                <p>由数字排列成的矩形阵列，用于表示线性变换。</p>
                            </div>
                            <div class="concept-card">
                                <h4>矩阵运算</h4>
                                <p>加法、数乘、矩阵乘法，注意运算规则。</p>
                            </div>
                            <div class="concept-card">
                                <h4>行列式</h4>
                                <p>方阵的一个数值，用于判断矩阵是否可逆。</p>
                            </div>
                            <div class="concept-card">
                                <h4>逆矩阵</h4>
                                <p>满足 AA⁻¹ = I 的矩阵A⁻¹，用于求解线性方程组。</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 科学计算器 -->
                <div class="tool-section" id="calculator">
                    <h3>科学计算器</h3>
                    <p>支持基本运算、三角函数、对数等科学计算</p>
                    
                    <div class="learning-section">
                        <h3>🎓 科学计算基础</h3>
                        <div class="concept-cards">
                            <div class="concept-card">
                                <h4>基本运算</h4>
                                <p>加减乘除、乘方、开方等基础数学运算。</p>
                            </div>
                            <div class="concept-card">
                                <h4>三角函数</h4>
                                <p>sin、cos、tan及其反函数，注意角度制和弧度制。</p>
                            </div>
                            <div class="concept-card">
                                <h4>对数函数</h4>
                                <p>常用对数lg和自然对数ln的计算。</p>
                            </div>
                            <div class="concept-card">
                                <h4>统计函数</h4>
                                <p>阶乘、组合、排列等概率统计相关计算。</p>
                            </div>
                        </div>
                    </div>

                    <div class="interactive-demo">
                        <h4>🧮 计算器界面</h4>
                        <div class="input-group">
                            <input type="text" id="calc-display" class="input-field" placeholder="输入数学表达式" readonly>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin: 15px 0;">
                            <button class="btn btn-secondary" onclick="calcInput('7')">7</button>
                            <button class="btn btn-secondary" onclick="calcInput('8')">8</button>
                            <button class="btn btn-secondary" onclick="calcInput('9')">9</button>
                            <button class="btn btn-secondary" onclick="calcInput('/')">/</button>
                            <button class="btn btn-secondary" onclick="calcInput('4')">4</button>
                            <button class="btn btn-secondary" onclick="calcInput('5')">5</button>
                            <button class="btn btn-secondary" onclick="calcInput('6')">6</button>
                            <button class="btn btn-secondary" onclick="calcInput('*')">×</button>
                            <button class="btn btn-secondary" onclick="calcInput('1')">1</button>
                            <button class="btn btn-secondary" onclick="calcInput('2')">2</button>
                            <button class="btn btn-secondary" onclick="calcInput('3')">3</button>
                            <button class="btn btn-secondary" onclick="calcInput('-')">-</button>
                            <button class="btn btn-secondary" onclick="calcInput('0')">0</button>
                            <button class="btn btn-secondary" onclick="calcInput('.')">.</button>
                            <button class="btn btn-primary" onclick="calculate()">=</button>
                            <button class="btn btn-secondary" onclick="calcInput('+')">+</button>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin: 10px 0;">
                            <button class="btn btn-secondary" onclick="calcInput('sin(')">sin</button>
                            <button class="btn btn-secondary" onclick="calcInput('cos(')">cos</button>
                            <button class="btn btn-secondary" onclick="calcInput('tan(')">tan</button>
                            <button class="btn btn-secondary" onclick="calcInput('log(')">log</button>
                            <button class="btn btn-secondary" onclick="calcInput('sqrt(')">√</button>
                            <button class="btn btn-secondary" onclick="calcInput('^')">^</button>
                            <button class="btn btn-secondary" onclick="calcInput('3.14159')">π</button>
                            <button class="btn btn-secondary" onclick="clearCalc()">C</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize demo on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateDemo();
            calculateExpression();
            updateLinearDemo();
        });

        // Expression calculator for algebra basics
        function calculateExpression() {
            const expression = document.getElementById('expression-input').value;
            const x = parseFloat(document.getElementById('var-x').value);
            const y = parseFloat(document.getElementById('var-y').value);
            
            // Update value displays
            document.getElementById('value-x').textContent = x;
            document.getElementById('value-y').textContent = y;
            
            try {
                // Replace variables with values
                let evalExpression = expression
                    .replace(/x/g, x)
                    .replace(/y/g, y)
                    .replace(/\*/g, '*');
                
                // Evaluate the expression
                const result = eval(evalExpression);
                
                document.getElementById('expression-result').textContent = 
                    `当 x=${x}, y=${y} 时，${expression} = ${result}`;
            } catch (error) {
                document.getElementById('expression-result').textContent = 
                    '表达式格式错误，请检查输入';
            }
        }

        // Linear equation demo
        function updateLinearDemo() {
            const a = parseInt(document.getElementById('linear-a').value);
            const b = parseInt(document.getElementById('linear-b').value);
            const c = parseInt(document.getElementById('linear-c').value);
            
            // Update value displays
            document.getElementById('linear-value-a').textContent = a;
            document.getElementById('linear-value-b').textContent = b;
            document.getElementById('linear-value-c').textContent = c;
            
            // Build equation string
            let equation = '';
            if (a !== 0) {
                equation = a === 1 ? 'x' : a === -1 ? '-x' : `${a}x`;
            }
            if (b !== 0) {
                if (equation && b > 0) equation += ' + ';
                equation += `${b}`;
            }
            if (!equation) equation = '0';
            equation += ` = ${c}`;
            
            document.getElementById('linear-equation').textContent = equation;
            
            // Solve equation
            if (a === 0) {
                if (b === c) {
                    document.getElementById('linear-steps').textContent = '恒等式，任意x都是解';
                    document.getElementById('linear-solution').textContent = '解: x ∈ R';
                } else {
                    document.getElementById('linear-steps').textContent = '矛盾方程，无解';
                    document.getElementById('linear-solution').textContent = '解: 无解';
                }
            } else {
                const solution = (c - b) / a;
                document.getElementById('linear-steps').textContent = 
                    `${a}x = ${c - b} → x = ${solution.toFixed(2)}`;
                document.getElementById('linear-solution').textContent = 
                    `解: x = ${solution.toFixed(2)}`;
            }
        }

        // Calculator functions
        function calcInput(value) {
            const display = document.getElementById('calc-display');
            display.value += value;
        }

        function clearCalc() {
            document.getElementById('calc-display').value = '';
        }

        function calculate() {
            const display = document.getElementById('calc-display');
            const expression = display.value;
            
            try {
                // Replace mathematical functions and constants
                let evalExpression = expression
                    .replace(/sin\(/g, 'Math.sin(')
                    .replace(/cos\(/g, 'Math.cos(')
                    .replace(/tan\(/g, 'Math.tan(')
                    .replace(/log\(/g, 'Math.log10(')
                    .replace(/sqrt\(/g, 'Math.sqrt(')
                    .replace(/\^/g, '**')
                    .replace(/π/g, 'Math.PI')
                    .replace(/e/g, 'Math.E');
                
                const result = eval(evalExpression);
                display.value = result.toString();
            } catch (error) {
                display.value = '错误';
            }
        }

        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all sections
            const sections = document.querySelectorAll('.tool-section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab-btn');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected section
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
        }

        // Add event listeners for tab buttons
        document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });
            
            // Initialize demos
            updateDemo();
            calculateExpression();
            updateLinearDemo();
        });

        // Initialize demo on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateDemo();
            updateFactorDemo();
            updatePolyDemo();
            updateSystemDemo();
            updateSimpDemo();
            updateCalcDemo();
        });

        // Interactive demo functions for factorization
        function updateFactorDemo() {
            const b = parseInt(document.getElementById('factor-b').value);
            const c = parseInt(document.getElementById('factor-c').value);
            
            // Update value displays
            document.getElementById('factor-value-b').textContent = b;
            document.getElementById('factor-value-c').textContent = c;
            
            // Update equation display
            let equation = 'x²';
            if (b !== 0) {
                equation += b > 0 ? ` + ${b}x` : ` - ${Math.abs(b)}x`;
            }
            if (c !== 0) {
                equation += c > 0 ? ` + ${c}` : ` - ${Math.abs(c)}`;
            }
            
            document.getElementById('factor-equation').textContent = equation;
            
            // Try to factor
            let factored = '';
            for (let i = 1; i <= Math.abs(c); i++) {
                if (c % i === 0) {
                    const factor1 = i;
                    const factor2 = c / i;
                    
                    if (factor1 + factor2 === b) {
                        factored = `(x + ${factor1})(x + ${factor2})`;
                        break;
                    } else if (factor1 - factor2 === b) {
                        factored = `(x + ${factor1})(x - ${factor2})`;
                        break;
                    } else if (-factor1 + factor2 === b) {
                        factored = `(x - ${factor1})(x + ${factor2})`;
                        break;
                    } else if (-factor1 - factor2 === b) {
                        factored = `(x - ${factor1})(x - ${factor2})`;
                        break;
                    }
                }
            }
            
            if (!factored) {
                factored = '无法简单因式分解';
            }
            
            document.getElementById('factor-result').textContent = factored;
        }

        // Interactive demo functions for polynomial
        function updatePolyDemo() {
            const a = parseInt(document.getElementById('poly-a').value);
            const b = parseInt(document.getElementById('poly-b').value);
            
            // Update value displays
            document.getElementById('poly-value-a').textContent = a;
            document.getElementById('poly-value-b').textContent = b;
            
            // Update original expression
            document.getElementById('poly-original').textContent = `(x + ${a})(x + ${b})`;
            
            // Calculate expanded form
            const x2_coeff = 1;
            const x_coeff = a + b;
            const const_term = a * b;
            
            let expanded = 'x²';
            if (x_coeff !== 0) {
                expanded += x_coeff > 0 ? ` + ${x_coeff}x` : ` - ${Math.abs(x_coeff)}x`;
            }
            if (const_term !== 0) {
                expanded += const_term > 0 ? ` + ${const_term}` : ` - ${Math.abs(const_term)}`;
            }
            
            document.getElementById('poly-expanded').textContent = expanded;
            
            // Update steps
            document.getElementById('poly-steps').textContent = 
                `展开步骤：x·x + x·${b} + ${a}·x + ${a}·${b} = x² + ${b}x + ${a}x + ${a * b} = ${expanded}`;
        }

        // Interactive demo functions for system equations
        function updateSystemDemo() {
            const a1 = parseInt(document.getElementById('sys-a1').value);
            const b1 = parseInt(document.getElementById('sys-b1').value);
            const c1 = parseInt(document.getElementById('sys-c1').value);
            const a2 = parseInt(document.getElementById('sys-a2').value);
            const b2 = parseInt(document.getElementById('sys-b2').value);
            const c2 = parseInt(document.getElementById('sys-c2').value);
            
            // Update value displays
            document.getElementById('sys-value-a1').textContent = a1;
            document.getElementById('sys-value-b1').textContent = b1;
            document.getElementById('sys-value-c1').textContent = c1;
            document.getElementById('sys-value-a2').textContent = a2;
            document.getElementById('sys-value-b2').textContent = b2;
            document.getElementById('sys-value-c2').textContent = c2;
            
            // Update equation displays
            document.getElementById('sys-equation1').textContent = `${a1}x + ${b1}y = ${c1}`;
            document.getElementById('sys-equation2').textContent = `${a2}x + ${b2}y = ${c2}`;
            
            // Solve system using Cramer's rule
            const det = a1 * b2 - a2 * b1;
            
            if (Math.abs(det) < 0.001) {
                document.getElementById('sys-solution').textContent = '解: 无唯一解（行列式为0）';
            } else {
                const x = (c1 * b2 - c2 * b1) / det;
                const y = (a1 * c2 - a2 * c1) / det;
                document.getElementById('sys-solution').textContent = `解: x = ${x.toFixed(2)}, y = ${y.toFixed(2)}`;
            }
        }

        // Interactive demo functions for simplification
        function updateSimpDemo() {
            const a = parseInt(document.getElementById('simp-a').value);
            
            // Update value display
            document.getElementById('simp-value-a').textContent = a;
            
            // Update original expression
            document.getElementById('simp-original').textContent = `(x + ${a})²`;
            
            // Calculate expanded form
            const x2_coeff = 1;
            const x_coeff = 2 * a;
            const const_term = a * a;
            
            let expanded = 'x²';
            if (x_coeff !== 0) {
                expanded += x_coeff > 0 ? ` + ${x_coeff}x` : ` - ${Math.abs(x_coeff)}x`;
            }
            if (const_term !== 0) {
                expanded += const_term > 0 ? ` + ${const_term}` : ` - ${Math.abs(const_term)}`;
            }
            
            document.getElementById('simp-expanded').textContent = expanded;
            
            // Update steps
            document.getElementById('simp-steps').textContent = 
                `展开步骤：(x + ${a})² = (x + ${a})(x + ${a}) = x² + ${a}x + ${a}x + ${a * a} = ${expanded}`;
        }

        // Interactive demo functions for calculator
        function updateCalcDemo() {
            const angle = parseInt(document.getElementById('calc-angle').value);
            
            // Update value display
            document.getElementById('calc-value-angle').textContent = angle + '°';
            
            // Convert to radians for calculation
            const radians = angle * Math.PI / 180;
            
            // Calculate trigonometric values
            const sinValue = Math.sin(radians);
            const cosValue = Math.cos(radians);
            const tanValue = Math.tan(radians);
            
            // Update displays
            document.getElementById('calc-sin').textContent = `sin(${angle}°) = ${sinValue.toFixed(3)}`;
            document.getElementById('calc-cos').textContent = `cos(${angle}°) = ${cosValue.toFixed(3)}`;
            
            if (Math.abs(cosValue) < 0.001) {
                document.getElementById('calc-tan').textContent = `tan(${angle}°) = 未定义`;
            } else {
                document.getElementById('calc-tan').textContent = `tan(${angle}°) = ${tanValue.toFixed(3)}`;
            }
        }

        // Utility functions
        function showError(resultDiv, message) {
            resultDiv.innerHTML = `<h4>错误</h4><div class="error-message">${message}</div>`;
        }

        // Toggle answer function for practice problems
        function toggleAnswer(button) {
            const answer = button.nextElementSibling;
            if (answer.style.display === 'none' || !answer.style.display) {
                answer.style.display = 'block';
                button.textContent = '隐藏答案';
            } else {
                answer.style.display = 'none';
                button.textContent = '显示答案';
            }
        }

        // Interactive demo functions for quadratic equations
        function updateDemo() {
            const a = parseFloat(document.getElementById('demo-a').value);
            const b = parseFloat(document.getElementById('demo-b').value);
            const c = parseFloat(document.getElementById('demo-c').value);
            
            // Update value displays
            document.getElementById('value-a').textContent = a;
            document.getElementById('value-b').textContent = b;
            document.getElementById('value-c').textContent = c;
            
            // Build equation string
            let equation = '';
            if (a !== 0) {
                if (a === 1) equation = 'x²';
                else if (a === -1) equation = '-x²';
                else equation = `${a}x²`;
            }
            if (b !== 0) {
                if (equation && b > 0) equation += ' + ';
                if (b === 1) equation += 'x';
                else if (b === -1) equation += '-x';
                else equation += `${b}x`;
            }
            if (c !== 0) {
                if (equation && c > 0) equation += ' + ';
                equation += `${c}`;
            }
            if (!equation) equation = '0';
            equation += ' = 0';
            
            document.getElementById('demo-equation').textContent = equation;
            
            // Calculate and display solution
            let solution = '';
            if (a === 0) {
                if (b === 0) {
                    solution = c === 0 ? '解: 任意实数' : '解: 无解';
                } else {
                    const x = -c / b;
                    solution = `解: x = ${x.toFixed(2)}`;
                }
            } else {
                const discriminant = b * b - 4 * a * c;
                if (discriminant < 0) {
                    solution = '解: 无实数解';
                } else if (discriminant === 0) {
                    const x = -b / (2 * a);
                    solution = `解: x = ${x.toFixed(2)} (重根)`;
                } else {
                    const x1 = (-b + Math.sqrt(discriminant)) / (2 * a);
                    const x2 = (-b - Math.sqrt(discriminant)) / (2 * a);
                    solution = `解: x₁ = ${x1.toFixed(2)}, x₂ = ${x2.toFixed(2)}`;
                }
            }
            
            document.getElementById('demo-solution').textContent = solution;
        }
    </script>
</body>
</html> 