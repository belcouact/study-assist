<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天文历法 - 天文学习中心</title>
    <link rel="icon" href="../../assets/icons/logo_btrfly.ico" type="image/x-icon">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/utilities.css">
    <link rel="stylesheet" href="../../css/responsive.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .calendar-page {
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            color: #ffffff;
        }

        .hero-section {
            padding: 120px 0 80px;
            text-align: center;
            background: radial-gradient(circle at center, rgba(67, 97, 238, 0.1) 0%, transparent 70%);
        }

        .hero-content h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #4361ee, #7209b7, #f72585);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero-content p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .content-section {
            padding: 60px 0;
        }

        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            background: linear-gradient(135deg, #4361ee, #7209b7);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .calendar-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .calendar-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #4361ee, #7209b7, #f72585);
        }

        .calendar-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(67, 97, 238, 0.3);
        }

        .calendar-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #4361ee;
        }

        .calendar-card p {
            opacity: 0.9;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .calendar-features {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .feature-tag {
            background: rgba(67, 97, 238, 0.2);
            color: #4361ee;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .interactive-section {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            padding: 3rem;
            margin: 3rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .solar-terms-wheel {
            width: 300px;
            height: 300px;
            margin: 2rem auto;
            position: relative;
            border: 2px solid rgba(67, 97, 238, 0.5);
            border-radius: 50%;
            background: radial-gradient(circle, rgba(67, 97, 238, 0.1) 0%, transparent 70%);
        }

        .solar-term {
            position: absolute;
            width: 80px;
            height: 30px;
            background: rgba(67, 97, 238, 0.8);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 500;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .solar-term:hover {
            background: rgba(114, 9, 183, 0.9);
            transform: scale(1.1);
        }

        .calendar-converter {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .converter-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 1rem;
        }

        .converter-input label {
            display: block;
            margin-bottom: 0.5rem;
            color: #4361ee;
            font-weight: 500;
        }

        .converter-input input, .converter-input select {
            width: 100%;
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }

        .converter-input input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .convert-btn {
            background: linear-gradient(135deg, #4361ee, #7209b7);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 1rem auto;
            display: block;
        }

        .convert-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(67, 97, 238, 0.3);
        }

        .result-display {
            background: rgba(67, 97, 238, 0.1);
            border: 1px solid rgba(67, 97, 238, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1rem;
            text-align: center;
        }

        .time-zones {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .timezone-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .timezone-card h4 {
            color: #4361ee;
            margin-bottom: 0.5rem;
        }

        .timezone-time {
            font-size: 1.2rem;
            font-weight: 600;
            color: #f72585;
        }

        .astronomical-events {
            margin: 3rem 0;
        }

        .events-timeline {
            position: relative;
            padding: 2rem 0;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, #4361ee, #7209b7, #f72585);
            transform: translateX(-50%);
        }

        .event-item {
            display: flex;
            align-items: center;
            margin: 2rem 0;
            position: relative;
        }

        .event-item:nth-child(odd) {
            flex-direction: row;
        }

        .event-item:nth-child(even) {
            flex-direction: row-reverse;
        }

        .event-content {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 0 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .event-date {
            color: #4361ee;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .event-title {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .event-description {
            opacity: 0.8;
            font-size: 0.9rem;
        }

        .event-marker {
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #4361ee, #7209b7);
            border-radius: 50%;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
        }

        @media (max-width: 768px) {
            .calendar-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .solar-terms-wheel {
                width: 250px;
                height: 250px;
            }

            .solar-term {
                width: 60px;
                height: 25px;
                font-size: 0.7rem;
            }

            .calendar-converter {
                grid-template-columns: 1fr;
            }

            .timeline-line {
                left: 20px;
            }

            .event-item {
                flex-direction: row !important;
                padding-left: 40px;
            }

            .event-content {
                margin: 0;
            }

            .event-marker {
                left: 20px;
            }

            .time-zones {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }

        @media (max-width: 480px) {
            .hero-content h1 {
                font-size: 2rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .interactive-section {
                padding: 2rem 1rem;
            }

            .solar-terms-wheel {
                width: 200px;
                height: 200px;
            }

            .solar-term {
                width: 50px;
                height: 20px;
                font-size: 0.6rem;
            }
        }

        .formula-box {
            background: rgba(67, 97, 238, 0.1);
            border: 1px solid rgba(67, 97, 238, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
        }

        .formula-title {
            color: #4361ee;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .formula {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 8px;
            font-size: 1.1rem;
            color: #ffffff;
            overflow-x: auto;
        }

        .calendar-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .comparison-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .comparison-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #4361ee, #7209b7);
        }

        .comparison-title {
            color: #4361ee;
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }

        .comparison-details {
            list-style: none;
            padding: 0;
        }

        .comparison-details li {
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
        }

        .comparison-details li:last-child {
            border-bottom: none;
        }

        .detail-label {
            color: rgba(255, 255, 255, 0.8);
        }

        .detail-value {
            color: #f72585;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="../../index.html">
                        <i class="fas fa-graduation-cap" style="background: linear-gradient(90deg, #4361ee, #7209b7); -webkit-background-clip: text; background-clip: text; color: transparent;"></i>
                        <span>Alex的学习助手</span>
                    </a>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="../../index.html">首页</a></li>
                        <li><a href="main.html">天文</a></li>
                        <li><a href="../../index.html#subjects">科目</a></li>
                        <li><a href="../../tts.html">语音</a></li>
                        <li><a href="../../draw.html">绘图</a></li>
                    </ul>
                </nav>
                <button class="mobile-menu-toggle" aria-label="切换菜单">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main class="calendar-page">
        <section class="hero-section">
            <div class="container">
                <div class="hero-content">
                    <h1><i class="fas fa-calendar-alt"></i> 天文历法</h1>
                    <p>探索历法的天文学基础，了解时间计算的奥秘，掌握天象周期的规律</p>
                </div>
            </div>
        </section>

        <section class="content-section">
            <div class="container">
                <h2 class="section-title">历法系统</h2>
                
                <div class="calendar-grid">
                    <div class="calendar-card">
                        <h3><i class="fas fa-sun"></i> 太阳历</h3>
                        <p>以地球绕太阳公转周期为基础的历法系统，现代公历就是太阳历的一种。</p>
                        <div class="calendar-features">
                            <span class="feature-tag">365.25天</span>
                            <span class="feature-tag">四季分明</span>
                            <span class="feature-tag">闰年调节</span>
                        </div>
                        <div class="formula-box">
                            <div class="formula-title">回归年长度</div>
                            <div class="formula">365.24219天 = 365天5小时48分46秒</div>
                        </div>
                    </div>

                    <div class="calendar-card">
                        <h3><i class="fas fa-moon"></i> 太阴历</h3>
                        <p>以月球绕地球公转周期为基础的历法系统，伊斯兰历是典型的太阴历。</p>
                        <div class="calendar-features">
                            <span class="feature-tag">354天</span>
                            <span class="feature-tag">月相周期</span>
                            <span class="feature-tag">宗教意义</span>
                        </div>
                        <div class="formula-box">
                            <div class="formula-title">朔望月长度</div>
                            <div class="formula">29.53059天 = 29天12小时44分3秒</div>
                        </div>
                    </div>

                    <div class="calendar-card">
                        <h3><i class="fas fa-yin-yang"></i> 阴阳历</h3>
                        <p>结合太阳年和月亮月的历法系统，中国农历是典型的阴阳历。</p>
                        <div class="calendar-features">
                            <span class="feature-tag">置闰调节</span>
                            <span class="feature-tag">二十四节气</span>
                            <span class="feature-tag">传统文化</span>
                        </div>
                        <div class="formula-box">
                            <div class="formula-title">置闰规则</div>
                            <div class="formula">19年7闰：235朔望月 ≈ 19回归年</div>
                        </div>
                    </div>
                </div>

                <div class="interactive-section">
                    <h3 style="text-align: center; color: #4361ee; margin-bottom: 2rem;">
                        <i class="fas fa-leaf"></i> 二十四节气轮盘
                    </h3>
                    <div class="solar-terms-wheel" id="solarTermsWheel">
                        <!-- 节气将通过JavaScript动态生成 -->
                    </div>
                    <p style="text-align: center; opacity: 0.8; margin-top: 1rem;">
                        点击节气了解详细信息
                    </p>
                </div>

                <h2 class="section-title">历法对比</h2>
                
                <div class="calendar-comparison">
                    <div class="comparison-card">
                        <h3 class="comparison-title">公历 (格里高利历)</h3>
                        <ul class="comparison-details">
                            <li><span class="detail-label">类型</span><span class="detail-value">太阳历</span></li>
                            <li><span class="detail-label">年长</span><span class="detail-value">365.2425天</span></li>
                            <li><span class="detail-label">闰年规则</span><span class="detail-value">4年一闰，百年不闰，400年又闰</span></li>
                            <li><span class="detail-label">起始</span><span class="detail-value">公元1年</span></li>
                            <li><span class="detail-label">使用范围</span><span class="detail-value">全球通用</span></li>
                        </ul>
                    </div>

                    <div class="comparison-card">
                        <h3 class="comparison-title">农历 (夏历)</h3>
                        <ul class="comparison-details">
                            <li><span class="detail-label">类型</span><span class="detail-value">阴阳历</span></li>
                            <li><span class="detail-label">年长</span><span class="detail-value">354-384天</span></li>
                            <li><span class="detail-label">闰年规则</span><span class="detail-value">19年7闰月</span></li>
                            <li><span class="detail-label">起始</span><span class="detail-value">黄帝纪年</span></li>
                            <li><span class="detail-label">使用范围</span><span class="detail-value">中华文化圈</span></li>
                        </ul>
                    </div>

                    <div class="comparison-card">
                        <h3 class="comparison-title">伊斯兰历</h3>
                        <ul class="comparison-details">
                            <li><span class="detail-label">类型</span><span class="detail-value">太阴历</span></li>
                            <li><span class="detail-label">年长</span><span class="detail-value">354.37天</span></li>
                            <li><span class="detail-label">闰年规则</span><span class="detail-value">30年11闰日</span></li>
                            <li><span class="detail-label">起始</span><span class="detail-value">希吉拉元年</span></li>
                            <li><span class="detail-label">使用范围</span><span class="detail-value">伊斯兰世界</span></li>
                        </ul>
                    </div>

                    <div class="comparison-card">
                        <h3 class="comparison-title">儒略历</h3>
                        <ul class="comparison-details">
                            <li><span class="detail-label">类型</span><span class="detail-value">太阳历</span></li>
                            <li><span class="detail-label">年长</span><span class="detail-value">365.25天</span></li>
                            <li><span class="detail-label">闰年规则</span><span class="detail-value">4年一闰</span></li>
                            <li><span class="detail-label">起始</span><span class="detail-value">公元前45年</span></li>
                            <li><span class="detail-label">使用范围</span><span class="detail-value">历史使用</span></li>
                        </ul>
                    </div>
                </div>

                <div class="interactive-section">
                    <h3 style="text-align: center; color: #4361ee; margin-bottom: 2rem;">
                        <i class="fas fa-exchange-alt"></i> 历法转换器
                    </h3>
                    
                    <div class="calendar-converter">
                        <div class="converter-input">
                            <label for="gregorianDate">公历日期</label>
                            <input type="date" id="gregorianDate" value="">
                        </div>
                        
                        <div class="converter-input">
                            <label for="lunarYear">农历年份</label>
                            <input type="number" id="lunarYear" placeholder="例如：2024" min="1900" max="2100">
                        </div>
                        
                        <div class="converter-input">
                            <label for="lunarMonth">农历月份</label>
                            <select id="lunarMonth">
                                <option value="">选择月份</option>
                                <option value="1">正月</option>
                                <option value="2">二月</option>
                                <option value="3">三月</option>
                                <option value="4">四月</option>
                                <option value="5">五月</option>
                                <option value="6">六月</option>
                                <option value="7">七月</option>
                                <option value="8">八月</option>
                                <option value="9">九月</option>
                                <option value="10">十月</option>
                                <option value="11">十一月</option>
                                <option value="12">十二月</option>
                            </select>
                        </div>
                        
                        <div class="converter-input">
                            <label for="lunarDay">农历日期</label>
                            <input type="number" id="lunarDay" placeholder="例如：15" min="1" max="30">
                        </div>
                    </div>
                    
                    <button class="convert-btn" onclick="convertCalendar()">
                        <i class="fas fa-sync-alt"></i> 转换日期
                    </button>
                    
                    <div class="result-display" id="conversionResult" style="display: none;">
                        <h4 style="color: #4361ee; margin-bottom: 1rem;">转换结果</h4>
                        <div id="resultContent"></div>
                    </div>
                </div>

                <h2 class="section-title">世界时区</h2>
                
                <div class="time-zones" id="timeZones">
                    <!-- 时区将通过JavaScript动态生成 -->
                </div>

                <h2 class="section-title">天象周期</h2>
                
                <div class="astronomical-events">
                    <div class="events-timeline">
                        <div class="timeline-line"></div>
                        
                        <div class="event-item">
                            <div class="event-marker"></div>
                            <div class="event-content">
                                <div class="event-date">每日</div>
                                <div class="event-title">地球自转</div>
                                <div class="event-description">地球绕轴自转一周，形成昼夜交替，周期约23小时56分4秒（恒星日）</div>
                            </div>
                        </div>

                        <div class="event-item">
                            <div class="event-marker"></div>
                            <div class="event-content">
                                <div class="event-date">每月</div>
                                <div class="event-title">月相变化</div>
                                <div class="event-description">月球绕地球公转，产生新月、上弦月、满月、下弦月的周期变化</div>
                            </div>
                        </div>

                        <div class="event-item">
                            <div class="event-marker"></div>
                            <div class="event-content">
                                <div class="event-date">每年</div>
                                <div class="event-title">地球公转</div>
                                <div class="event-description">地球绕太阳公转一周，形成四季变化和二十四节气</div>
                            </div>
                        </div>

                        <div class="event-item">
                            <div class="event-marker"></div>
                            <div class="event-content">
                                <div class="event-date">18.6年</div>
                                <div class="event-title">月球交点周期</div>
                                <div class="event-description">月球轨道与黄道的交点完成一次进动，影响日月食的发生</div>
                            </div>
                        </div>

                        <div class="event-item">
                            <div class="event-marker"></div>
                            <div class="event-content">
                                <div class="event-date">26000年</div>
                                <div class="event-title">岁差周期</div>
                                <div class="event-description">地球自转轴的进动周期，导致春分点在恒星间的缓慢移动</div>
                            </div>
                        </div>

                        <div class="event-item">
                            <div class="event-marker"></div>
                            <div class="event-content">
                                <div class="event-date">223个朔望月</div>
                                <div class="event-title">沙罗周期</div>
                                <div class="event-description">日月食重复出现的周期，约18年11天8小时</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="formula-box">
                    <div class="formula-title">重要天文周期公式</div>
                    <div class="formula">
                        恒星日 = 23h 56m 4.0905s<br>
                        太阳日 = 24h 00m 00s<br>
                        朔望月 = 29.530589天<br>
                        回归年 = 365.24219天<br>
                        恒星年 = 365.25636天<br>
                        沙罗周期 = 6585.3211天
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <p class="copyright-text">study-llm.me域名为Alex所有。保留所有权利。</p>
            </div>
        </div>
    </footer>

    <script src="../../js/common.js"></script>
    <script src="../../js/navigation.js"></script>
    <script>
        // 二十四节气数据
        const solarTerms = [
            { name: '立春', angle: 0, description: '春季开始，万物复苏' },
            { name: '雨水', angle: 15, description: '降雨增多，气温回升' },
            { name: '惊蛰', angle: 30, description: '春雷响起，蛰虫苏醒' },
            { name: '春分', angle: 45, description: '昼夜等长，春意盎然' },
            { name: '清明', angle: 60, description: '天清地明，踏青时节' },
            { name: '谷雨', angle: 75, description: '雨水充沛，谷物生长' },
            { name: '立夏', angle: 90, description: '夏季开始，气温升高' },
            { name: '小满', angle: 105, description: '麦粒饱满，夏熟作物' },
            { name: '芒种', angle: 120, description: '麦类收获，稻类播种' },
            { name: '夏至', angle: 135, description: '白昼最长，夏季极致' },
            { name: '小暑', angle: 150, description: '暑热开始，温度上升' },
            { name: '大暑', angle: 165, description: '最热时期，酷暑难耐' },
            { name: '立秋', angle: 180, description: '秋季开始，暑去凉来' },
            { name: '处暑', angle: 195, description: '暑热结束，秋高气爽' },
            { name: '白露', angle: 210, description: '露水增多，秋意渐浓' },
            { name: '秋分', angle: 225, description: '昼夜等长，秋收时节' },
            { name: '寒露', angle: 240, description: '露水转寒，深秋来临' },
            { name: '霜降', angle: 255, description: '初霜出现，秋季结束' },
            { name: '立冬', angle: 270, description: '冬季开始，万物收藏' },
            { name: '小雪', angle: 285, description: '开始降雪，气温下降' },
            { name: '大雪', angle: 300, description: '雪量增大，严寒将至' },
            { name: '冬至', angle: 315, description: '白昼最短，冬季极致' },
            { name: '小寒', angle: 330, description: '寒冷加剧，三九严寒' },
            { name: '大寒', angle: 345, description: '最冷时期，冰天雪地' }
        ];

        // 世界主要时区
        const timeZones = [
            { name: 'UTC', offset: 0, city: '协调世界时' },
            { name: 'GMT', offset: 0, city: '格林威治' },
            { name: 'EST', offset: -5, city: '纽约' },
            { name: 'PST', offset: -8, city: '洛杉矶' },
            { name: 'CET', offset: 1, city: '巴黎' },
            { name: 'JST', offset: 9, city: '东京' },
            { name: 'CST', offset: 8, city: '北京' },
            { name: 'IST', offset: 5.5, city: '新德里' },
            { name: 'MSK', offset: 3, city: '莫斯科' },
            { name: 'AEST', offset: 10, city: '悉尼' }
        ];

        // 初始化页面
        document.addEventListener('DOMContentLoaded', function() {
            initializeSolarTermsWheel();
            initializeTimeZones();
            updateTimeZones();
            setInterval(updateTimeZones, 1000);
            
            // 设置当前日期
            const today = new Date();
            document.getElementById('gregorianDate').value = today.toISOString().split('T')[0];
        });

        // 初始化二十四节气轮盘
        function initializeSolarTermsWheel() {
            const wheel = document.getElementById('solarTermsWheel');
            const radius = 120;
            const centerX = 150;
            const centerY = 150;

            solarTerms.forEach((term, index) => {
                const termElement = document.createElement('div');
                termElement.className = 'solar-term';
                termElement.textContent = term.name;
                termElement.title = term.description;

                const angle = (term.angle - 90) * Math.PI / 180;
                const x = centerX + radius * Math.cos(angle) - 40;
                const y = centerY + radius * Math.sin(angle) - 15;

                termElement.style.left = x + 'px';
                termElement.style.top = y + 'px';

                termElement.addEventListener('click', () => {
                    showSolarTermInfo(term);
                });

                wheel.appendChild(termElement);
            });
        }

        // 显示节气信息
        function showSolarTermInfo(term) {
            alert(`${term.name}\n\n${term.description}\n\n太阳黄经：${term.angle}°`);
        }

        // 初始化时区显示
        function initializeTimeZones() {
            const container = document.getElementById('timeZones');
            
            timeZones.forEach(zone => {
                const zoneCard = document.createElement('div');
                zoneCard.className = 'timezone-card';
                zoneCard.innerHTML = `
                    <h4>${zone.name}</h4>
                    <p>${zone.city}</p>
                    <div class="timezone-time" id="time-${zone.name}"></div>
                `;
                container.appendChild(zoneCard);
            });
        }

        // 更新时区时间
        function updateTimeZones() {
            const now = new Date();
            
            timeZones.forEach(zone => {
                const timeElement = document.getElementById(`time-${zone.name}`);
                const zoneTime = new Date(now.getTime() + (zone.offset * 60 * 60 * 1000));
                timeElement.textContent = zoneTime.toISOString().substr(11, 8);
            });
        }

        // 历法转换功能
        function convertCalendar() {
            const gregorianDate = document.getElementById('gregorianDate').value;
            const lunarYear = document.getElementById('lunarYear').value;
            const lunarMonth = document.getElementById('lunarMonth').value;
            const lunarDay = document.getElementById('lunarDay').value;
            
            const resultDiv = document.getElementById('conversionResult');
            const contentDiv = document.getElementById('resultContent');
            
            if (gregorianDate) {
                // 公历转农历（简化示例）
                const date = new Date(gregorianDate);
                const lunarInfo = convertToLunar(date);
                contentDiv.innerHTML = `
                    <p><strong>公历：</strong>${date.toLocaleDateString('zh-CN')}</p>
                    <p><strong>农历：</strong>${lunarInfo}</p>
                    <p><strong>星期：</strong>${['日', '一', '二', '三', '四', '五', '六'][date.getDay()]}</p>
                `;
            } else if (lunarYear && lunarMonth && lunarDay) {
                // 农历转公历（简化示例）
                const gregorianInfo = convertToGregorian(lunarYear, lunarMonth, lunarDay);
                contentDiv.innerHTML = `
                    <p><strong>农历：</strong>${lunarYear}年${lunarMonth}月${lunarDay}日</p>
                    <p><strong>公历：</strong>${gregorianInfo}</p>
                `;
            } else {
                contentDiv.innerHTML = '<p style="color: #f72585;">请输入完整的日期信息</p>';
            }
            
            resultDiv.style.display = 'block';
        }

        // 简化的公历转农历函数
        function convertToLunar(date) {
            // 这里是简化的转换逻辑，实际应用需要更复杂的算法
            const year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();
            
            // 简化示例：假设农历比公历晚约一个月
            let lunarMonth = month - 1;
            let lunarYear = year;
            
            if (lunarMonth <= 0) {
                lunarMonth = 12;
                lunarYear--;
            }
            
            return `${lunarYear}年${lunarMonth}月${day}日（示例）`;
        }

        // 简化的农历转公历函数
        function convertToGregorian(year, month, day) {
            // 这里是简化的转换逻辑
            let gregorianMonth = parseInt(month) + 1;
            let gregorianYear = parseInt(year);
            
            if (gregorianMonth > 12) {
                gregorianMonth = 1;
                gregorianYear++;
            }
            
            return `${gregorianYear}年${gregorianMonth}月${day}日（示例）`;
        }

        // 添加页面动画效果
        function addAnimations() {
            const cards = document.querySelectorAll('.calendar-card, .comparison-card, .timezone-card');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });
        }

        // 页面加载完成后添加动画
        window.addEventListener('load', addAnimations);
    </script>
</body>
</html> 