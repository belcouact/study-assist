<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生态学 - 生物学习助手</title>
    <link rel="icon" href="assets/icons/alex.ico" type="image/x-icon">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/utilities.css">
    <link rel="stylesheet" href="../../css/responsive.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .ecology-page {
            background: linear-gradient(135deg, #8bc6ec 0%, #9599E2 100%);
            min-height: 100vh;
            padding: 2rem 0;
        }

        .ecology-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            margin: 2rem auto;
            max-width: 1600px;
        }

        .ecology-header {
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .ecology-header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
        }

        .ecology-header p {
            margin: 1rem 0 0 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .ecology-tabs {
            background: #f8f9fa;
            padding: 0;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            overflow-x: auto;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }

        .ecology-tab {
            padding: 1rem 2rem;
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #666;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }

        .ecology-tab.active {
            color: #4caf50;
            border-bottom-color: #4caf50;
            background: white;
        }

        .ecology-tab:hover {
            color: #4caf50;
            background: #f0f8ff;
        }

        .ecology-content {
            padding: 2rem;
            min-height: 600px;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        .concept-card {
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            padding: 1.5rem;
            margin-bottom: 2rem;
            border-left: 5px solid #4caf50;
        }

        .concept-card h3 {
            color: #2e7d32;
            margin-top: 0;
            font-size: 1.3rem;
        }

        .concept-card p {
            color: #666;
            line-height: 1.6;
        }

        .interactive-module {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid #e9ecef;
        }

        .interactive-module h3 {
            color: #4caf50;
            margin-top: 0;
        }

        .ecology-image {
            width: 100%;
            border-radius: 10px;
            margin: 1rem 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .definition-box {
            background: #e8f5e9;
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid #4caf50;
        }

        .definition-box h4 {
            margin-top: 0;
            color: #2e7d32;
        }

        .action-btn {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-top: 1rem;
            display: inline-block;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .action-btn.secondary {
            background: linear-gradient(135deg, #6c757d, #495057);
        }

        .timeline {
            position: relative;
            max-width: 1200px;
            margin: 2rem auto;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background-color: #4caf50;
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
            border-radius: 3px;
        }

        .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
            box-sizing: border-box;
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            right: -10px;
            background-color: white;
            border: 4px solid #4caf50;
            top: 15px;
            border-radius: 50%;
            z-index: 1;
        }

        .timeline-left {
            left: 0;
        }

        .timeline-right {
            left: 50%;
        }

        .timeline-left::before {
            content: " ";
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            right: 30px;
            border: medium solid #f8f9fa;
            border-width: 10px 0 10px 10px;
            border-color: transparent transparent transparent #f8f9fa;
        }

        .timeline-right::before {
            content: " ";
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            left: 30px;
            border: medium solid #f8f9fa;
            border-width: 10px 10px 10px 0;
            border-color: transparent #f8f9fa transparent transparent;
        }

        .timeline-right::after {
            left: -10px;
        }

        .timeline-content {
            padding: 20px 30px;
            background-color: #f8f9fa;
            position: relative;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }

        .ecosystem-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .ecosystem-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .ecosystem-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .ecosystem-card-img {
            height: 200px;
            width: 100%;
            object-fit: cover;
        }

        .ecosystem-card-content {
            padding: 1.5rem;
        }

        .ecosystem-card h3 {
            margin-top: 0;
            color: #333;
        }

        .ecosystem-card p {
            color: #666;
            line-height: 1.5;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        /* 食物网构建器样式 */
        .food-web-builder {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .food-web-canvas {
            background-color: #f5f5f5;
            border: 2px dashed #ccc;
            border-radius: 10px;
            height: 400px;
            position: relative;
            overflow: hidden;
        }

        .canvas-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #888;
            font-size: 1.1rem;
            text-align: center;
            max-width: 80%;
        }

        .food-web-controls {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .species-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 1rem;
            max-height: 250px;
            overflow-y: auto;
            padding: 1rem;
            background: #f9f9f9;
            border-radius: 10px;
        }

        .species-card {
            background: white;
            border-radius: 8px;
            padding: 0.5rem;
            text-align: center;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .species-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .species-card img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 6px;
            margin-bottom: 0.5rem;
            background-color: #f0f0f0;
            transition: all 0.3s ease;
        }

        .species-card img:not([src]), .species-card img[src=""] {
            opacity: 0.2;
            min-height: 60px;
        }

        .species-card span {
            font-size: 0.85rem;
            font-weight: 500;
            color: #333;
        }

        .species-card.producer {
            border-bottom: 3px solid #4caf50;
        }

        .species-card.herbivore {
            border-bottom: 3px solid #2196f3;
        }

        .species-card.carnivore {
            border-bottom: 3px solid #f44336;
        }

        .species-card.top-predator {
            border-bottom: 3px solid #9c27b0;
        }

        .species-card.decomposer {
            border-bottom: 3px solid #ff9800;
        }

        .control-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .food-web-results {
            background: #fff;
            border-radius: 10px;
            padding: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .food-web-results h4 {
            color: #2e7d32;
            margin-top: 0;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 0.5rem;
        }

        .canvas-species {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.5rem;
            cursor: move;
            z-index: 10;
        }

        .canvas-species img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 4px;
            background-color: #f0f0f0;
            transition: all 0.3s ease;
        }

        .canvas-species img:not([src]), .canvas-species img[src=""] {
            opacity: 0.2;
            min-height: 50px;
        }

        .canvas-species span {
            font-size: 0.75rem;
            margin-top: 0.25rem;
            text-align: center;
            color: #333;
        }

        .canvas-species.producer {
            border: 2px solid #4caf50;
        }

        .canvas-species.herbivore {
            border: 2px solid #2196f3;
        }

        .canvas-species.carnivore {
            border: 2px solid #f44336;
        }

        .canvas-species.top-predator {
            border: 2px solid #9c27b0;
        }

        .canvas-species.decomposer {
            border: 2px solid #ff9800;
        }

        /* 食物网图例样式 */
        .food-web-legend {
            background: white;
            border-radius: 8px;
            padding: 0.75rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .food-web-legend h4 {
            margin-top: 0;
            margin-bottom: 0.5rem;
            color: #333;
            font-size: 1rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.3rem;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
            margin-right: 0.5rem;
        }

        .legend-label {
            font-size: 0.85rem;
            color: #555;
        }

        /* 类型标识 */
        .type-indicator {
            font-size: 0.75rem;
            margin-top: 0.25rem;
            display: block;
        }

        /* 动画效果 */
        .appear-animation {
            animation: appear 0.5s ease-out;
        }

        .analysis-animation {
            animation: pulse 0.5s ease-in-out;
        }

        @keyframes appear {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.5);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(76, 175, 80, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
            }
        }

        @media (max-width: 768px) {
            .two-column {
                grid-template-columns: 1fr;
            }
            
            .timeline::after {
                left: 31px;
            }
            
            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }
            
            .timeline-item::before {
                left: 60px;
                border-width: 10px 10px 10px 0;
                border-color: transparent #f8f9fa transparent transparent;
            }
            
            .timeline-left::after, .timeline-right::after {
                left: 21px;
            }
            
            .timeline-right {
                left: 0%;
            }

            .food-web-builder {
                flex-direction: column;
            }
            
            .species-cards {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            }

            .canvas-species {
                width: 70px;
                height: 70px;
            }

            .canvas-species img {
                width: 40px;
                height: 40px;
            }
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="../../index.html">
                        <i class="fas fa-graduation-cap" style="background: linear-gradient(90deg, #4361ee, #7209b7); -webkit-background-clip: text; background-clip: text; color: transparent;"></i>
                        <span>Alex的学习助手</span>
                    </a>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="../../index.html">首页</a></li>
                        <li><a href="main.html">生物</a></li>
                        <li><a href="../../index.html#subjects">科目</a></li>
                        <li><a href="../../tts.html">语音</a></li>
                        <li><a href="../../draw.html">绘图</a></li>
                    </ul>
                </nav>
                <button class="mobile-menu-toggle" aria-label="切换菜单">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main class="ecology-page">
        <div class="container">
            <div class="ecology-container">
                <div class="ecology-header">
                    <h1><i class="fas fa-leaf"></i> 生态学</h1>
                    <p>探索生物与环境的复杂关系，理解生态系统如何运作、演变和维持平衡</p>
                </div>

                <div class="ecology-tabs">
                    <button class="ecology-tab active" data-tab="introduction">生态学基础</button>
                    <button class="ecology-tab" data-tab="ecosystem">生态系统</button>
                    <button class="ecology-tab" data-tab="succession">生态演替</button>
                    <button class="ecology-tab" data-tab="biodiversity">生物多样性</button>
                    <button class="ecology-tab" data-tab="energy-flow">能量流动与物质循环</button>
                    <button class="ecology-tab" data-tab="human-impact">人类影响</button>
                    <button class="ecology-tab" data-tab="interactive">互动实验室</button>
                </div>

                <div class="ecology-content">
                    <!-- 生态学基础标签页 -->
                    <div class="tab-panel active" id="introduction-panel">
                        <h2>什么是生态学？</h2>
                        
                        <div class="concept-card">
                            <h3>生态学的定义与范围</h3>
                            <p>生态学是研究生物与其环境之间相互关系的科学。它探索生物如何相互作用，以及它们如何与周围的非生物环境（如气候、地质和化学条件）交互。生态学研究的范围从单个生物体到整个生物圈，包括所有的生物及其居住的环境。</p>
                            
                            <div class="definition-box">
                                <h4>核心概念</h4>
                                <ul>
                                    <li><strong>生物因子</strong>：所有生物组成部分，包括植物、动物、微生物等</li>
                                    <li><strong>非生物因子</strong>：所有非生物组成部分，如阳光、水、温度、土壤等</li>
                                    <li><strong>生态位</strong>：物种在生态系统中的功能角色和它对资源的需求</li>
                                    <li><strong>生物间相互作用</strong>：竞争、捕食、共生等关系</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="two-column">
                            <div class="concept-card">
                                <h3>生态学的组织层次</h3>
                                <img src="https://cdn.pixabay.com/photo/2023/01/23/13/37/ecological-levels-7738377_1280.jpg" alt="生态学的组织层次" class="ecology-image">
                                <ol>
                                    <li><strong>个体（Individual）</strong>：单个生物体</li>
                                    <li><strong>种群（Population）</strong>：同一物种的个体群体</li>
                                    <li><strong>群落（Community）</strong>：在同一区域内相互作用的不同种群</li>
                                    <li><strong>生态系统（Ecosystem）</strong>：生物群落与其物理环境的相互作用系统</li>
                                    <li><strong>生物群系（Biome）</strong>：具有相似气候和生物群落的大型生态区域</li>
                                    <li><strong>生物圈（Biosphere）</strong>：地球上所有生物及其栖息地的总和</li>
                                </ol>
                            </div>
                            
                            <div class="concept-card">
                                <h3>生态学的重要性</h3>
                                <p>生态学对于理解自然世界和解决现代环境挑战至关重要：</p>
                                <ul>
                                    <li>帮助我们理解生物多样性如何维持生态系统的健康和功能</li>
                                    <li>提供关于环境变化如何影响物种和生态系统的洞见</li>
                                    <li>为保护濒危物种和栖息地提供科学依据</li>
                                    <li>帮助我们开发可持续资源管理策略</li>
                                    <li>解决气候变化、污染和栖息地丧失等全球性环境问题</li>
                                </ul>
                                <p>通过学习生态学，我们能更好地理解人类活动对自然系统的影响，并找到更和谐地与自然共存的方式。</p>
                            </div>
                        </div>
                        
                        <div class="interactive-module">
                            <h3>探索生态学研究的主要分支</h3>
                            <div class="ecosystem-grid">
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2020/05/23/18/49/ecosystem-5210563_1280.jpg" alt="种群生态学" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>种群生态学</h3>
                                        <p>研究同一物种个体的数量变化、分布和相互作用。包括出生率、死亡率、迁移和种群增长模式等。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2015/12/01/20/28/forest-1072828_1280.jpg" alt="群落生态学" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>群落生态学</h3>
                                        <p>研究不同物种之间的相互作用及其对群落结构和功能的影响，如食物网、生态位分化和群落演替等。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2018/08/06/22/55/nature-3588682_1280.jpg" alt="生态系统生态学" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>生态系统生态学</h3>
                                        <p>研究生物与非生物环境之间的相互作用，特别关注能量流动、营养循环和生态系统服务。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2016/11/14/04/36/earth-1822866_1280.jpg" alt="全球生态学" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>全球生态学</h3>
                                        <p>研究全球尺度的生态过程，包括气候变化、生物地球化学循环和大尺度生态模式。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 生态系统标签页 -->
                    <div class="tab-panel" id="ecosystem-panel">
                        <h2>生态系统：生命的互联网络</h2>
                        
                        <div class="concept-card">
                            <h3>什么是生态系统？</h3>
                            <p>生态系统是由生物群落与其物理环境相互作用形成的功能单位。它包括所有生物（植物、动物、微生物）及其所处的非生物环境（空气、水、矿物质和土壤）之间的相互关系。生态系统可大可小，从一个小水坑到整个热带雨林都可以被视为生态系统。</p>
                            
                            <div class="definition-box">
                                <h4>生态系统的基本特征</h4>
                                <ul>
                                    <li><strong>结构</strong>：由生物和非生物组分组成</li>
                                    <li><strong>功能</strong>：能量流动、物质循环和信息传递</li>
                                    <li><strong>复杂性</strong>：包含多层次的相互作用关系</li>
                                    <li><strong>开放性</strong>：与周围环境进行物质、能量和信息的交换</li>
                                    <li><strong>动态平衡</strong>：通过自我调节机制维持相对稳定</li>
                                </ul>
                            </div>
                            </div>
                            
                        <div class="interactive-module">
                            <h3>生态系统的主要类型</h3>
                            <div class="ecosystem-grid">
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2016/11/14/04/45/elephant-1823330_1280.jpg" alt="陆地生态系统" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>陆地生态系统</h3>
                                        <p>包括森林、草原、荒漠、苔原等，受气候、土壤和地形等因素的影响，形成不同的生物群系。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2013/02/04/20/44/coral-77957_1280.jpg" alt="水生生态系统" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>水生生态系统</h3>
                                        <p>包括淡水（河流、湖泊、湿地）和海洋生态系统，水深、温度、盐度等因素决定了它们的特性。</p>
                                    </div>
                                </div>

                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2016/01/19/17/52/wetland-1149980_1280.jpg" alt="过渡生态系统" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>过渡生态系统</h3>
                                        <p>如湿地、红树林、河口等，位于陆地和水生生态系统之间，具有独特的生物多样性和生态功能。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2014/11/13/14/50/microorganism-529401_1280.jpg" alt="微观生态系统" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>微观生态系统</h3>
                                        <p>如土壤生态系统、微生物群落，虽然规模小但在物质循环和能量流动中起着至关重要的作用。</p>
                                </div>
                            </div>
                        </div>
                    </div>

                        <div class="concept-card">
                            <h3>食物链与食物网</h3>
                            <p>食物链描述了生态系统中能量从一个生物传递到另一个生物的路径。多条食物链相互交织形成食物网，展示了生态系统中更复杂的能量流动关系。</p>
                            
                            <div class="two-column">
                                <div>
                                    <h4>营养级</h4>
                                    <ol>
                                        <li><strong>生产者</strong>：通过光合作用制造有机物的自养生物，如绿色植物、藻类</li>
                                        <li><strong>初级消费者</strong>：以生产者为食的草食动物</li>
                                        <li><strong>次级消费者</strong>：以初级消费者为食的肉食动物</li>
                                        <li><strong>三级消费者</strong>：以次级消费者为食的高级肉食动物</li>
                                        <li><strong>分解者</strong>：分解死亡生物残体的微生物，如真菌和细菌</li>
                                    </ol>
                                </div>
                                <div>
                                    <img src="https://cdn.pixabay.com/photo/2016/10/22/19/16/food-web-1761370_1280.jpg" alt="食物网示例" class="ecology-image">
                                    <p><small>食物网展示了生态系统中复杂的能量流动路径</small></p>
                                </div>
                            </div>
                            
                            <div class="definition-box">
                                <h4>生态系统中的能量转移规律</h4>
                                <p><strong>十分之一定律</strong>：从一个营养级到下一个营养级，大约只有10%的能量被传递，其余90%用于生物的生命活动或以热能形式散失。这解释了为什么食物链通常不超过4-5个营养级，以及为什么顶级捕食者的数量相对较少。</p>
                                </div>
                                </div>
                        
                        <div class="concept-card">
                            <h3>生态系统服务</h3>
                            <p>生态系统服务是指人类从生态系统中获得的各种惠益。这些服务对人类生存和福祉至关重要：</p>
                            
                            <div class="two-column">
                                <div>
                                    <h4>供给服务</h4>
                                    <ul>
                                        <li>食物和饮用水</li>
                                        <li>原材料（木材、纤维等）</li>
                                        <li>遗传资源和药用资源</li>
                                    </ul>
                                    
                                    <h4>调节服务</h4>
                                    <ul>
                                        <li>气候调节和空气净化</li>
                                        <li>水净化和废物处理</li>
                                        <li>授粉和种子传播</li>
                                        <li>自然灾害缓冲（如红树林防护海岸）</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4>支持服务</h4>
                                    <ul>
                                        <li>土壤形成和营养循环</li>
                                        <li>初级生产</li>
                                        <li>生物多样性维持</li>
                                    </ul>
                                    
                                    <h4>文化服务</h4>
                                    <ul>
                                        <li>审美价值和精神价值</li>
                                        <li>教育和科研价值</li>
                                        <li>休闲和生态旅游</li>
                                    </ul>
                                </div>
                                </div>
                            
                            <p>保护生态系统服务对于实现可持续发展至关重要。随着全球生态系统面临越来越多的威胁，人们越来越认识到生态系统服务的经济和社会价值。</p>
                                </div>
                        
                        <div class="interactive-module">
                            <h3>生态系统的平衡与干扰</h3>
                            <p>生态系统通常处于动态平衡状态，但各种干扰可能破坏这种平衡：</p>
                            
                            <div class="ecosystem-grid">
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2020/02/12/11/13/deforestation-4842767_1280.jpg" alt="人为干扰" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>人为干扰</h3>
                                        <p>如栖息地破坏、污染、过度开发等，通常具有持续性和大范围影响，可能导致生态系统不可逆的改变。</p>
                                </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2018/07/24/14/04/fire-3558879_1280.jpg" alt="自然干扰" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>自然干扰</h3>
                                        <p>如火灾、洪水、风暴等自然现象，往往是生态系统演替和更新的重要驱动力，许多生态系统已适应这些周期性干扰。</p>
                                </div>
                            </div>

                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2018/04/19/13/28/kudzu-3333334_1280.jpg" alt="生物入侵" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>生物入侵</h3>
                                        <p>外来物种入侵可能改变生态系统结构，竞争资源，捕食本地物种，或带来新的疾病，导致生物多样性下降。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2018/03/28/19/09/climate-3270315_1280.jpg" alt="气候变化" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>气候变化</h3>
                                        <p>全球气候变化影响温度、降水模式和极端天气事件的频率，迫使物种适应、迁移或面临灭绝风险。</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="definition-box">
                                <h4>生态系统韧性</h4>
                                <p>生态系统韧性是指生态系统在面对干扰后恢复其基本结构和功能的能力。高生物多样性的生态系统通常具有更强的韧性，因为它们有更多的功能冗余和恢复途径。增强生态系统韧性是生态恢复和保护管理的重要目标。</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 生态演替标签页 -->
                    <div class="tab-panel" id="succession-panel">
                        <h2>生态演替：生态系统的发展历程</h2>
                        
                        <div class="concept-card">
                            <h3>什么是生态演替？</h3>
                            <p>生态演替是指一个地区的生物群落随时间逐渐、有序地变化的过程。这种变化通常是可预测的，从简单到复杂，从不稳定到稳定。演替过程中，先前的物种通常会改变环境条件，使其更适合后来的物种生存，直到形成一个相对稳定的顶级群落。</p>
                            
                            <div class="definition-box">
                                <h4>演替的特征</h4>
                                <ul>
                                    <li><strong>有序性</strong>：演替遵循一定的发展规律和方向</li>
                                    <li><strong>渐进性</strong>：生态变化通常是渐进的，但速度可能因环境条件而异</li>
                                    <li><strong>自我调节</strong>：生物通过改变环境为后续群落创造条件</li>
                                    <li><strong>稳定趋势</strong>：演替通常朝着更复杂、更稳定的生态系统发展</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="two-column">
                            <div class="concept-card">
                                <h3>演替的类型</h3>
                                <img src="https://cdn.pixabay.com/photo/2016/11/23/13/48/beach-1852945_1280.jpg" alt="原生演替" class="ecology-image">
                                <h4>原生演替 (Primary Succession)</h4>
                                <p>发生在之前没有生命存在的新形成区域，如新火山岩、冰川退缩后的裸露岩石、沙丘等。这类演替从零开始，没有土壤，过程通常很缓慢，可能需要数百年或更长时间。</p>
                                
                                <h4>次生演替 (Secondary Succession)</h4>
                                <p>发生在生物群落被干扰或破坏但仍有土壤存在的区域，如森林火灾后的恢复、废弃农田的再生等。因为土壤和一些植物种子仍然存在，这类演替通常比原生演替快得多。</p>
                            </div>
                            
                            <div class="concept-card">
                                <h3>演替的驱动因素</h3>
                                <h4>自生演替 (Autogenic Succession)</h4>
                                <p>由生物群落自身引起的环境变化驱动的演替。例如，早期植物改变土壤性质，创造适合后期植物生长的条件。</p>
                                
                                <h4>异生演替 (Allogenic Succession)</h4>
                                <p>由外部环境因素变化驱动的演替，如气候变化、地质活动等。</p>
                                
                                <h4>其他演替类型</h4>
                                <ul>
                                    <li><strong>进行性演替</strong>：朝着更复杂群落发展的演替</li>
                                    <li><strong>退行性演替</strong>：因干扰导致生态系统简化的演替</li>
                                    <li><strong>循环演替</strong>：周期性重复出现的演替</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="concept-card">
                            <h3>生态演替的阶段</h3>
                            <p>生态演替是一个连续的过程，但通常可以分为以下几个关键阶段：</p>
                            
                            <div class="timeline">
                                <div class="timeline-item timeline-left">
                                    <div class="timeline-content">
                                        <h4>1. 裸地形成 (Nudation)</h4>
                                        <p>演替开始的第一阶段，形成没有生命的裸露区域。可能由火山爆发、冰川活动、风蚀、水蚀或人类活动等原因造成。</p>
                                    </div>
                                </div>
                                
                                <div class="timeline-item timeline-right">
                                    <div class="timeline-content">
                                        <h4>2. 侵入 (Invasion)</h4>
                                        <p>先锋物种开始定植裸地。这些物种通常具有强大的传播能力、快速生长和对恶劣环境的适应能力。例如，地衣和苔藓常是岩石表面的先锋物种。</p>
                                    </div>
                                </div>
                                
                                <div class="timeline-item timeline-left">
                                    <div class="timeline-content">
                                        <h4>3. 竞争与共存 (Competition & Coaction)</h4>
                                        <p>随着更多物种的到来，竞争加剧。物种之间开始形成复杂的相互作用关系，包括竞争、捕食、共生等。</p>
                                    </div>
                                </div>
                                
                                <div class="timeline-item timeline-right">
                                    <div class="timeline-content">
                                        <h4>4. 反应 (Reaction)</h4>
                                        <p>生物群落改变环境，例如增加土壤有机质、改变土壤酸碱度或创造遮阴环境。这些变化使环境对现有物种不再最适宜，但为新物种的入侵创造条件。</p>
                                    </div>
                                </div>
                                
                                <div class="timeline-item timeline-left">
                                    <div class="timeline-content">
                                        <h4>5. 稳定 (Stabilization)</h4>
                                        <p>最终形成相对稳定的顶级群落。这个群落与环境处于动态平衡状态，能够自我维持，除非受到重大干扰。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="interactive-module">
                            <h3>经典演替案例</h3>
                            
                            <div class="ecosystem-grid">
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2015/03/18/09/31/glacier-679904_1280.jpg" alt="冰川退缩后的演替" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>冰川退缩后的演替</h3>
                                        <p>冰川退缩后留下裸露的岩石和冰碛物。先锋植物如地衣和苔藓首先定植，随后是草本植物、灌木，最终可能发展为森林。这是原生演替的典型例子。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2015/11/07/11/08/forest-fire-1030383_1280.jpg" alt="火灾后的森林恢复" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>火灾后的森林恢复</h3>
                                        <p>森林火灾后，首先出现的是一年生草本植物，利用火灾释放的养分快速生长。随后是多年生草本植物和灌木，最终恢复为森林。这是次生演替的典型过程。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2016/11/30/15/23/apples-1873078_1280.jpg" alt="废弃农田的演替" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>废弃农田的演替</h3>
                                        <p>停止耕种的农田首先被一年生杂草占据，然后是多年生草本植物和灌木，最终可能发展为森林。这个过程可能需要几十年到上百年，取决于气候和土壤条件。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2016/11/23/14/37/dunes-1853279_1280.jpg" alt="沙丘演替" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>沙丘演替</h3>
                                        <p>沙丘首先被能够忍受强风、高温和缺水条件的植物如沙生植物定植。这些植物帮助稳定沙丘，积累有机质，最终可能发展为更丰富的植被类型。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="concept-card">
                            <h3>演替的生态意义</h3>
                            <p>生态演替在生态系统功能和生物多样性维持方面具有重要意义：</p>
                            
                            <ul>
                                <li><strong>生物多样性增强</strong>：演替过程通常导致生物多样性从低到高的变化，增加生态系统的复杂性和稳定性。</li>
                                <li><strong>生态系统恢复</strong>：演替是自然恢复被破坏生态系统的主要机制，理解演替对生态恢复和重建至关重要。</li>
                                <li><strong>生物地球化学循环</strong>：演替过程中物种的更替促进了养分循环和土壤形成。</li>
                                <li><strong>环境适应与进化</strong>：演替反映了物种对环境变化的适应和共同进化过程。</li>
                                <li><strong>景观多样性</strong>：不同演替阶段的共存增加了景观尺度的多样性，为不同物种提供栖息地。</li>
                            </ul>
                            
                            <div class="definition-box">
                                <h4>顶级群落的概念演变</h4>
                                <p>早期生态学家如F.E. Clements认为顶级群落是一个地区最终稳定的"气候顶级群落"，主要由气候决定。现代生态学对这一观点有所修正，认为多种因素（气候、土壤、地形、干扰等）共同决定顶级群落，且生态系统始终处于动态变化中。环境的变化（如气候变化）和持续的干扰可能使得真正的"顶级"状态难以达到或维持。</p>
                            </div>
                        </div>
                    </div>

                    <!-- 生物多样性标签页 -->
                    <div class="tab-panel" id="biodiversity-panel">
                        <h2>生物多样性：生命的丰富织锦</h2>
                        
                        <div class="concept-card">
                            <h3>什么是生物多样性？</h3>
                            <p>生物多样性是指地球上所有生命形式的多样性，包括基因、物种和生态系统层面的变异。它是地球生命演化40多亿年的结果，代表了生物适应各种环境的多种解决方案。生物多样性不仅是科学研究的对象，也是人类赖以生存的基础和可持续发展的保障。</p>
                            
                            <div class="definition-box">
                                <h4>生物多样性的三个层次</h4>
                                <ul>
                                    <li><strong>基因多样性</strong>：同一物种内个体之间的遗传变异，为物种适应环境变化提供基础</li>
                                    <li><strong>物种多样性</strong>：生态系统中不同物种的丰富度和均匀度</li>
                                    <li><strong>生态系统多样性</strong>：地球上不同生态系统类型的多样性，如森林、草原、湿地、珊瑚礁等</li>
                                </ul>
                            </div>
                            </div>
                            
                        <div class="interactive-module">
                            <h3>全球生物多样性热点地区</h3>
                            <p>生物多样性热点地区是指既具有特别丰富的物种多样性，又面临严重威胁的地区。全球共有36个生物多样性热点地区，占地球陆地面积的2.4%，但包含了全球43.8%的特有植物物种和32.1%的特有脊椎动物物种。</p>
                            
                            <div class="ecosystem-grid">
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2018/01/04/20/43/amazon-3061424_1280.jpg" alt="亚马逊雨林" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>亚马逊雨林</h3>
                                        <p>地球上最大的热带雨林，占全球热带雨林面积的一半，拥有超过400万种植物和动物，占地球已知物种的10%。</p>
                                </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2020/11/24/18/19/coral-reef-5773884_1280.jpg" alt="珊瑚三角区" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>珊瑚三角区</h3>
                                        <p>位于印度尼西亚、马来西亚、菲律宾、巴布亚新几内亚等国之间的海域，是全球海洋生物多样性最丰富的区域，拥有全球76%的珊瑚物种。</p>
                                </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2020/04/15/13/23/fynbos-5046476_1280.jpg" alt="好望角植物区" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>好望角植物区</h3>
                                        <p>位于南非西南部，面积仅9000平方公里，却拥有9000多种植物，其中70%为特有种，是地球上植物多样性最丰富的地区之一。</p>
                                </div>
                            </div>

                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2015/10/12/15/01/china-984231_1280.jpg" alt="中国-西南山地" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>中国-西南山地</h3>
                                        <p>包括横断山脉、喜马拉雅山东部等地区，是东亚温带植物区系的重要起源和分化中心，拥有丰富的特有物种。</p>
                                    </div>
                            </div>
                        </div>
                    </div>

                        <div class="concept-card">
                            <h3>生物多样性的测量与评估</h3>
                            
                            <div class="two-column">
                                <div>
                                    <h4>物种多样性指数</h4>
                                    <ul>
                                        <li><strong>物种丰富度</strong>：一个区域内物种的总数量</li>
                                        <li><strong>Shannon-Wiener指数</strong>：综合考虑物种丰富度和均匀度的指数</li>
                                        <li><strong>Simpson多样性指数</strong>：测量群落中任意抽取两个个体属于不同物种的概率</li>
                                    </ul>
                                    </div>
                                <div>
                                    <h4>评估方法</h4>
                                    <ul>
                                        <li><strong>样方调查</strong>：在特定区域内设置样方进行物种调查</li>
                                        <li><strong>样线调查</strong>：沿特定路线记录观察到的物种</li>
                                        <li><strong>DNA条形码技术</strong>：通过DNA分析识别物种</li>
                                        <li><strong>卫星遥感</strong>：大尺度监测生态系统变化</li>
                                    </ul>
                                    </div>
                                    </div>
                            
                            <div class="definition-box">
                                <h4>Shannon-Wiener指数计算公式</h4>
                                <p>H' = -Σ(pi × ln pi)</p>
                                <p>其中，pi是第i个物种的个体数占总个体数的比例，ln是自然对数。H'值越大，表示多样性越高。</p>
                                    </div>
                                </div>
                        
                        <div class="concept-card">
                            <h3>生物多样性的价值</h3>
                            <p>生物多样性的价值远超出我们的想象，它为人类和地球提供了众多无法替代的服务和资源：</p>
                            
                            <div class="two-column">
                                <div>
                                    <h4>生态价值</h4>
                                    <ul>
                                        <li>维持生态系统功能和平衡</li>
                                        <li>增强生态系统抵抗力和恢复力</li>
                                        <li>促进生物地球化学循环</li>
                                        <li>提供授粉、种子传播等关键生态服务</li>
                                    </ul>
                                    
                                    <h4>经济价值</h4>
                                    <ul>
                                        <li>提供食物、药物、建材等资源</li>
                                        <li>支持农业、渔业、林业等产业</li>
                                        <li>促进生态旅游发展</li>
                                        <li>提供生物技术和医药研发资源</li>
                                    </ul>
                            </div>
                                <div>
                                    <h4>文化价值</h4>
                                    <ul>
                                        <li>支持文化多样性和传统知识</li>
                                        <li>提供审美、教育和科研价值</li>
                                        <li>满足人类精神和宗教需求</li>
                                    </ul>
                                    
                                    <h4>伦理价值</h4>
                                    <ul>
                                        <li>所有物种的生存权</li>
                                        <li>为后代保留生物遗产的责任</li>
                                        <li>与自然和谐共处的伦理观</li>
                                    </ul>
                            </div>
                        </div>
                    </div>

                        <div class="concept-card">
                            <h3>生物多样性面临的威胁</h3>
                            <p>当前，全球生物多样性正经历自恐龙灭绝以来最严重的危机，称为第六次生物大灭绝。人类活动是导致这一危机的主要原因：</p>
                            
                            <div class="ecosystem-grid">
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2018/11/08/23/16/forest-3803551_1280.jpg" alt="栖息地丧失和破碎化" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>栖息地丧失和破碎化</h3>
                                        <p>由于农业扩张、城市化、基础设施建设等原因，自然栖息地被破坏或分割成小块，是生物多样性丧失的首要原因。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2015/01/16/15/01/climate-601908_1280.jpg" alt="气候变化" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                    <h3>气候变化</h3>
                                        <p>全球变暖改变了物种的分布范围、迁徙模式和繁殖时间，破坏了生态平衡，对适应能力弱的物种构成严重威胁。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2017/07/24/20/08/Snake-river-2535548_1280.jpg" alt="过度开发利用" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>过度开发利用</h3>
                                        <p>过度捕捞、狩猎、采集和贸易直接减少了野生动植物的数量，使许多物种濒临灭绝。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2019/02/02/13/44/rabbit-3971257_1280.jpg" alt="外来入侵物种" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>外来入侵物种</h3>
                                        <p>人为引入的外来物种可能成为入侵物种，与本地物种竞争资源，捕食本地物种，或传播疾病，破坏生态平衡。</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="definition-box">
                                <h4>HIPPO模型</h4>
                                <p>E.O.威尔逊提出的HIPPO模型总结了生物多样性面临的主要威胁：</p>
                                <ul>
                                    <li><strong>H</strong>abitat loss - 栖息地丧失</li>
                                    <li><strong>I</strong>nvasive species - 入侵物种</li>
                                    <li><strong>P</strong>ollution - 污染</li>
                                    <li><strong>P</strong>opulation growth (human) - 人口增长</li>
                                    <li><strong>O</strong>ver-harvesting - 过度开发</li>
                                            </ul>
                                        </div>
                                        </div>
                        
                        <div class="interactive-module">
                            <h3>生物多样性保护策略</h3>
                            <p>保护生物多样性需要多层次、多角度的综合措施：</p>
                            
                            <div class="ecosystem-grid">
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2015/07/27/18/34/life-862985_1280.jpg" alt="就地保护" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>就地保护</h3>
                                        <p>在物种原生环境中进行保护，包括建立自然保护区、国家公园、生物圈保护区等。这种方法保护的不仅是单个物种，还有整个生态系统及其生态过程。</p>
                                    </div>
                                </div>

                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2017/01/08/08/48/flora-1962922_1280.jpg" alt="迁地保护" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>迁地保护</h3>
                                        <p>在物种原生环境外进行保护，如植物园、动物园、水族馆、种子库等。对于极度濒危的物种，这可能是避免灭绝的最后手段。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2020/05/18/16/20/laptop-5187265_1280.jpg" alt="政策与法规" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>政策与法规</h3>
                                        <p>建立和完善生物多样性保护的法律法规和政策，如《生物多样性公约》、《濒危野生动植物种国际贸易公约》等国际条约，以及各国的相关法律。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2017/08/16/12/00/hand-2647307_1280.jpg" alt="可持续利用" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>可持续利用</h3>
                                        <p>在满足当代人需求的同时，不损害后代人满足其需求的能力。包括可持续农业、林业、渔业实践，以及生态旅游等。</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="definition-box">
                                <h4>生物多样性保护的两种观点</h4>
                                <p><strong>功利主义观点</strong>：强调生物多样性对人类的价值和效用，保护生物多样性是为了人类自身的利益。</p>
                                <p><strong>生态中心主义观点</strong>：认为所有生物都有其内在价值和存在的权利，不仅仅因为其对人类的价值而应被保护。</p>
                                <p>现代保护生物学通常结合这两种观点，既考虑生物多样性的内在价值，也强调其对人类的重要性。</p>
                            </div>
                        </div>
                    </div>

                    <!-- 能量流动与物质循环标签页 -->
                    <div class="tab-panel" id="energy-flow-panel">
                        <h2>能量流动与物质循环：生态系统的动力学</h2>
                        
                        <div class="concept-card">
                            <h3>能量流动与物质循环的基本原理</h3>
                            <p>生态系统中的能量流动和物质循环是维持生态系统功能和平衡的基础。虽然两者密切相关，但它们遵循不同的规律：</p>
                            
                            <div class="two-column">
                                <div>
                                    <h4>能量流动</h4>
                                    <ul>
                                        <li><strong>单向流动</strong>：能量在生态系统中是单向流动的，从太阳能开始，通过食物链/食物网传递，最终以热能形式散失</li>
                                        <li><strong>能量递减</strong>：每一营养级传递到下一级的能量仅约10%，符合热力学第二定律</li>
                                        <li><strong>不可再生</strong>：能量不能循环使用，生态系统需要持续的能量输入（主要是太阳能）</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4>物质循环</h4>
                                    <ul>
                                        <li><strong>循环流动</strong>：物质（如碳、氮、磷等元素）在生物和非生物环境之间循环流动</li>
                                        <li><strong>可再利用</strong>：同一物质分子可以被多次利用</li>
                                        <li><strong>有限资源</strong>：地球上的物质总量有限，循环利用对维持生态系统至关重要</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="definition-box">
                                <h4>生态系统能量流动的特点</h4>
                                <ul>
                                    <li><strong>来源的单一性</strong>：太阳能是绝大多数生态系统的主要能量来源（深海热液生态系统等少数例外）</li>
                                    <li><strong>流动的单向性</strong>：能量不能循环使用，最终以热能形式散失到环境中</li>
                                    <li><strong>传递的递减性</strong>：遵循"十分之一定律"，限制了食物链长度和生物量金字塔的形状</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="concept-card">
                            <h3>生态金字塔</h3>
                            <p>生态金字塔是描述生态系统各营养级之间能量、数量或生物量关系的图形模型。根据表示内容的不同，可分为三种类型：</p>
                            
                            <div class="two-column">
                                <div>
                                    <img src="https://cdn.pixabay.com/photo/2016/01/08/19/39/ecology-1129279_1280.jpg" alt="生态金字塔" class="ecology-image">
                                </div>
                                <div>
                                    <h4>数量金字塔</h4>
                                    <p>表示各营养级生物个体数量的关系。通常呈金字塔形，但也有例外（如寄生关系）。</p>
                                    
                                    <h4>生物量金字塔</h4>
                                    <p>表示各营养级生物干重总量的关系。大多数陆地生态系统呈金字塔形，但某些水生生态系统可能呈倒金字塔形。</p>
                                    
                                    <h4>能量金字塔</h4>
                                    <p>表示各营养级能量含量的关系。始终呈金字塔形，反映了能量在传递过程中的损失。</p>
                                </div>
                            </div>
                            
                            <div class="definition-box">
                                <h4>能量传递效率</h4>
                                <p>能量传递效率是指从一个营养级传递到下一个营养级的能量百分比。通常约为10%，但可能因生态系统类型和具体物种而异（范围约5-20%）。影响因素包括：</p>
                                <ul>
                                    <li>消费者的同化率（摄入食物中能被吸收的比例）</li>
                                    <li>生物的呼吸损耗（维持生命活动消耗的能量）</li>
                                    <li>食物的可消化性和营养价值</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="interactive-module">
                            <h3>主要的生物地球化学循环</h3>
                            <p>生物地球化学循环是指元素或化合物在生物圈内循环流动的过程，通常涉及生物和非生物环境之间的转化。以下是几个关键的物质循环：</p>
                            
                            <div class="ecosystem-grid">
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2022/01/21/17/14/carbon-cycle-6955956_1280.jpg" alt="碳循环" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>碳循环</h3>
                                        <p>碳在生物圈、大气、水圈和岩石圈之间的循环。主要过程包括光合作用（CO₂→有机碳）、呼吸作用（有机碳→CO₂）、燃烧、化石燃料形成等。碳循环与气候变化密切相关。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2020/03/16/12/53/soil-4937161_1280.jpg" alt="氮循环" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>氮循环</h3>
                                        <p>氮从大气（N₂）转化为生物可用形式的过程。关键步骤包括固氮作用（N₂→NH₄⁺）、硝化作用（NH₄⁺→NO₃⁻）、反硝化作用（NO₃⁻→N₂）等。氮是蛋白质等生物分子的重要组成部分。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2016/03/28/16/04/water-1285669_1280.jpg" alt="水循环" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>水循环</h3>
                                        <p>水在大气、陆地和海洋之间的循环。包括蒸发、蒸腾、凝结、降水、径流等过程。水循环对气候调节、侵蚀作用和淡水资源分布有重要影响。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2016/02/14/20/17/phosphor-1200395_1280.jpg" alt="磷循环" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>磷循环</h3>
                                        <p>磷主要在陆地和水体之间循环，没有大气相。关键过程包括风化、侵蚀、吸收和分解。磷是生物体中DNA、RNA和ATP的重要组成部分，也是农业生产中的关键养分。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="concept-card">
                            <h3>碳循环的深入解析</h3>
                            <p>碳循环是最重要的生物地球化学循环之一，对气候调节和生命维持至关重要：</p>
                            
                            <div class="two-column">
                                <div>
                                    <h4>主要碳库</h4>
                                    <ul>
                                        <li><strong>大气</strong>：主要以CO₂形式存在（约800 Gt C）</li>
                                        <li><strong>海洋</strong>：最大的活性碳库（约38,000 Gt C）</li>
                                        <li><strong>陆地生物质</strong>：植物、动物和土壤有机物（约2,000 Gt C）</li>
                                        <li><strong>化石燃料和沉积岩</strong>：长期碳储存（>60,000 Gt C）</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4>主要碳循环过程</h4>
                                    <ul>
                                        <li><strong>光合作用</strong>：植物和藻类将CO₂转化为有机碳</li>
                                        <li><strong>呼吸作用</strong>：生物将有机碳氧化为CO₂释放能量</li>
                                        <li><strong>燃烧</strong>：火灾和化石燃料燃烧释放CO₂到大气</li>
                                        <li><strong>分解</strong>：微生物分解死亡生物体，释放CO₂</li>
                                        <li><strong>海洋溶解和交换</strong>：CO₂在大气和海洋之间交换</li>
                                        <li><strong>沉积作用</strong>：生物死亡后形成沉积物，长期封存碳</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="definition-box">
                                <h4>人类活动对碳循环的影响</h4>
                                <p>人类活动已经显著改变了全球碳循环：</p>
                                <ul>
                                    <li><strong>化石燃料燃烧</strong>：每年释放约9 Gt碳到大气中</li>
                                    <li><strong>森林砍伐</strong>：减少了陆地碳汇，同时释放储存的碳</li>
                                    <li><strong>土地利用变化</strong>：如农业扩张，改变了碳储存模式</li>
                                    <li><strong>工业过程</strong>：如水泥生产，释放额外的CO₂</li>
                                </ul>
                                <p>这些变化导致大气CO₂浓度从工业革命前的约280 ppm上升到目前的约415 ppm，引发全球变暖和气候变化。</p>
                            </div>
                        </div>
                        
                        <div class="concept-card">
                            <h3>氮循环与人类影响</h3>
                            <p>氮循环是生态系统中最复杂的物质循环之一。虽然氮是大气中最丰富的气体（约78%），但大多数生物无法直接利用大气中的氮气（N₂）。</p>
                            
                            <div class="two-column">
                                <div>
                                    <h4>氮循环的关键步骤</h4>
                                    <ol>
                                        <li><strong>氮固定</strong>：将大气N₂转化为氨（NH₃）或铵离子（NH₄⁺）
                                            <ul>
                                                <li>生物固氮：由某些细菌和蓝藻完成</li>
                                                <li>工业固氮：哈伯法生产氨肥</li>
                                                <li>物理固氮：如闪电</li>
                                            </ul>
                                        </li>
                                        <li><strong>硝化作用</strong>：将氨或铵转化为硝酸盐（NO₃⁻），由硝化细菌完成</li>
                                        <li><strong>同化作用</strong>：生物吸收铵或硝酸盐，合成有机氮化合物</li>
                                        <li><strong>氨化作用</strong>：分解者将有机氮转化为铵</li>
                                        <li><strong>反硝化作用</strong>：某些细菌将硝酸盐还原为N₂，返回大气</li>
                                    </ol>
                                </div>
                                <div>
                                    <h4>人类对氮循环的影响</h4>
                                    <p>人类活动已经使全球活性氮的量增加了一倍多，主要通过：</p>
                                    <ul>
                                        <li><strong>化肥生产和使用</strong>：每年固定约1.2亿吨氮</li>
                                        <li><strong>豆科作物种植</strong>：通过共生固氮增加活性氮</li>
                                        <li><strong>化石燃料燃烧</strong>：释放氮氧化物到大气</li>
                                    </ul>
                                    <p>这些变化导致了一系列环境问题：</p>
                                    <ul>
                                        <li>水体富营养化</li>
                                        <li>土壤酸化</li>
                                        <li>地下水硝酸盐污染</li>
                                        <li>臭氧层破坏</li>
                                        <li>生物多样性下降</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 人类影响标签页 -->
                    <div class="tab-panel" id="human-impact-panel">
                        <h2>人类与生态系统：影响与可持续发展</h2>
                        
                        <div class="concept-card">
                            <h3>人类对生态系统的主要影响</h3>
                            <p>作为地球上的主导物种，人类对全球生态系统产生了深远而广泛的影响。这些影响既有正面的，也有负面的，但随着人口增长和技术发展，人类对环境的压力正在不断增加。</p>
                            
                            <div class="ecosystem-grid">
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2016/11/19/15/04/deforestation-1839492_1280.jpg" alt="栖息地破坏与改变" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>栖息地破坏与改变</h3>
                                        <p>农业扩张、城市化、森林砍伐等导致自然栖息地面积减少和破碎化，是生物多样性丧失的主要原因。全球约75%的陆地环境和66%的海洋环境已被严重改变。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2015/03/26/09/48/pollution-690426_1280.jpg" alt="污染" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                    <h3>污染</h3>
                                        <p>包括空气、水、土壤和塑料污染等，影响生态系统功能和物种健康。每年约有900万人因污染相关疾病死亡，海洋中约有超过1.5亿吨塑料垃圾。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2020/05/24/17/53/earth-5215746_1280.jpg" alt="气候变化" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>气候变化</h3>
                                        <p>人为温室气体排放导致全球变暖，引发极端天气事件、海平面上升和生态系统变化。IPCC报告显示，地球表面温度已上升约1.1°C，严重威胁珊瑚礁等敏感生态系统。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2019/01/22/16/38/wildlife-3948132_1280.jpg" alt="过度开发" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>过度开发</h3>
                                        <p>过度捕捞、狩猎和采集导致物种数量减少甚至灭绝。全球约33%的鱼类种群被过度捕捞，大约有100万种植物和动物面临灭绝威胁。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="concept-card">
                            <h3>生态足迹与地球承载力</h3>
                            <p>生态足迹是衡量人类对地球资源需求的指标，它测量维持人类当前生活方式所需的生物生产性土地和水域面积。</p>
                            
                            <div class="two-column">
                                <div>
                                    <h4>生态足迹的组成</h4>
                                    <ul>
                                        <li><strong>碳足迹</strong>：吸收人类活动产生的CO₂所需的森林面积</li>
                                        <li><strong>耕地足迹</strong>：种植农作物所需的土地面积</li>
                                        <li><strong>牧场足迹</strong>：养殖牲畜所需的草地面积</li>
                                        <li><strong>森林足迹</strong>：提供木材和纸浆所需的森林面积</li>
                                        <li><strong>渔场足迹</strong>：捕捞鱼类所需的海洋面积</li>
                                        <li><strong>建筑用地</strong>：城市、道路和基础设施占用的土地</li>
                                            </ul>
                                        </div>
                                <div>
                                    <h4>全球状况</h4>
                                    <p>根据全球足迹网络（Global Footprint Network）的数据：</p>
                                    <ul>
                                        <li>当前全球生态足迹约为1.7个地球</li>
                                        <li>如果全世界人都按美国标准生活，需要5个地球</li>
                                        <li>高收入国家人均生态足迹是低收入国家的约6倍</li>
                                        <li>"地球超载日"（Earth Overshoot Day）每年提前到来</li>
                                    </ul>
                                    <p>这表明人类正在以不可持续的方式消耗地球资源，超出了地球的再生能力。</p>
                                        </div>
                                    </div>
                            
                            <div class="definition-box">
                                <h4>地球承载力</h4>
                                <p>地球承载力是指地球能够长期维持的最大人口数量，取决于多种因素：</p>
                                <ul>
                                    <li>可用资源（如淡水、能源、矿物等）</li>
                                    <li>生态系统服务的持续供应</li>
                                    <li>人均资源消耗水平</li>
                                    <li>技术效率和废物管理能力</li>
                                </ul>
                                <p>科学家估计，按照当前的消费模式，地球承载力约为80-100亿人。然而，如果采用更可持续的生活方式，这一数字可能增加。</p>
                            </div>
                                </div>

                        <div class="interactive-module">
                            <h3>人类活动对生物多样性的影响案例</h3>
                            
                            <div class="ecosystem-grid">
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2015/06/24/13/32/bee-820521_1280.jpg" alt="传粉者减少" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>传粉者减少</h3>
                                        <p>农药使用、栖息地丧失和气候变化导致蜜蜂和其他传粉者数量急剧下降，威胁全球约75%的农作物生产。仅在欧洲，超过10%的蜜蜂和蝴蝶物种面临灭绝风险。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2017/04/10/15/06/coral-2218957_1280.jpg" alt="珊瑚礁白化" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>珊瑚礁白化</h3>
                                        <p>海水温度上升导致珊瑚白化，澳大利亚大堡礁已有超过50%的珊瑚死亡。珊瑚礁占海洋面积不到1%，却支持约25%的海洋物种生存，其衰退将对海洋生态系统和依赖渔业的社区产生巨大影响。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2016/03/27/18/30/tiger-1283092_1280.jpg" alt="野生动物贸易" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>野生动物贸易</h3>
                                        <p>每年价值数十亿美元的野生动物非法贸易正威胁象、犀牛、虎等标志性物种。据估计，每年有约1000头犀牛因角被猎杀，大象数量在过去10年减少了约110,000头。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2019/08/19/07/45/cormorant-4415393_1280.jpg" alt="海洋塑料污染" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>海洋塑料污染</h3>
                                        <p>每年约有800万吨塑料进入海洋，形成如"太平洋垃圾带"等污染区。90%的海鸟和海龟体内发现有塑料，微塑料已经进入海洋食物链，最终回到人类餐桌。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="concept-card">
                            <h3>可持续发展与生态保护</h3>
                            <p>可持续发展是指在满足当代人需求的同时，不损害后代人满足其需求能力的发展模式。它需要平衡经济、社会和环境三个方面的需求。</p>
                            
                            <div class="two-column">
                                <div>
                                    <h4>可持续发展的原则</h4>
                                    <ul>
                                        <li><strong>代内公平</strong>：当代人之间资源和福利的公平分配</li>
                                        <li><strong>代际公平</strong>：确保后代人能获得足够的资源和健康的环境</li>
                                        <li><strong>生态完整性</strong>：维护生态系统功能和生物多样性</li>
                                        <li><strong>预防原则</strong>：在科学不确定的情况下采取预防措施</li>
                                        <li><strong>系统思维</strong>：认识到经济、社会和环境系统的相互联系</li>
                                            </ul>
                                        </div>
                                <div>
                                    <h4>联合国可持续发展目标（SDGs）</h4>
                                    <p>2015年，联合国通过了17个可持续发展目标，旨在到2030年解决全球面临的环境、社会和经济挑战。与生态相关的目标包括：</p>
                                    <ul>
                                        <li>目标6：清洁饮水和卫生设施</li>
                                        <li>目标7：经济适用的清洁能源</li>
                                        <li>目标13：气候行动</li>
                                        <li>目标14：水下生物</li>
                                        <li>目标15：陆地生物</li>
                                    </ul>
                                        </div>
                                    </div>
                            
                            <div class="definition-box">
                                <h4>生态保护的主要策略</h4>
                                <ul>
                                    <li><strong>保护区建设</strong>：建立和管理保护区网络，保护关键生态系统和濒危物种</li>
                                    <li><strong>生态恢复</strong>：恢复退化的生态系统，如森林再造、湿地恢复、珊瑚礁修复等</li>
                                    <li><strong>可持续资源管理</strong>：确保自然资源的开发利用不超过其再生能力</li>
                                    <li><strong>减少污染</strong>：通过技术创新和政策改革减少各类污染物排放</li>
                                    <li><strong>气候变化减缓与适应</strong>：减少温室气体排放，增强生态系统应对气候变化的能力</li>
                                    <li><strong>环境教育与公众参与</strong>：提高公众环保意识，促进环保行动</li>
                                </ul>
                            </div>
                                </div>

                        <div class="concept-card">
                            <h3>生态修复与恢复案例</h3>
                            <p>世界各地有许多成功的生态恢复案例，展示了人类有能力修复被破坏的生态系统：</p>
                            
                            <div class="two-column">
                                <div>
                                    <h4>中国黄土高原生态恢复</h4>
                                    <p>通过退耕还林还草、梯田建设和封山育林等措施，中国成功恢复了黄土高原约2500万公顷的植被，使森林覆盖率从1999年的7%增加到现在的20%以上。这不仅减少了水土流失，还帮助250万人摆脱贫困。</p>
                                    
                                    <h4>韩国山林绿化</h4>
                                    <p>韩国在战后几十年间通过大规模造林，将森林覆盖率从1950年代的35%提高到现在的64%，被联合国视为全球森林恢复的成功范例。</p>
                                    </div>
                                <div>
                                    <h4>哥斯达黎加森林恢复</h4>
                                    <p>哥斯达黎加通过支付生态系统服务和发展生态旅游等政策，将森林覆盖率从1983年的26%提高到现在的约52%，同时国民经济显著增长。</p>
                                    
                                    <h4>欧洲河流恢复</h4>
                                    <p>通过改善水质、恢复河岸植被和移除障碍物，莱茵河等欧洲许多曾经严重污染的河流已经显著恢复。鲑鱼等鱼类已经重返莱茵河，这在几十年前被认为是不可能的。</p>
                                </div>
                            </div>
                            
                            <div class="definition-box">
                                <h4>生态恢复的关键因素</h4>
                                <p>成功的生态恢复案例通常具有以下共同特点：</p>
                                <ul>
                                    <li><strong>长期承诺</strong>：生态恢复是长期过程，需要持续的政策支持和资金投入</li>
                                    <li><strong>多方参与</strong>：政府、社区、企业和研究机构的共同参与</li>
                                    <li><strong>科学指导</strong>：基于生态学原理，结合本地知识</li>
                                    <li><strong>整体方法</strong>：同时考虑生态、经济和社会因素</li>
                                    <li><strong>适应性管理</strong>：根据监测结果不断调整策略</li>
                                            </ul>
                                        </div>
                                        </div>
                                    </div>

                    <!-- 互动实验室标签页 -->
                    <div class="tab-panel" id="interactive-panel">
                        <h2>生态学互动实验室</h2>
                        <p>通过以下互动模拟和活动，你可以亲自探索和理解生态学的核心概念。</p>
                        
                        <div class="concept-card">
                            <h3>食物网构建器</h3>
                            <p>构建自己的食物网，了解生态系统中的复杂相互作用关系。尝试创建一个包含生产者、消费者和分解者的完整食物网，然后分析它的稳定性和多样性。</p>
                            
                            <div class="interactive-module">
                                <div class="food-web-builder">
                                    <div class="food-web-canvas" id="food-web-canvas">
                                        <!-- Canvas message will be added by JavaScript -->
                                    </div>
                                    <div class="food-web-controls">
                                        <p><strong>操作说明：</strong>点击下方物种卡片添加到画布中，可拖动物种调整位置。尝试创建包含不同营养级的完整食物网。</p>
                                        <div class="species-cards" id="species-cards">
                                            <!-- 物种卡片将通过JavaScript动态生成 -->
                                        </div>
                                        <div class="control-buttons">
                                            <button class="action-btn" id="reset-food-web">重置</button>
                                            <button class="action-btn" id="analyze-food-web">分析食物网</button>
                                        </div>
                                    </div>
                                    <div class="food-web-results" id="food-web-results">
                                        <h4>食物网分析</h4>
                                        <div class="results-content">
                                            <p>请在画布中添加至少3个物种，然后点击"分析食物网"按钮。</p>
                                        </div>
                                    </div>
                                </div>
                                </div>
                            </div>

                        <div class="concept-card">
                            <h3>生态系统模拟器</h3>
                            <p>探索不同因素如何影响生态系统的平衡，如捕食者-猎物关系、气候变化等。</p>
                            
                            <div class="interactive-module">
                                <div class="ecosystem-simulator">
                                    <div class="simulator-controls">
                                        <div class="control-group">
                                            <label>生态系统类型:</label>
                                            <select id="ecosystem-type">
                                                <option value="grassland">草原</option>
                                                <option value="forest">森林</option>
                                                <option value="lake">湖泊</option>
                                            </select>
                                        </div>
                                        
                                        <div class="control-group">
                                            <label>初始植物数量:</label>
                                            <input type="range" id="initial-plants" min="10" max="200" value="100">
                                            <span class="range-value">100</span>
                                        </div>
                                        
                                        <div class="control-group">
                                            <label>初始食草动物数量:</label>
                                            <input type="range" id="initial-herbivores" min="5" max="100" value="50">
                                            <span class="range-value">50</span>
                                        </div>
                                        
                                        <div class="control-group">
                                            <label>初始食肉动物数量:</label>
                                            <input type="range" id="initial-carnivores" min="2" max="50" value="20">
                                            <span class="range-value">20</span>
                                        </div>
                                        
                                        <div class="control-group">
                                            <label>气候条件:</label>
                                            <select id="climate-condition">
                                                <option value="normal">正常</option>
                                                <option value="drought">干旱</option>
                                                <option value="rainy">多雨</option>
                                            </select>
                                        </div>
                                        
                                        <div class="control-buttons">
                                            <button class="action-btn" id="start-simulation">开始模拟</button>
                                            <button class="action-btn secondary" id="reset-simulation">重置</button>
                                    </div>
                                    </div>
                                    
                                    <div class="simulator-display">
                                        <canvas id="ecosystem-canvas" width="600" height="400"></canvas>
                                        <div class="simulation-stats" id="simulation-stats">
                                            <div class="stat-item">
                                                <span class="stat-label">时间:</span>
                                                <span class="stat-value" id="time-value">0</span>
                                </div>
                                            <div class="stat-item">
                                                <span class="stat-label">植物:</span>
                                                <span class="stat-value" id="plants-value">0</span>
                            </div>
                                            <div class="stat-item">
                                                <span class="stat-label">食草动物:</span>
                                                <span class="stat-value" id="herbivores-value">0</span>
                                            </div>
                                            <div class="stat-item">
                                                <span class="stat-label">食肉动物:</span>
                                                <span class="stat-value" id="carnivores-value">0</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="concept-card">
                            <h3>生物多样性探索者</h3>
                            <p>探索不同生态系统的生物多样性，了解栖息地特征与物种丰富度的关系。</p>
                            
                            <div class="interactive-module">
                                <div class="biodiversity-explorer">
                                    <div class="biome-selector">
                                        <div class="biome-card" data-biome="rainforest">
                                            <img src="https://cdn.pixabay.com/photo/2013/08/14/10/56/jungle-172784_1280.jpg" alt="热带雨林">
                                            <h4>热带雨林</h4>
                                        </div>
                                        <div class="biome-card" data-biome="coral-reef">
                                            <img src="https://cdn.pixabay.com/photo/2018/11/29/21/51/fish-3846436_1280.jpg" alt="珊瑚礁">
                                            <h4>珊瑚礁</h4>
                                        </div>
                                        <div class="biome-card" data-biome="savanna">
                                            <img src="https://cdn.pixabay.com/photo/2019/07/30/17/12/savanna-4373334_1280.jpg" alt="草原">
                                            <h4>草原</h4>
                                        </div>
                                        <div class="biome-card" data-biome="tundra">
                                            <img src="https://cdn.pixabay.com/photo/2016/10/14/15/26/iceland-1740324_1280.jpg" alt="苔原">
                                            <h4>苔原</h4>
                                        </div>
                                    </div>
                                    
                                    <div class="explorer-display">
                                        <div class="biome-info">
                                            <h4 class="biome-title">选择一个生物群落开始探索</h4>
                                            <div class="biome-description"></div>
                                        </div>
                                        
                                        <div class="species-showcase">
                                            <div class="showcase-message">点击上方的生物群落图片查看代表性物种</div>
                                            <div class="species-grid"></div>
                                        </div>
                                        
                                        <div class="biodiversity-metrics">
                                            <div class="metric-item">
                                                <h5>物种丰富度</h5>
                                                <div class="metric-bar">
                                                    <div class="metric-fill" style="width: 0%"></div>
                                                </div>
                                                <span class="metric-value">0</span>
                                            </div>
                                            <div class="metric-item">
                                                <h5>特有种比例</h5>
                                                <div class="metric-bar">
                                                    <div class="metric-fill" style="width: 0%"></div>
                                                </div>
                                                <span class="metric-value">0%</span>
                                            </div>
                                            <div class="metric-item">
                                                <h5>受威胁程度</h5>
                                                <div class="metric-bar">
                                                    <div class="metric-fill" style="width: 0%"></div>
                                                </div>
                                                <span class="metric-value">低</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="concept-card">
                            <h3>碳循环模拟器</h3>
                            <p>了解碳在不同碳库之间的流动，以及人类活动如何影响全球碳循环。</p>
                            
                            <div class="interactive-module">
                                <div class="carbon-cycle-simulator">
                                    <div class="cycle-display">
                                        <img src="https://cdn.pixabay.com/photo/2022/01/21/17/14/carbon-cycle-6955956_1280.jpg" alt="碳循环图" class="cycle-base-image">
                                        <div class="cycle-overlay">
                                            <!-- 碳循环的互动覆盖层，通过JavaScript添加交互功能 -->
                                        </div>
                                    </div>
                                    
                                    <div class="cycle-controls">
                                        <div class="control-group">
                                            <label>工业活动水平:</label>
                                            <input type="range" id="industry-level" min="0" max="100" value="50">
                                            <span class="range-value">50</span>
                                        </div>
                                        
                                        <div class="control-group">
                                            <label>森林覆盖率:</label>
                                            <input type="range" id="forest-cover" min="0" max="100" value="50">
                                            <span class="range-value">50</span>
                                        </div>
                                        
                                        <div class="control-group">
                                            <label>海洋酸化水平:</label>
                                            <input type="range" id="ocean-acidification" min="0" max="100" value="30">
                                            <span class="range-value">30</span>
                                        </div>
                                        
                                        <div class="control-buttons">
                                            <button class="action-btn" id="run-carbon-simulation">运行模拟</button>
                                            <button class="action-btn secondary" id="reset-carbon-simulation">重置</button>
                                        </div>
                                    </div>
                                    
                                    <div class="cycle-results">
                                        <h4>模拟结果</h4>
                                        <div class="result-item">
                                            <span class="result-label">大气CO₂浓度:</span>
                                            <span class="result-value" id="co2-level">415 ppm</span>
                                        </div>
                                        <div class="result-item">
                                            <span class="result-label">预计温度变化:</span>
                                            <span class="result-value" id="temp-change">+0.0°C</span>
                                        </div>
                                        <div class="result-item">
                                            <span class="result-label">碳固定率:</span>
                                            <span class="result-value" id="carbon-sequestration">0 Gt/年</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="interactive-module">
                            <h3>开始你的生态学探索之旅</h3>
                            <p>以上互动实验仅是开始！要真正理解生态学，我们鼓励你：</p>
                            
                            <div class="ecosystem-grid">
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2015/03/26/10/36/field-691634_1280.jpg" alt="实地观察" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>进行实地观察</h3>
                                        <p>走出户外，观察身边的生态系统。记录你看到的物种、它们的行为和相互作用。即使是一个小公园或校园花园也是绝佳的观察场所。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2018/07/15/10/44/dna-3539309_1280.jpg" alt="参与公民科学项目" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>参与公民科学项目</h3>
                                        <p>加入诸如鸟类调查、蝴蝶监测或水质检测等公民科学项目，为真实的生态研究做出贡献，同时提升你的科学素养。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2017/08/15/08/23/experiment-2643383_1280.jpg" alt="设计小实验" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>设计小实验</h3>
                                        <p>尝试设计和进行简单的生态学实验，如测试不同条件下植物的生长、观察分解者对有机物的处理等。</p>
                                    </div>
                                </div>
                                
                                <div class="ecosystem-card">
                                    <img src="https://cdn.pixabay.com/photo/2018/07/28/11/09/environment-3567611_1280.jpg" alt="支持环保行动" class="ecosystem-card-img">
                                    <div class="ecosystem-card-content">
                                        <h3>支持环保行动</h3>
                                        <p>参与植树、清理垃圾或其他环保活动，将你的生态学知识转化为实际行动，为保护环境做出贡献。</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="definition-box">
                                <h4>推荐的线上生态学资源</h4>
                                <ul>
                                    <li><a href="https://www.inaturalist.org/" target="_blank">iNaturalist</a> - 记录和分享自然观察，帮助科学家了解和保护自然</li>
                                    <li><a href="https://www.nationalgeographic.org/education/" target="_blank">国家地理教育资源</a> - 丰富的生态学教育资源和活动</li>
                                    <li><a href="https://www.worldwildlife.org/teaching-resources/" target="_blank">世界自然基金会教育资源</a> - 关于濒危物种和栖息地保护的教育材料</li>
                                    <li><a href="https://www.nature.org/en-us/about-us/who-we-are/how-we-work/youth-engagement/nature-lab/" target="_blank">大自然保护协会自然实验室</a> - 为学生和教师提供的互动课程</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <p class="copyright-text">study-llm.me域名为Alex所有。保留所有权利。</p>
            </div>
        </div>
    </footer>

    <script src="../../js/common.js"></script>
    <script src="../../js/navigation.js"></script>
    <script>
        // 初始化标签页切换功能
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.ecology-tab');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // 更新活动标签
                    document.querySelectorAll('.ecology-tab').forEach(t => {
                        t.classList.remove('active');
                    });
                    tab.classList.add('active');
                    
                    // 显示对应面板
                    const tabName = tab.getAttribute('data-tab');
                    document.querySelectorAll('.tab-panel').forEach(panel => {
                        panel.classList.remove('active');
                    });
                    document.getElementById(`${tabName}-panel`).classList.add('active');
                });
            });
            
            // 食物网构建器
            initFoodWebBuilder();
            
            // 生态系统模拟器
            initEcosystemSimulator();
            
            // 生物多样性探索者
            initBiodiversityExplorer();
            
            // 碳循环模拟器
            initCarbonCycleSimulator();
            
            // 初始化范围输入框的值显示
            document.querySelectorAll('input[type="range"]').forEach(range => {
                const valueSpan = range.nextElementSibling;
                if (valueSpan && valueSpan.classList.contains('range-value')) {
                    range.addEventListener('input', () => {
                        valueSpan.textContent = range.value;
                    });
                }
            });
        });
        
        // 食物网构建器初始化
        function initFoodWebBuilder() {
            const speciesData = [
                { id: 1, name: '橡树', type: 'producer', image: 'https://images.unsplash.com/photo-1542953677-be159702a5e7?w=250&q=80', tooltip: '生产者：通过光合作用制造有机物' },
                { id: 2, name: '草', type: 'producer', image: 'https://images.unsplash.com/photo-1530092285049-1c42085fd395?w=250&q=80', tooltip: '生产者：通过光合作用制造有机物' },
                { id: 3, name: '藻类', type: 'producer', image: 'https://images.unsplash.com/photo-1517522104842-21ae552a7c58?w=250&q=80', tooltip: '生产者：通过光合作用制造有机物' },
                { id: 4, name: '蚜虫', type: 'herbivore', image: 'https://images.pexels.com/photos/8633972/pexels-photo-8633972.jpeg?auto=compress&cs=tinysrgb&w=250', tooltip: '初级消费者：以植物为食的动物' },
                { id: 5, name: '兔子', type: 'herbivore', image: 'https://images.unsplash.com/photo-1585110396000-c9ffd4e4b308?w=250&q=80', tooltip: '初级消费者：以植物为食的动物' },
                { id: 6, name: '鹿', type: 'herbivore', image: 'https://images.unsplash.com/photo-1484406566174-9da000fda645?w=250&q=80', tooltip: '初级消费者：以植物为食的动物' },
                { id: 7, name: '青蛙', type: 'carnivore', image: 'https://images.unsplash.com/photo-1590609241511-ba5947f230e3?w=250&q=80', tooltip: '次级消费者：以其他动物为食的动物' },
                { id: 8, name: '蛇', type: 'carnivore', image: 'https://images.unsplash.com/photo-1570741066052-817c6de995c8?w=250&q=80', tooltip: '次级消费者：以其他动物为食的动物' },
                { id: 9, name: '狐狸', type: 'carnivore', image: 'https://images.unsplash.com/photo-1474511320723-9a56873867b5?w=250&q=80', tooltip: '次级消费者：以其他动物为食的动物' },
                { id: 10, name: '老鹰', type: 'top-predator', image: 'https://images.unsplash.com/photo-1611689342806-0863700ce1e4?w=250&q=80', tooltip: '顶级捕食者：食物链顶端的捕食者' },
                { id: 11, name: '真菌', type: 'decomposer', image: 'https://images.unsplash.com/photo-1580716929130-e005d2013254?w=250&q=80', tooltip: '分解者：分解死亡生物残体的微生物' },
                { id: 12, name: '细菌', type: 'decomposer', image: 'https://images.pexels.com/photos/3652582/pexels-photo-3652582.jpeg?auto=compress&cs=tinysrgb&w=250', tooltip: '分解者：分解死亡生物残体的微生物' }
            ];
            
            // 用颜色标识不同类型的物种
            const typeColors = {
                'producer': '#4caf50', // 绿色
                'herbivore': '#2196f3', // 蓝色
                'carnivore': '#f44336', // 红色
                'top-predator': '#9c27b0', // 紫色
                'decomposer': '#ff9800' // 橙色
            };
            
            // 用中文标识不同类型的物种
            const typeLabels = {
                'producer': '生产者',
                'herbivore': '草食动物',
                'carnivore': '肉食动物',
                'top-predator': '顶级捕食者',
                'decomposer': '分解者'
            };
            
            const speciesCards = document.getElementById('species-cards');
            const foodWebCanvas = document.getElementById('food-web-canvas');
            const resetButton = document.getElementById('reset-food-web');
            const analyzeButton = document.getElementById('analyze-food-web');
            const resultsDiv = document.getElementById('food-web-results');
            
            if (!speciesCards || !foodWebCanvas || !resetButton || !analyzeButton || !resultsDiv) {
                console.error('Food web builder elements not found');
                return;
            }
            
            // 添加图例
            const legend = document.createElement('div');
            legend.className = 'food-web-legend';
            legend.innerHTML = '<h4>图例</h4>';
            
            for (const type in typeColors) {
                const legendItem = document.createElement('div');
                legendItem.className = 'legend-item';
                legendItem.innerHTML = `
                    <span class="legend-color" style="background-color: ${typeColors[type]}"></span>
                    <span class="legend-label">${typeLabels[type]}</span>
                `;
                legend.appendChild(legendItem);
            }
            
            // 将图例添加到控制区域
            const controlsArea = document.querySelector('.food-web-controls');
            if (controlsArea) {
                controlsArea.insertBefore(legend, controlsArea.firstChild);
            }
            
            // 生成物种卡片
            speciesData.forEach(species => {
                const card = document.createElement('div');
                card.className = `species-card ${species.type}`;
                card.dataset.id = species.id;
                card.dataset.type = species.type;
                card.title = species.tooltip;
                
                // 添加图片加载错误处理
                const img = document.createElement('img');
                img.alt = species.name;
                img.src = species.image;
                img.onerror = function() {
                    // 如果图片加载失败，使用备用图片或文本
                    this.onerror = null;
                    // 使用实际物种名称创建SVG
                    const svgText = `<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="#e8e8e8"/><text x="50" y="50" font-size="14" text-anchor="middle" alignment-baseline="middle" font-family="sans-serif" fill="#888">${species.name}</text></svg>`;
                    // 编码SVG为base64
                    const encodedSVG = btoa(unescape(encodeURIComponent(svgText)));
                    this.src = `data:image/svg+xml;base64,${encodedSVG}`;
                    console.warn(`Failed to load image for ${species.name}`);
                };
                
                const span = document.createElement('span');
                span.textContent = species.name;
                
                // 添加类型标识
                const typeIndicator = document.createElement('small');
                typeIndicator.className = 'type-indicator';
                typeIndicator.textContent = typeLabels[species.type];
                typeIndicator.style.color = typeColors[species.type];
                
                card.appendChild(img);
                card.appendChild(span);
                card.appendChild(typeIndicator);
                speciesCards.appendChild(card);
                
                // 为卡片添加点击事件
                card.addEventListener('click', () => {
                    addSpeciesToCanvas(species);
                });
            });
            
            // 添加初始信息到画布
            const message = document.createElement('div');
            message.className = 'canvas-message';
            message.textContent = '点击下方的物种卡片，将它们拖到这里构建食物网';
            foodWebCanvas.appendChild(message);
            
            // 模拟在画布上添加物种的功能
            function addSpeciesToCanvas(species) {
                const message = foodWebCanvas.querySelector('.canvas-message');
                if (message) {
                    message.style.display = 'none';
                }
                
                // 仅作为演示，实际实现需要更复杂的逻辑
                const speciesElement = document.createElement('div');
                speciesElement.className = `canvas-species ${species.type}`;
                speciesElement.dataset.id = species.id;
                speciesElement.title = species.tooltip;
                
                // 添加图片加载错误处理
                const img = document.createElement('img');
                img.alt = species.name;
                img.src = species.image;
                img.onerror = function() {
                    // 如果图片加载失败，使用备用图片或文本
                    this.onerror = null;
                    // 使用实际物种名称创建SVG
                    const svgText = `<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80"><rect width="80" height="80" fill="#e8e8e8"/><text x="40" y="40" font-size="12" text-anchor="middle" alignment-baseline="middle" font-family="sans-serif" fill="#888">${species.name}</text></svg>`;
                    // 编码SVG为base64
                    const encodedSVG = btoa(unescape(encodeURIComponent(svgText)));
                    this.src = `data:image/svg+xml;base64,${encodedSVG}`;
                    console.warn(`Failed to load image for ${species.name} in canvas`);
                };
                
                const span = document.createElement('span');
                span.textContent = species.name;
                
                // 添加类型指示器
                const typeIndicator = document.createElement('small');
                typeIndicator.className = 'type-indicator';
                typeIndicator.textContent = typeLabels[species.type];
                
                speciesElement.appendChild(img);
                speciesElement.appendChild(span);
                speciesElement.appendChild(typeIndicator);
                
                // 随机位置
                const maxX = foodWebCanvas.clientWidth - 80;
                const maxY = foodWebCanvas.clientHeight - 80;
                const x = Math.floor(Math.random() * maxX);
                const y = Math.floor(Math.random() * maxY);
                
                speciesElement.style.position = 'absolute';
                speciesElement.style.left = `${x}px`;
                speciesElement.style.top = `${y}px`;
                
                // 添加拖拽功能
                speciesElement.setAttribute('draggable', 'true');
                speciesElement.addEventListener('dragstart', handleDragStart);
                speciesElement.addEventListener('dragend', handleDragEnd);
                
                // 添加闪烁效果
                speciesElement.classList.add('appear-animation');
                setTimeout(() => {
                    speciesElement.classList.remove('appear-animation');
                }, 500);
                
                foodWebCanvas.appendChild(speciesElement);
            }
            
            // 拖拽相关函数
            function handleDragStart(e) {
                this.style.opacity = '0.4';
                e.dataTransfer.effectAllowed = 'move';
                e.dataTransfer.setData('text/plain', this.dataset.id);
            }
            
            function handleDragEnd(e) {
                this.style.opacity = '1';
            }
            
            // 允许画布接收拖放
            foodWebCanvas.addEventListener('dragover', (e) => {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
            });
            
            foodWebCanvas.addEventListener('drop', (e) => {
                e.preventDefault();
                const id = e.dataTransfer.getData('text/plain');
                const element = foodWebCanvas.querySelector(`.canvas-species[data-id="${id}"]`);
                if (element) {
                    // 计算新位置，考虑滚动偏移
                    const rect = foodWebCanvas.getBoundingClientRect();
                    const x = e.clientX - rect.left - 40; // 减去元素宽度的一半
                    const y = e.clientY - rect.top - 40; // 减去元素高度的一半
                    
                    // 确保元素不会超出画布
                    const maxX = foodWebCanvas.clientWidth - 80;
                    const maxY = foodWebCanvas.clientHeight - 80;
                    element.style.left = `${Math.max(0, Math.min(x, maxX))}px`;
                    element.style.top = `${Math.max(0, Math.min(y, maxY))}px`;
                }
            });
            
            // 重置按钮事件
            resetButton.addEventListener('click', () => {
                // 清空画布
                while (foodWebCanvas.firstChild) {
                    foodWebCanvas.removeChild(foodWebCanvas.firstChild);
                }
                
                // 添加回消息
                const message = document.createElement('div');
                message.className = 'canvas-message';
                message.textContent = '点击下方的物种卡片，将它们拖到这里构建食物网';
                foodWebCanvas.appendChild(message);
                
                // 清空结果
                resultsDiv.querySelector('.results-content').innerHTML = '<p>请在画布中添加至少3个物种，然后点击"分析食物网"按钮。</p>';
            });
            
            // 分析按钮事件
            analyzeButton.addEventListener('click', () => {
                const speciesInCanvas = foodWebCanvas.querySelectorAll('.canvas-species');
                if (speciesInCanvas.length < 3) {
                    alert('请添加至少3个物种到食物网中进行分析');
                    return;
                }
                
                // 简单的分析结果（实际应用需要更复杂的逻辑）
                const producers = foodWebCanvas.querySelectorAll('.canvas-species.producer').length;
                const herbivores = foodWebCanvas.querySelectorAll('.canvas-species.herbivore').length;
                const carnivores = foodWebCanvas.querySelectorAll('.canvas-species.carnivore').length;
                const topPredators = foodWebCanvas.querySelectorAll('.canvas-species.top-predator').length;
                const decomposers = foodWebCanvas.querySelectorAll('.canvas-species.decomposer').length;
                
                let stability = '低';
                if (producers > 0 && herbivores > 0 && (carnivores > 0 || topPredators > 0) && decomposers > 0) {
                    stability = '中';
                    if (producers >= 2 && herbivores >= 2 && carnivores >= 1 && decomposers >= 1) {
                        stability = '高';
                    }
                }
                
                let biodiversity = '低';
                const totalSpecies = speciesInCanvas.length;
                if (totalSpecies >= 6) {
                    biodiversity = '中';
                    if (totalSpecies >= 9) {
                        biodiversity = '高';
                    }
                }
                
                resultsDiv.querySelector('.results-content').innerHTML = `
                    <p>食物网组成:</p>
                    <ul>
                        <li>生产者: ${producers}</li>
                        <li>草食动物: ${herbivores}</li>
                        <li>肉食动物: ${carnivores}</li>
                        <li>顶级捕食者: ${topPredators}</li>
                        <li>分解者: ${decomposers}</li>
                    </ul>
                    <p>食物网特性:</p>
                    <ul>
                        <li>稳定性: <span style="color: ${stability === '高' ? '#4caf50' : (stability === '中' ? '#ff9800' : '#f44336')}">${stability}</span></li>
                        <li>生物多样性: <span style="color: ${biodiversity === '高' ? '#4caf50' : (biodiversity === '中' ? '#ff9800' : '#f44336')}">${biodiversity}</span></li>
                    </ul>
                    <p>注意: 这是一个简化的分析，实际生态系统更复杂。</p>
                `;
                
                // 添加分析动画效果
                resultsDiv.classList.add('analysis-animation');
                setTimeout(() => {
                    resultsDiv.classList.remove('analysis-animation');
                }, 500);
            });
        }
        
        // 生态系统模拟器初始化
        function initEcosystemSimulator() {
            const canvas = document.getElementById('ecosystem-canvas');
            const startButton = document.getElementById('start-simulation');
            const resetButton = document.getElementById('reset-simulation');
            
            if (!canvas || !startButton || !resetButton) {
                    return;
                }
                
            const ctx = canvas.getContext('2d');
            let simulation = null;
            let isSimulating = false;
            
            // 开始模拟按钮事件
            startButton.addEventListener('click', () => {
                if (isSimulating) {
                    isSimulating = false;
                    startButton.textContent = '开始模拟';
                    if (simulation) {
                        clearInterval(simulation);
                    }
                } else {
                    isSimulating = true;
                    startButton.textContent = '停止模拟';
                    startSimulation();
                }
            });
            
            // 重置按钮事件
            resetButton.addEventListener('click', () => {
                if (isSimulating) {
                    isSimulating = false;
                    startButton.textContent = '开始模拟';
                    if (simulation) {
                        clearInterval(simulation);
                    }
                }
                resetSimulation();
            });
            
            // 模拟开始
            function startSimulation() {
                // 获取用户设置
                const ecosystemType = document.getElementById('ecosystem-type').value;
                const initialPlants = parseInt(document.getElementById('initial-plants').value);
                const initialHerbivores = parseInt(document.getElementById('initial-herbivores').value);
                const initialCarnivores = parseInt(document.getElementById('initial-carnivores').value);
                const climateCondition = document.getElementById('climate-condition').value;
                
                // 初始化模拟状态
                let time = 0;
                let plants = initialPlants;
                let herbivores = initialHerbivores;
                let carnivores = initialCarnivores;
                
                // 更新统计数据
                updateStats(time, plants, herbivores, carnivores);
                
                // 绘制初始状态
                drawEcosystem(ecosystemType, plants, herbivores, carnivores);
                
                // 定时执行模拟
                simulation = setInterval(() => {
                    time++;
                    
                    // 简单的生态系统动态模型（实际应用需要更复杂的模型）
                    // 植物生长受气候影响
                    let plantGrowthRate = 0.1; // 基础生长率
                    if (climateCondition === 'drought') {
                        plantGrowthRate = 0.05;
                    } else if (climateCondition === 'rainy') {
                        plantGrowthRate = 0.15;
                    }
                    plants = Math.max(0, plants * (1 + plantGrowthRate - 0.1 * herbivores / plants));
                    
                    // 草食动物受植物数量和肉食动物数量影响
                    herbivores = Math.max(0, herbivores * (1 + 0.05 * plants / initialPlants - 0.1 - 0.1 * carnivores / herbivores));
                    
                    // 肉食动物受草食动物数量影响
                    carnivores = Math.max(0, carnivores * (1 + 0.1 * herbivores / initialHerbivores - 0.1));
                    
                    // 四舍五入为整数
                    plants = Math.round(plants);
                    herbivores = Math.round(herbivores);
                    carnivores = Math.round(carnivores);
                    
                    // 更新统计数据
                    updateStats(time, plants, herbivores, carnivores);
                    
                    // 更新绘图
                    drawEcosystem(ecosystemType, plants, herbivores, carnivores);
                    
                    // 检查模拟是否应该停止
                    if (plants <= 0 && herbivores <= 0 && carnivores <= 0) {
                        clearInterval(simulation);
                        isSimulating = false;
                        startButton.textContent = '开始模拟';
                        alert('生态系统崩溃，所有物种灭绝');
                    }
                }, 1000); // 每秒更新一次
            }
            
            // 重置模拟
            function resetSimulation() {
                // 清除画布
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // 重置统计数据
                updateStats(0, 0, 0, 0);
                
                // 绘制初始消息
                ctx.fillStyle = '#666';
                ctx.font = '16px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('点击"开始模拟"按钮启动生态系统模拟', canvas.width / 2, canvas.height / 2);
            }
            
            // 更新统计数据显示
            function updateStats(time, plants, herbivores, carnivores) {
                document.getElementById('time-value').textContent = time;
                document.getElementById('plants-value').textContent = Math.round(plants);
                document.getElementById('herbivores-value').textContent = Math.round(herbivores);
                document.getElementById('carnivores-value').textContent = Math.round(carnivores);
            }
            
            // 绘制生态系统状态
            function drawEcosystem(ecosystemType, plants, herbivores, carnivores) {
                // 清除画布
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // 绘制背景
                let bgColor = '#f5f5dc'; // 默认草原背景
                if (ecosystemType === 'forest') {
                    bgColor = '#7cae7a';
                } else if (ecosystemType === 'lake') {
                    bgColor = '#add8e6';
                }
                ctx.fillStyle = bgColor;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // 绘制植物
                const plantRadius = 5;
                ctx.fillStyle = '#3cb371';
                for (let i = 0; i < Math.min(plants, 200); i++) {
                    const x = Math.random() * (canvas.width - 2 * plantRadius) + plantRadius;
                    const y = Math.random() * (canvas.height - 2 * plantRadius) + plantRadius;
                    ctx.beginPath();
                    ctx.arc(x, y, plantRadius, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // 绘制草食动物
                const herbivoreRadius = 8;
                ctx.fillStyle = '#1e90ff';
                for (let i = 0; i < Math.min(herbivores, 100); i++) {
                    const x = Math.random() * (canvas.width - 2 * herbivoreRadius) + herbivoreRadius;
                    const y = Math.random() * (canvas.height - 2 * herbivoreRadius) + herbivoreRadius;
                    ctx.beginPath();
                    ctx.arc(x, y, herbivoreRadius, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // 绘制肉食动物
                const carnivoreRadius = 10;
                ctx.fillStyle = '#dc143c';
                for (let i = 0; i < Math.min(carnivores, 50); i++) {
                    const x = Math.random() * (canvas.width - 2 * carnivoreRadius) + carnivoreRadius;
                    const y = Math.random() * (canvas.height - 2 * carnivoreRadius) + carnivoreRadius;
                    ctx.beginPath();
                    ctx.arc(x, y, carnivoreRadius, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // 添加图例
                ctx.font = '12px Arial';
                ctx.fillStyle = '#000';
                ctx.textAlign = 'left';
                
                ctx.fillStyle = '#3cb371';
                ctx.beginPath();
                ctx.arc(30, 20, plantRadius, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = '#000';
                ctx.fillText('植物', 45, 25);
                
                ctx.fillStyle = '#1e90ff';
                ctx.beginPath();
                ctx.arc(30, 40, herbivoreRadius, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = '#000';
                ctx.fillText('食草动物', 45, 45);
                
                ctx.fillStyle = '#dc143c';
                ctx.beginPath();
                ctx.arc(30, 60, carnivoreRadius, 0, Math.PI * 2);
                ctx.fill();
                ctx.fillStyle = '#000';
                ctx.fillText('食肉动物', 45, 65);
            }
            
            // 初始化显示
            resetSimulation();
        }
        
        // 生物多样性探索者初始化
        function initBiodiversityExplorer() {
            const biomeCards = document.querySelectorAll('.biome-card');
            const biomeTitle = document.querySelector('.biome-title');
            const biomeDescription = document.querySelector('.biome-description');
            const speciesGrid = document.querySelector('.species-grid');
            const showcaseMessage = document.querySelector('.showcase-message');
            const metricFills = document.querySelectorAll('.metric-fill');
            const metricValues = document.querySelectorAll('.metric-value');
            
            if (!biomeCards.length || !biomeTitle || !biomeDescription || !speciesGrid || !showcaseMessage) {
                return;
            }
            
            // 生物群落数据
            const biomeData = {
                'rainforest': {
                    title: '热带雨林',
                    description: '热带雨林是地球上生物多样性最丰富的生态系统，位于赤道附近的热带地区。它们拥有常年温暖湿润的气候，多层次的植被结构，以及复杂的食物网。全球约70%的植物和动物物种生活在热带雨林中，尽管它们只覆盖了地球表面的约6%。',
                    species: [
                        { name: '美洲豹', image: 'https://cdn.pixabay.com/photo/2018/07/31/22/08/lion-3576045_640.jpg', description: '热带雨林中的顶级捕食者，有着独特的斑点花纹' },
                        { name: '金刚鹦鹉', image: 'https://cdn.pixabay.com/photo/2018/11/11/16/51/ibis-3809147_640.jpg', description: '色彩鲜艳的大型鹦鹉，主要以坚果和种子为食' },
                        { name: '树懒', image: 'https://cdn.pixabay.com/photo/2021/01/11/15/05/sloth-5908795_640.jpg', description: '行动缓慢的食叶动物，几乎整个生命都在树上度过' },
                        { name: '棕榈树', image: 'https://cdn.pixabay.com/photo/2017/03/26/10/45/polynesia-2175218_640.jpg', description: '热带雨林中常见的树种，提供重要的栖息地和食物' }
                    ],
                    biodiversity: 95,
                    endemicRate: 80,
                    threat: '高'
                },
                'coral-reef': {
                    title: '珊瑚礁',
                    description: '珊瑚礁被称为"海洋中的热带雨林"，是由数百万个微小的珊瑚虫构建的海洋生态系统。尽管珊瑚礁仅占海洋面积的不到1%，却支持着约25%的已知海洋物种。珊瑚礁对沿海社区提供食物、收入和海岸保护等重要服务。',
                    species: [
                        { name: '小丑鱼', image: 'https://cdn.pixabay.com/photo/2019/06/24/13/32/nemo-4296392_640.jpg', description: '以与海葵共生关系著名，海葵为其提供保护' },
                        { name: '脑珊瑚', image: 'https://cdn.pixabay.com/photo/2017/07/27/15/36/sous-2545717_640.jpg', description: '形状酷似大脑的珊瑚，是珊瑚礁的重要建造者' },
                        { name: '鹦嘴鱼', image: 'https://cdn.pixabay.com/photo/2017/08/31/15/31/fish-2701282_640.jpg', description: '用嘴啄食珊瑚，帮助控制珊瑚的生长' },
                        { name: '海龟', image: 'https://cdn.pixabay.com/photo/2017/09/27/15/53/turtle-2792111_640.jpg', description: '长寿的海洋爬行动物，常在珊瑚礁附近觅食' }
                    ],
                    biodiversity: 85,
                    endemicRate: 60,
                    threat: '极高'
                },
                'savanna': {
                    title: '草原',
                    description: '草原是以草本植物为主，散布着少量树木的开阔生态系统。特点是长期的干湿季节交替，植被适应定期的火灾和放牧。非洲草原支持着地球上最大规模的食草动物迁徙，以及丰富的捕食者和分解者。',
                    species: [
                        { name: '非洲象', image: 'https://cdn.pixabay.com/photo/2020/02/01/17/09/elephant-4811570_640.jpg', description: '地球上最大的陆地动物，能够改变整个景观的关键物种' },
                        { name: '狮子', image: 'https://cdn.pixabay.com/photo/2018/07/31/22/08/lion-3576045_640.jpg', description: '草原上的顶级捕食者，以群体狩猎方式捕获猎物' },
                        { name: '角马', image: 'https://cdn.pixabay.com/photo/2019/06/13/11/59/wildebeest-4271820_640.jpg', description: '大型食草动物，以大规模季节性迁徙著称' },
                        { name: '金合欢树', image: 'https://cdn.pixabay.com/photo/2016/11/14/03/38/acacia-1822435_640.jpg', description: '草原上常见的树种，能够耐受干旱和火灾' }
                    ],
                    biodiversity: 70,
                    endemicRate: 45,
                    threat: '中'
                },
                'tundra': {
                    title: '苔原',
                    description: '苔原是地球上最寒冷的生物群落之一，位于极地或高山地区。特点是缺乏树木、生长季节短、永久冻土和寒冷气候。植物通常是苔藓、地衣和矮小的灌木，动物则进化出特殊的适应机制以应对极端寒冷。',
                    species: [
                        { name: '北极熊', image: 'https://cdn.pixabay.com/photo/2017/08/14/20/33/polar-bear-2642196_640.jpg', description: '顶级捕食者，专门适应了极地冰面的生活环境' },
                        { name: '驯鹿', image: 'https://cdn.pixabay.com/photo/2016/12/10/22/31/deer-1898481_640.jpg', description: '能够在恶劣天气中生存的大型食草动物' },
                        { name: '北极狐', image: 'https://cdn.pixabay.com/photo/2018/03/31/06/31/dog-3277416_640.jpg', description: '毛色随季节变化，耳朵和四肢较小以减少热量散失' },
                        { name: '地衣', image: 'https://cdn.pixabay.com/photo/2021/11/21/19/17/lichen-6815377_640.jpg', description: '真菌和藻类的共生体，在极端环境中也能生长' }
                    ],
                    biodiversity: 40,
                    endemicRate: 30,
                    threat: '高'
                }
            };
            
            // 为生物群落卡片添加点击事件
            biomeCards.forEach(card => {
                    card.addEventListener('click', () => {
                    const biomeId = card.dataset.biome;
                    if (biomeData[biomeId]) {
                        updateBiomeInfo(biomeData[biomeId]);
                    }
                    });
                });

            // 更新生物群落信息
            function updateBiomeInfo(biome) {
                // 更新标题和描述
                biomeTitle.textContent = biome.title;
                biomeDescription.textContent = biome.description;
                
                // 更新物种展示
                speciesGrid.innerHTML = '';
                showcaseMessage.style.display = 'none';
                
                biome.species.forEach(species => {
                    const speciesCard = document.createElement('div');
                    speciesCard.className = 'species-card';
                    speciesCard.innerHTML = `
                        <img src="${species.image}" alt="${species.name}">
                        <h4>${species.name}</h4>
                        <p>${species.description}</p>
                    `;
                    speciesGrid.appendChild(speciesCard);
                });
                
                // 更新生物多样性指标
                updateMetrics(0, biome.biodiversity);
                updateMetrics(1, biome.endemicRate);
                
                // 威胁程度
                let threatValue = 0;
                if (biome.threat === '中') {
                    threatValue = 50;
                } else if (biome.threat === '高') {
                    threatValue = 75;
                } else if (biome.threat === '极高') {
                    threatValue = 90;
                }
                updateMetrics(2, threatValue);
                metricValues[2].textContent = biome.threat;
            }
            
            // 更新指标显示
            function updateMetrics(index, value) {
                if (metricFills[index]) {
                    metricFills[index].style.width = `${value}%`;
                }
                if (metricValues[index] && index !== 2) {
                    metricValues[index].textContent = index === 1 ? `${value}%` : value;
                }
            }
        }
        
        // 碳循环模拟器初始化
        function initCarbonCycleSimulator() {
            const runButton = document.getElementById('run-carbon-simulation');
            const resetButton = document.getElementById('reset-carbon-simulation');
            
            if (!runButton || !resetButton) {
                return;
            }
            
            // 运行模拟按钮事件
            runButton.addEventListener('click', () => {
                // 获取用户设置
                const industryLevel = parseInt(document.getElementById('industry-level').value);
                const forestCover = parseInt(document.getElementById('forest-cover').value);
                const oceanAcidification = parseInt(document.getElementById('ocean-acidification').value);
                
                // 计算结果（简化的模型）
                // 大气CO2浓度（ppm）
                const baselineCO2 = 280; // 工业革命前水平
                const co2Increase = industryLevel * 2 - forestCover * 0.5 + oceanAcidification * 0.2;
                const co2Level = baselineCO2 + co2Increase;
                
                // 温度变化（°C）
                const tempChange = co2Increase / 100;
                
                // 碳固定率（Gt/年）
                const carbonSequestration = (forestCover * 0.1) + (100 - oceanAcidification) * 0.05;
                
                // 更新结果显示
                document.getElementById('co2-level').textContent = `${Math.round(co2Level)} ppm`;
                document.getElementById('temp-change').textContent = `+${tempChange.toFixed(1)}°C`;
                document.getElementById('carbon-sequestration').textContent = `${carbonSequestration.toFixed(1)} Gt/年`;
                
                // 根据CO2水平添加颜色提示
                const co2Element = document.getElementById('co2-level');
                if (co2Level < 350) {
                    co2Element.style.color = 'green';
                } else if (co2Level < 450) {
                    co2Element.style.color = 'orange';
                } else {
                    co2Element.style.color = 'red';
                }
                
                // 根据温度变化添加颜色提示
                const tempElement = document.getElementById('temp-change');
                if (tempChange < 1.5) {
                    tempElement.style.color = 'green';
                } else if (tempChange < 2.0) {
                    tempElement.style.color = 'orange';
                } else {
                    tempElement.style.color = 'red';
                }
            });
            
            // 重置按钮事件
            resetButton.addEventListener('click', () => {
                // 重置滑块
                document.getElementById('industry-level').value = 50;
                document.getElementById('forest-cover').value = 50;
                document.getElementById('ocean-acidification').value = 30;
                
                // 更新显示的值
                document.querySelectorAll('.range-value').forEach((span, index) => {
                    if (index === 0) span.textContent = 50;
                    if (index === 1) span.textContent = 50;
                    if (index === 2) span.textContent = 30;
                });
                
                // 重置结果
                document.getElementById('co2-level').textContent = '415 ppm';
                document.getElementById('co2-level').style.color = 'orange';
                document.getElementById('temp-change').textContent = '+0.0°C';
                document.getElementById('temp-change').style.color = 'green';
                document.getElementById('carbon-sequestration').textContent = '0 Gt/年';
            });
        }
    </script>
</body>
</html> 