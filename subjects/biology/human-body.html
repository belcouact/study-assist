<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>人体系统 - 生物学习助手</title>
    <link rel="icon" href="../../assets/icons/logo_btrfly.ico" type="image/x-icon">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/utilities.css">
    <link rel="stylesheet" href="../../css/responsive.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .human-body-page {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem 0;
        }

        .human-body-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            margin: 2rem auto;
            max-width: 1600px;
        }

        .human-body-header {
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .human-body-header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
        }

        .human-body-header p {
            margin: 1rem 0 0 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .human-body-tabs {
            background: #f8f9fa;
            padding: 0;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            overflow-x: auto;
        }

        .human-body-tab {
            padding: 1rem 2rem;
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #666;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }

        .human-body-tab.active {
            color: #4caf50;
            border-bottom-color: #4caf50;
            background: white;
        }

        .human-body-tab:hover {
            color: #4caf50;
            background: #f0f8ff;
        }

        .human-body-content {
            padding: 2rem;
            min-height: 600px;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        .anatomy-explorer {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
            height: 600px;
        }

        .anatomy-display {
            background: #f8f9fa;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            border: 2px solid #e9ecef;
        }

        .anatomy-canvas {
            width: 100%;
            height: 100%;
            display: block;
            background: linear-gradient(135deg, #fff5f5 0%, #f0f8f0 100%);
        }

        .system-controls {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            height: fit-content;
            border: 1px solid #e9ecef;
        }

        .system-controls h3 {
            margin: 0 0 1rem 0;
            color: #4caf50;
            font-size: 1.2rem;
        }

        .system-selector {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .system-btn {
            padding: 0.75rem;
            border: 1px solid #ddd;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .system-btn:hover {
            border-color: #4caf50;
            background: #f0f8ff;
        }

        .system-btn.selected {
            border-color: #4caf50;
            background: #e8f5e8;
            color: #2e7d32;
        }

        .system-info {
            background: #f0f8ff;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
            margin-bottom: 1rem;
        }

        .system-info h4 {
            margin: 0 0 0.5rem 0;
            color: #4caf50;
        }

        .system-info p {
            margin: 0;
            font-size: 0.9rem;
            line-height: 1.5;
            color: #333;
        }

        .physiology-simulator {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 2rem;
        }

        .physiology-chart {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid #e9ecef;
            height: 400px;
            position: relative;
        }

        .chart-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .vital-signs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .vital-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            border: 1px solid #e9ecef;
            text-align: center;
        }

        .vital-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #4caf50;
            margin-bottom: 0.5rem;
        }

        .vital-label {
            font-size: 0.9rem;
            color: #666;
        }

        .health-analyzer {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 2rem;
        }

        .health-input {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid #e9ecef;
        }

        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .input-field {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .input-field label {
            font-weight: 600;
            color: #333;
            font-size: 0.9rem;
        }

        .input-field input {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.9rem;
        }

        .health-results {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            border: 1px solid #e9ecef;
        }

        .action-btn {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .action-btn.secondary {
            background: linear-gradient(135deg, #6c757d, #495057);
        }

        .disease-database {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 2rem;
        }

        .disease-search {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid #e9ecef;
        }

        .search-input {
            width: 100%;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        .disease-categories {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .category-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid #4caf50;
        }
        
        .category-card:hover {
            background: #fff;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .category-card h4 {
            margin: 0 0 0.5rem 0;
            color: #4caf50;
        }
        
        .category-card p {
            margin: 0;
            font-size: 0.9rem;
            color: #666;
        }

        /* 内环境稳态样式 */
        .homeostasis-content {
            padding: 1rem 0;
        }
        
        .homeostasis-intro {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(139, 195, 74, 0.1));
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            border-left: 5px solid #4caf50;
        }
        
        .homeostasis-intro h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .homeostasis-intro p {
            margin-bottom: 0;
            line-height: 1.6;
            color: #333;
        }
        
        .homeostasis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2.5rem;
        }
        
        .homeostasis-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .homeostasis-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
        }
        
        .homeostasis-card h4 {
            color: #4caf50;
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .homeostasis-card p {
            margin-bottom: 1rem;
            color: #333;
            line-height: 1.5;
        }
        
        .homeostasis-card ul {
            margin: 0;
            padding-left: 1.2rem;
            color: #555;
        }
        
        .homeostasis-card li {
            margin-bottom: 0.5rem;
        }
        
        .homeostasis-feedback {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
        }
        
        .homeostasis-feedback h3 {
            color: #2e7d32;
            margin-top: 0;
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .feedback-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .feedback-item {
            text-align: center;
        }
        
        .feedback-item h4 {
            color: #4caf50;
            margin-bottom: 1rem;
        }
        
        .feedback-item p {
            color: #333;
            margin-bottom: 1.5rem;
            text-align: left;
        }
        
        .feedback-diagram {
            height: 200px;
            background-color: #f9f9f9;
            border-radius: 8px;
            position: relative;
        }
        
        .negative-feedback::before {
            content: '负反馈示意图';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #888;
        }
        
        .positive-feedback::before {
            content: '正反馈示意图';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #888;
        }
        
        @media (max-width: 768px) {
            .anatomy-explorer {
                grid-template-columns: 1fr;
            }
            
            .human-body-tabs {
                flex-direction: column;
            }
            
            .human-body-tab {
                text-align: center;
            }
            
            .vital-signs {
                grid-template-columns: 1fr;
            }
            
            .homeostasis-grid,
            .feedback-types {
                grid-template-columns: 1fr;
            }
            
            .homeostasis-intro,
            .homeostasis-card,
            .homeostasis-feedback {
                padding: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="../../index.html">
                        <i class="fas fa-graduation-cap" style="background: linear-gradient(90deg, #4361ee, #7209b7); -webkit-background-clip: text; background-clip: text; color: transparent;"></i>
                        <span>Alex的学习助手</span>
                    </a>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="../../index.html">首页</a></li>
                        <li><a href="main.html">生物</a></li>
                        <li><a href="../../index.html#subjects">科目</a></li>
                        <li><a href="../../tts.html">语音</a></li>
                        <li><a href="../../draw.html">绘图</a></li>
                    </ul>
                </nav>
                <button class="mobile-menu-toggle" aria-label="切换菜单">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main class="human-body-page">
        <div class="container">
            <div class="human-body-container">
                <div class="human-body-header">
                    <h1><i class="fas fa-heartbeat"></i> 人体系统</h1>
                    <p>全面解析人体各系统的解剖结构、生理功能及相互协调关系</p>
                </div>

                <div class="human-body-tabs">
                    <button class="human-body-tab active" data-tab="anatomy">解剖结构</button>
                    <button class="human-body-tab" data-tab="physiology">生理功能</button>
                    <button class="human-body-tab" data-tab="homeostasis">内环境稳态</button>
                    <button class="human-body-tab" data-tab="health">健康分析</button>
                    <button class="human-body-tab" data-tab="diseases">疾病数据库</button>
                </div>

                <div class="human-body-content">
                    <!-- 解剖结构标签页 -->
                    <div class="tab-panel active" id="anatomy-panel">
                        <div class="anatomy-explorer">
                            <div class="anatomy-display">
                                <canvas class="anatomy-canvas" id="anatomy-canvas" width="800" height="600"></canvas>
                            </div>
                            
                            <div class="system-controls">
                                <h3><i class="fas fa-search"></i> 人体系统</h3>
                                
                                <div class="system-selector">
                                    <button class="system-btn selected" data-system="circulatory">
                                        <i class="fas fa-heart" style="color: #e74c3c;"></i>
                                        循环系统
                                    </button>
                                    <button class="system-btn" data-system="respiratory">
                                        <i class="fas fa-lungs" style="color: #3498db;"></i>
                                        呼吸系统
                                    </button>
                                    <button class="system-btn" data-system="nervous">
                                        <i class="fas fa-brain" style="color: #9b59b6;"></i>
                                        神经系统
                                    </button>
                                    <button class="system-btn" data-system="digestive">
                                        <i class="fas fa-stomach" style="color: #f39c12;"></i>
                                        消化系统
                                    </button>
                                    <button class="system-btn" data-system="skeletal">
                                        <i class="fas fa-bone" style="color: #95a5a6;"></i>
                                        骨骼系统
                                    </button>
                                    <button class="system-btn" data-system="muscular">
                                        <i class="fas fa-dumbbell" style="color: #e67e22;"></i>
                                        肌肉系统
                                    </button>
                                    <button class="system-btn" data-system="endocrine">
                                        <i class="fas fa-flask" style="color: #1abc9c;"></i>
                                        内分泌系统
                                    </button>
                                    <button class="system-btn" data-system="immune">
                                        <i class="fas fa-shield-alt" style="color: #27ae60;"></i>
                                        免疫系统
                                    </button>
                                    <button class="system-btn" data-system="excretory">
                                        <i class="fas fa-kidneys" style="color: #e84393;"></i>
                                        泌尿系统
                                    </button>
                                    <button class="system-btn" data-system="integumentary">
                                        <i class="fas fa-hand-sparkles" style="color: #fdcb6e;"></i>
                                        皮肤系统
                                    </button>
                                    <button class="system-btn" data-system="reproductive">
                                        <i class="fas fa-venus-mars" style="color: #fd79a8;"></i>
                                        生殖系统
                                    </button>
                                </div>

                                <div class="system-info" id="system-info">
                                    <h4>循环系统</h4>
                                    <p>负责通过心脏和血管网络运输血液，将氧气、营养物质和激素输送到体内各组织细胞，同时带走二氧化碳和代谢废物。主要组成包括：</p>
                                    <ul>
                                        <li><strong>心脏</strong>：四腔肌性泵，通过有规律的收缩和舒张推动血液循环</li>
                                        <li><strong>血管</strong>：包括动脉、静脉和毛细血管，形成完整的血液循环通路</li>
                                        <li><strong>血液</strong>：由血浆、红细胞、白细胞和血小板组成的流动组织</li>
                                    </ul>
                                    <p>循环系统与呼吸系统紧密协作，共同维持组织的气体交换和代谢平衡。</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 生理功能标签页 -->
                    <div class="tab-panel" id="physiology-panel">
                        <h2>生理功能模拟</h2>
                        <div class="physiology-simulator">
                            <div class="physiology-chart">
                                <canvas class="chart-canvas" id="physiology-chart" width="600" height="300"></canvas>
                            </div>
                            
                            <div class="vital-signs">
                                <div class="vital-card">
                                    <div class="vital-value" id="heart-rate">72</div>
                                    <div class="vital-label">心率 (次/分)</div>
                                </div>
                                <div class="vital-card">
                                    <div class="vital-value" id="blood-pressure">120/80</div>
                                    <div class="vital-label">血压 (mmHg)</div>
                                </div>
                                <div class="vital-card">
                                    <div class="vital-value" id="respiratory-rate">16</div>
                                    <div class="vital-label">呼吸频率 (次/分)</div>
                                </div>
                                <div class="vital-card">
                                    <div class="vital-value" id="body-temp">36.5</div>
                                    <div class="vital-label">体温 (°C)</div>
                                </div>
                                <div class="vital-card">
                                    <div class="vital-value" id="blood-oxygen">98</div>
                                    <div class="vital-label">血氧饱和度 (%)</div>
                                </div>
                                <div class="vital-card">
                                    <div class="vital-value" id="blood-glucose">5.0</div>
                                    <div class="vital-label">血糖 (mmol/L)</div>
                                </div>
                            </div>

                            <div style="text-align: center;">
                                <button class="action-btn" id="start-simulation">开始生理模拟</button>
                                <button class="action-btn secondary" id="reset-simulation">重置数据</button>
                            </div>
                        </div>
                    </div>

                    <!-- 内环境稳态标签页 -->
                    <div class="tab-panel" id="homeostasis-panel">
                        <h2>内环境稳态</h2>
                        <div class="homeostasis-content">
                            <div class="homeostasis-intro">
                                <h3>什么是内环境稳态？</h3>
                                <p>内环境稳态（Homeostasis）是指人体通过多种调节机制，维持内部环境（如体温、pH值、血糖、水盐平衡等）相对稳定的过程，是生命活动正常进行的基础条件。</p>
                            </div>
                            
                            <div class="homeostasis-grid">
                                <div class="homeostasis-card">
                                    <h4><i class="fas fa-temperature-high"></i> 体温调节</h4>
                                    <p>人体通过下丘脑的体温调节中枢，协调皮肤血管、汗腺和肌肉活动，维持核心体温在36.5-37.5℃的狭窄范围内，适应外界环境变化。</p>
                                    <ul>
                                        <li><strong>过热时</strong>：皮肤血管扩张，汗腺分泌增加，散热增强</li>
                                        <li><strong>过冷时</strong>：皮肤血管收缩，肌肉颤抖产热，代谢率提高</li>
                                    </ul>
                                </div>
                                
                                <div class="homeostasis-card">
                                    <h4><i class="fas fa-tint"></i> 水盐平衡</h4>
                                    <p>肾脏、抗利尿激素和醛固酮共同调节体内水分和电解质平衡，维持细胞内外液体渗透压和血容量的稳定。</p>
                                    <ul>
                                        <li><strong>血容量减少时</strong>：肾小管重吸收水钠增加，尿量减少</li>
                                        <li><strong>血容量增加时</strong>：钠排出增加，尿量增加</li>
                                    </ul>
                                </div>
                                
                                <div class="homeostasis-card">
                                    <h4><i class="fas fa-candy-cane"></i> 血糖调节</h4>
                                    <p>胰岛素和胰高血糖素协同作用，维持血糖水平在3.9-6.1mmol/L的正常范围，保证脑组织能量供应。</p>
                                    <ul>
                                        <li><strong>高血糖时</strong>：胰岛素促进葡萄糖进入细胞，转化为糖原储存</li>
                                        <li><strong>低血糖时</strong>：胰高血糖素促进肝糖原分解，释放葡萄糖入血</li>
                                    </ul>
                                </div>
                                
                                <div class="homeostasis-card">
                                    <h4><i class="fas fa-wind"></i> 酸碱平衡</h4>
                                    <p>呼吸系统、肾脏和缓冲系统共同调节体液pH值，维持在7.35-7.45的窄范围内，确保酶系统正常功能。</p>
                                    <ul>
                                        <li><strong>酸中毒时</strong>：呼吸加深加快，排出更多CO₂；肾脏排出更多H⁺</li>
                                        <li><strong>碱中毒时</strong>：呼吸变浅变慢，保留CO₂；肾脏保留H⁺</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="homeostasis-feedback">
                                <h3>反馈调节机制</h3>
                                <div class="feedback-types">
                                    <div class="feedback-item">
                                        <h4>负反馈</h4>
                                        <p>当某一生理参数偏离正常值时，机体启动调节机制，使其恢复正常，是维持稳态的主要机制。</p>
                                        <div class="feedback-diagram negative-feedback"></div>
                                    </div>
                                    <div class="feedback-item">
                                        <h4>正反馈</h4>
                                        <p>某一变化引起的调节反应进一步加强该变化，如血液凝固过程和分娩过程。</p>
                                        <div class="feedback-diagram positive-feedback"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 健康分析标签页 -->
                    <div class="tab-panel" id="health-panel">
                        <h2>健康状况分析</h2>
                        <div class="health-analyzer">
                            <div class="health-input">
                                <h4>输入个人信息</h4>
                                <div class="input-group">
                                    <div class="input-field">
                                        <label>年龄</label>
                                        <input type="number" id="age" placeholder="请输入年龄" min="1" max="120">
                                    </div>
                                    <div class="input-field">
                                        <label>身高 (cm)</label>
                                        <input type="number" id="height" placeholder="请输入身高" min="100" max="250">
                                    </div>
                                    <div class="input-field">
                                        <label>体重 (kg)</label>
                                        <input type="number" id="weight" placeholder="请输入体重" min="30" max="200">
                                    </div>
                                    <div class="input-field">
                                        <label>性别</label>
                                        <select id="gender">
                                            <option value="">请选择</option>
                                            <option value="male">男性</option>
                                            <option value="female">女性</option>
                                        </select>
                                    </div>
                                </div>
                                <button class="action-btn" id="analyze-health">分析健康状况</button>
                            </div>

                            <div class="health-results" id="health-results">
                                <h4>健康分析结果</h4>
                                <p>请输入个人信息后点击"分析健康状况"按钮</p>
                            </div>
                        </div>
                    </div>

                    <!-- 疾病数据库标签页 -->
                    <div class="tab-panel" id="diseases-panel">
                        <h2>疾病信息数据库</h2>
                        <div class="disease-database">
                            <div class="disease-search">
                                <input type="text" class="search-input" id="disease-search" placeholder="搜索疾病名称或症状...">
                                <button class="action-btn" id="search-disease">搜索</button>
                            </div>

                            <div class="disease-categories">
                                <div class="category-card" data-category="cardiovascular">
                                    <h4>心血管疾病</h4>
                                    <p>高血压、冠心病、心律不齐等心血管系统相关疾病</p>
                                </div>
                                <div class="category-card" data-category="respiratory">
                                    <h4>呼吸系统疾病</h4>
                                    <p>哮喘、肺炎、慢性阻塞性肺病等呼吸系统疾病</p>
                                </div>
                                <div class="category-card" data-category="digestive">
                                    <h4>消化系统疾病</h4>
                                    <p>胃炎、肠炎、肝病等消化系统相关疾病</p>
                                </div>
                                <div class="category-card" data-category="neurological">
                                    <h4>神经系统疾病</h4>
                                    <p>偏头痛、癫痫、帕金森病等神经系统疾病</p>
                                </div>
                                <div class="category-card" data-category="endocrine">
                                    <h4>内分泌疾病</h4>
                                    <p>糖尿病、甲状腺疾病、肾上腺疾病等</p>
                                </div>
                                <div class="category-card" data-category="infectious">
                                    <h4>感染性疾病</h4>
                                    <p>细菌感染、病毒感染、真菌感染等</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <p class="copyright-text">study-llm.me域名为Alex所有。保留所有权利。</p>
            </div>
        </div>
    </footer>

    <script src="../../js/common.js"></script>
    <script src="../../js/navigation.js"></script>
    <script>
        // 人体系统功能
        class HumanBodySystems {
            constructor() {
                this.canvas = document.getElementById('anatomy-canvas');
                this.ctx = this.canvas.getContext('2d');
                this.physiologyChart = document.getElementById('physiology-chart');
                this.chartCtx = this.physiologyChart ? this.physiologyChart.getContext('2d') : null;
                this.chart = null;
                this.simulating = false;
                this.systemData = {
                    'circulatory': {
                        name: '循环系统',
                        description: '负责通过心脏和血管网络运输血液，将氧气、营养物质和激素输送到体内各组织细胞，同时带走二氧化碳和代谢废物。主要组成包括：',
                        organs: ['心脏', '动脉', '静脉', '毛细血管'],
                        functions: ['血液循环', '氧气运输', '营养输送', '废物清除'],
                        details: [
                            '<strong>心脏</strong>：四腔肌性泵，通过有规律的收缩和舒张推动血液循环',
                            '<strong>血管</strong>：包括动脉、静脉和毛细血管，形成完整的血液循环通路',
                            '<strong>血液</strong>：由血浆、红细胞、白细胞和血小板组成的流动组织'
                        ],
                        connection: '循环系统与呼吸系统紧密协作，共同维持组织的气体交换和代谢平衡。'
                    },
                    'respiratory': {
                        name: '呼吸系统',
                        description: '负责体内气体交换，吸入氧气并排出二氧化碳。主要由上下呼吸道和肺部组成，与循环系统协同工作。',
                        organs: ['鼻腔', '气管', '支气管', '肺'],
                        functions: ['气体交换', '氧气摄入', '二氧化碳排出', '声音产生'],
                        details: [
                            '<strong>上呼吸道</strong>：包括鼻腔、咽喉部，负责空气的过滤、加温和湿化',
                            '<strong>下呼吸道</strong>：包括气管、支气管和细支气管，将空气输送到肺泡',
                            '<strong>肺泡</strong>：气体交换的主要场所，与毛细血管网络紧密接触',
                            '<strong>膈肌与肋间肌</strong>：通过调节胸腔容积变化控制呼吸运动'
                        ],
                        connection: '呼吸系统与循环系统通过肺部毛细血管网络紧密联系，完成体内气体交换。'
                    },
                    'nervous': {
                        name: '神经系统',
                        description: '人体的指挥控制中心，接收、处理和传递信息，协调各器官系统活动，维持内外环境平衡。',
                        organs: ['大脑', '脊髓', '周围神经', '感觉器官'],
                        functions: ['信息处理', '动作控制', '感觉接收', '高级认知'],
                        details: [
                            '<strong>中枢神经系统</strong>：包括大脑和脊髓，是信息处理和指令发出的中心',
                            '<strong>周围神经系统</strong>：连接中枢神经与身体各部分的神经网络',
                            '<strong>体神经系统</strong>：控制随意运动的神经',
                            '<strong>自主神经系统</strong>：控制内脏器官功能的交感和副交感神经'
                        ],
                        connection: '神经系统与内分泌系统共同构成人体的调控系统，前者快速精确，后者作用持久广泛。'
                    },
                    'digestive': {
                        name: '消化系统',
                        description: '将食物分解为可吸收的营养物质，通过消化和吸收过程为身体提供能量和原料。',
                        organs: ['口腔', '食道', '胃', '小肠', '大肠', '肝脏', '胰腺'],
                        functions: ['食物消化', '营养吸收', '废物排泄'],
                        details: [
                            '<strong>消化管道</strong>：从口腔到肛门的连续通道，包括食道、胃、小肠和大肠',
                            '<strong>消化腺</strong>：包括唾液腺、胃腺、肠腺、肝脏和胰腺，分泌消化酶和消化液',
                            '<strong>机械性消化</strong>：通过咀嚼、蠕动等物理作用将食物颗粒变小',
                            '<strong>化学性消化</strong>：通过各种消化酶将大分子营养物质分解为小分子'
                        ],
                        connection: '消化系统与循环系统通过肠壁毛细血管和淋巴管紧密合作，将消化吸收的营养物质输送全身。'
                    },
                    'skeletal': {
                        name: '骨骼系统',
                        description: '构成人体支架，支持和保护内脏器官，同时与肌肉系统共同完成运动功能。',
                        organs: ['颅骨', '脊柱', '胸骨和肋骨', '上肢骨', '下肢骨', '关节'],
                        functions: ['支持身体', '保护内脏', '造血', '储存矿物质', '运动'],
                        details: [
                            '<strong>长骨</strong>：如股骨、肱骨等，主要承担支撑和运动功能',
                            '<strong>扁骨</strong>：如颅骨、胸骨等，主要起保护作用',
                            '<strong>骨髓</strong>：红骨髓负责造血，黄骨髓储存脂肪',
                            '<strong>关节</strong>：骨与骨之间的连接，允许不同程度的活动'
                        ],
                        connection: '骨骼系统与肌肉系统通过肌腱连接，共同构成运动系统，协调完成各种身体动作。'
                    },
                    'muscular': {
                        name: '肌肉系统',
                        description: '通过收缩和舒张产生力量和运动，同时维持体温和体态。',
                        organs: ['骨骼肌', '心肌', '平滑肌'],
                        functions: ['运动', '姿势维持', '体温调节', '器官功能支持'],
                        details: [
                            '<strong>骨骼肌</strong>：附着于骨骼上的随意肌，负责身体运动和姿势维持',
                            '<strong>心肌</strong>：构成心脏的特殊肌肉，具有自律性收缩的特性',
                            '<strong>平滑肌</strong>：位于内脏器官壁的不随意肌，控制内脏活动',
                            '<strong>肌纤维类型</strong>：包括快肌纤维和慢肌纤维，适应不同运动需求'
                        ],
                        connection: '肌肉系统受神经系统控制，与骨骼系统协作完成运动，同时通过产热参与体温调节。'
                    },
                    'endocrine': {
                        name: '内分泌系统',
                        description: '通过分泌激素调节体内各种生理活动，维持内环境稳态，控制生长发育和生殖功能。',
                        organs: ['垂体', '甲状腺', '胰岛', '肾上腺', '性腺'],
                        functions: ['代谢调节', '生长发育', '应激反应', '生殖功能'],
                        details: [
                            '<strong>垂体</strong>：分泌多种调节激素，控制其他内分泌腺体活动',
                            '<strong>甲状腺</strong>：分泌甲状腺素，调节代谢率和能量消耗',
                            '<strong>胰岛</strong>：分泌胰岛素和胰高血糖素，调节血糖水平',
                            '<strong>肾上腺</strong>：分泌肾上腺素和糖皮质激素，参与应激反应'
                        ],
                        connection: '内分泌系统与神经系统构成人体的两大调节系统，共同维持体内环境的稳定。'
                    },
                    'immune': {
                        name: '免疫系统',
                        description: '识别和清除体内外异物，防御病原微生物入侵，维护机体健康。',
                        organs: ['骨髓', '胸腺', '脾脏', '淋巴结', '淋巴管'],
                        functions: ['免疫防御', '免疫监视', '免疫耐受', '免疫记忆'],
                        details: [
                            '<strong>白细胞</strong>：包括中性粒细胞、巨噬细胞、淋巴细胞等免疫细胞',
                            '<strong>特异性免疫</strong>：由B和T淋巴细胞介导，针对特定抗原',
                            '<strong>非特异性免疫</strong>：物理屏障、吞噬细胞和炎症反应等一般防御机制',
                            '<strong>免疫记忆</strong>：能够快速响应已接触过的病原体'
                        ],
                        connection: '免疫系统与循环系统和淋巴系统密切相关，免疫细胞通过血液和淋巴循环巡逻全身。'
                    },
                    'excretory': {
                        name: '泌尿系统',
                        description: '负责过滤血液、排出代谢废物和多余水分，维持体内水盐平衡和酸碱平衡。',
                        organs: ['肾脏', '输尿管', '膀胱', '尿道'],
                        functions: ['废物排泄', '水盐平衡', '酸碱平衡', '血压调节'],
                        details: [
                            '<strong>肾脏</strong>：血液过滤和尿液形成的主要器官，每个肾由约100万个肾单位组成',
                            '<strong>肾单位</strong>：包括肾小球和肾小管，完成滤过、重吸收和分泌过程',
                            '<strong>膀胱</strong>：储存尿液的肌性囊，容量约400-500毫升',
                            '<strong>排尿反射</strong>：由自主和随意神经共同控制的复杂反射过程'
                        ],
                        connection: '泌尿系统通过调节水盐和酸碱平衡，与内分泌系统共同维持体内环境稳态。'
                    },
                    'integumentary': {
                        name: '皮肤系统',
                        description: '覆盖身体表面的最大器官系统，提供保护屏障，参与体温调节和感觉功能。',
                        organs: ['表皮', '真皮', '皮下组织', '毛发', '指甲', '汗腺', '皮脂腺'],
                        functions: ['保护屏障', '体温调节', '感觉功能', '代谢功能'],
                        details: [
                            '<strong>表皮</strong>：最外层组织，主要由角质形成细胞构成，提供物理和化学屏障',
                            '<strong>真皮</strong>：富含胶原和弹性纤维，提供皮肤弹性和韧性',
                            '<strong>皮下组织</strong>：含脂肪细胞，起到保温、缓冲和能量储存作用',
                            '<strong>皮肤附属器</strong>：包括毛发、指甲、汗腺和皮脂腺等'
                        ],
                        connection: '皮肤系统与神经系统和免疫系统密切相关，参与感觉信息传递和免疫防御。'
                    },
                    'reproductive': {
                        name: '生殖系统',
                        description: '负责生殖功能，产生配子和性激素，维持次级性征，确保物种延续。',
                        organs: ['男性: 睾丸、附睾、输精管、前列腺', '女性: 卵巢、输卵管、子宫、阴道'],
                        functions: ['配子产生', '性激素分泌', '受精和胚胎发育'],
                        details: [
                            '<strong>男性生殖系统</strong>：产生精子和雄性激素，主要器官包括睾丸、附睾、输精管和前列腺',
                            '<strong>女性生殖系统</strong>：产生卵子和雌性激素，主要器官包括卵巢、输卵管、子宫和阴道',
                            '<strong>性激素</strong>：控制性腺发育、次级性征形成和生殖周期',
                            '<strong>胚胎发育</strong>：从受精卵到胎儿的复杂发育过程，涉及细胞分化和器官形成'
                        ],
                        connection: '生殖系统与内分泌系统通过下丘脑-垂体-性腺轴紧密联系，共同调控生殖功能。'
                    }
                };
                
                this.initTabs();
                this.initSystemControls();
                this.initHealthAnalyzer();
                this.initSimulation();
            }
            
            initTabs() {
                const tabs = document.querySelectorAll('.human-body-tab');
                const panels = document.querySelectorAll('.tab-panel');
                
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        const target = tab.getAttribute('data-tab');
                        
                        // 激活标签
                        tabs.forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                        
                        // 显示相应面板
                        panels.forEach(panel => {
                            panel.classList.remove('active');
                            if (panel.id === `${target}-panel`) {
                                panel.classList.add('active');
                            }
                        });
                        
                        // 特殊处理一些标签
                        if (target === 'anatomy') {
                            // 重新绘制解剖系统
                            const selectedSystem = document.querySelector('.system-btn.selected');
                            if (selectedSystem) {
                                this.drawSystemAnatomy(selectedSystem.getAttribute('data-system'));
                            }
                        } else if (target === 'physiology') {
                            // 重置生理模拟图表
                            if (this.chart) {
                                this.chart.data.datasets[0].data = this.generateBaselineData();
                                this.chart.update();
                            }
                        } else if (target === 'homeostasis') {
                            // 初始化内环境稳态展示
                            this.initHomeostasisVisuals();
                        }
                    });
                });
            }
            
            // 初始化内环境稳态页面的视觉效果
            initHomeostasisVisuals() {
                // 这里可以添加负反馈和正反馈的图表绘制
                const negativeFeedback = document.querySelector('.negative-feedback');
                const positiveFeedback = document.querySelector('.positive-feedback');
                
                if (negativeFeedback) {
                    // 绘制负反馈图示例
                    negativeFeedback.innerHTML = `
                        <svg width="100%" height="100%" viewBox="0 0 300 200">
                            <rect x="10" y="90" width="80" height="40" rx="5" fill="#e8f5e8" stroke="#4caf50" stroke-width="2"/>
                            <text x="50" y="115" text-anchor="middle" fill="#333">刺激</text>
                            
                            <rect x="210" y="90" width="80" height="40" rx="5" fill="#e8f5e8" stroke="#4caf50" stroke-width="2"/>
                            <text x="250" y="115" text-anchor="middle" fill="#333">反应</text>
                            
                            <path d="M90 110 L210 110" stroke="#4caf50" stroke-width="2" marker-end="url(#arrowhead)"/>
                            <path d="M250 130 C250 170, 50 170, 50 130" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,3"/>
                            
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50"/>
                                </marker>
                            </defs>
                        </svg>
                    `;
                }
                
                if (positiveFeedback) {
                    // 绘制正反馈图示例
                    positiveFeedback.innerHTML = `
                        <svg width="100%" height="100%" viewBox="0 0 300 200">
                            <rect x="10" y="90" width="80" height="40" rx="5" fill="#e8f5e8" stroke="#4caf50" stroke-width="2"/>
                            <text x="50" y="115" text-anchor="middle" fill="#333">刺激</text>
                            
                            <rect x="210" y="90" width="80" height="40" rx="5" fill="#e8f5e8" stroke="#4caf50" stroke-width="2"/>
                            <text x="250" y="115" text-anchor="middle" fill="#333">反应</text>
                            
                            <path d="M90 110 L210 110" stroke="#4caf50" stroke-width="2" marker-end="url(#arrowhead2)"/>
                            <path d="M250 130 C250 170, 50 170, 50 130" stroke="#4caf50" stroke-width="2" marker-end="url(#arrowhead2)" stroke-dasharray="5,3"/>
                            
                            <defs>
                                <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50"/>
                                </marker>
                            </defs>
                        </svg>
                    `;
                }
            }
            
            initSystemControls() {
                const systemBtns = document.querySelectorAll('.system-btn');
                const systemInfo = document.getElementById('system-info');
                
                systemBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const systemKey = btn.getAttribute('data-system');
                        const systemData = this.systemData[systemKey];
                        
                        // 更新按钮状态
                        systemBtns.forEach(b => b.classList.remove('selected'));
                        btn.classList.add('selected');
                        
                        // 更新系统信息
                        if (systemData) {
                            let detailsHtml = '';
                            if (systemData.details && systemData.details.length > 0) {
                                detailsHtml = '<ul>' + systemData.details.map(detail => `<li>${detail}</li>`).join('') + '</ul>';
                            }
                            
                            let connectionHtml = '';
                            if (systemData.connection) {
                                connectionHtml = `<p>${systemData.connection}</p>`;
                            }
                            
                            systemInfo.innerHTML = `
                                <h4>${systemData.name}</h4>
                                <p>${systemData.description}</p>
                                ${detailsHtml}
                                ${connectionHtml}
                            `;
                        } else {
                            systemInfo.innerHTML = `
                                <h4>系统信息</h4>
                                <p>请选择一个人体系统以查看详细信息。</p>
                            `;
                        }
                        
                        // 更新画布显示
                        this.drawSystemAnatomy(systemKey);
                    });
                });
                
                // 初始化为循环系统
                this.drawSystemAnatomy('circulatory');
            }
            
            drawSystemAnatomy(system) {
                if (!this.canvas || !this.ctx) return;
                
                // 清空画布
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                // 获取系统数据
                const systemData = this.systemData[system];
                if (!systemData) return;
                
                // 根据系统类型绘制不同的解剖图
                this.ctx.fillStyle = '#f0f0f0';
                this.ctx.font = 'bold 18px Arial';
                this.ctx.textAlign = 'center';
                
                // 绘制一个占位符，表示将来会有解剖图
                this.ctx.fillStyle = '#fff';
                this.ctx.fillRect(100, 50, this.canvas.width - 200, this.canvas.height - 100);
                
                this.ctx.strokeStyle = '#4caf50';
                this.ctx.lineWidth = 2;
                this.ctx.strokeRect(100, 50, this.canvas.width - 200, this.canvas.height - 100);
                
                this.ctx.fillStyle = '#4caf50';
                this.ctx.font = 'bold 24px Arial';
                this.ctx.fillText(systemData.name + '解剖结构', this.canvas.width / 2, 100);
                
                // 绘制系统主要器官列表
                this.ctx.font = '16px Arial';
                this.ctx.fillStyle = '#333';
                this.ctx.textAlign = 'left';
                
                this.ctx.fillText('主要器官:', 150, 150);
                
                if (systemData.organs && systemData.organs.length > 0) {
                    systemData.organs.forEach((organ, index) => {
                        this.ctx.fillText(`• ${organ}`, 170, 180 + index * 25);
                    });
                }
                
                // 绘制系统主要功能列表
                this.ctx.fillText('主要功能:', this.canvas.width - 300, 150);
                
                if (systemData.functions && systemData.functions.length > 0) {
                    systemData.functions.forEach((func, index) => {
                        this.ctx.fillText(`• ${func}`, this.canvas.width - 280, 180 + index * 25);
                    });
                }
                
                // 根据不同系统绘制特定的示意图
                this.drawSystemSpecificAnatomy(system);
            }
            
            drawSystemSpecificAnatomy(system) {
                // 这里可以根据不同的系统绘制特定的示意图
                // 例如，对于循环系统，可以画一个心脏和血管的简化图
                // 对于呼吸系统，可以画肺部和气管的示意图
                
                const centerX = this.canvas.width / 2;
                const centerY = this.canvas.height / 2 + 50;
                
                this.ctx.fillStyle = '#e8f5e8';
                this.ctx.strokeStyle = '#4caf50';
                this.ctx.lineWidth = 2;
                
                switch(system) {
                    case 'circulatory':
                        // 简化的心脏
                        this.ctx.beginPath();
                        this.ctx.moveTo(centerX, centerY - 40);
                        this.ctx.bezierCurveTo(centerX + 50, centerY - 40, centerX + 50, centerY + 40, centerX, centerY + 60);
                        this.ctx.bezierCurveTo(centerX - 50, centerY + 40, centerX - 50, centerY - 40, centerX, centerY - 40);
                        this.ctx.closePath();
                        this.ctx.fill();
                        this.ctx.stroke();
                        
                        // 简化的血管
                        this.drawBloodVessels(centerX, centerY);
                        break;
                        
                    case 'respiratory':
                        // 简化的肺部
                        this.drawLungs(centerX, centerY);
                        break;
                        
                    case 'nervous':
                        // 简化的大脑和神经
                        this.drawBrain(centerX, centerY);
                        break;
                        
                    case 'digestive':
                        // 简化的消化道
                        this.drawDigestiveSystem(centerX, centerY);
                        break;
                        
                    case 'skeletal':
                        // 简化的骨骼
                        this.drawSkeleton(centerX, centerY);
                        break;
                        
                    case 'muscular':
                        // 简化的肌肉
                        this.drawMuscles(centerX, centerY);
                        break;
                        
                    case 'endocrine':
                        // 简化的内分泌腺体
                        this.drawEndocrineSystem(centerX, centerY);
                        break;
                        
                    case 'immune':
                        // 简化的免疫系统
                        this.drawImmuneSystem(centerX, centerY);
                        break;
                        
                    case 'excretory':
                        // 简化的泌尿系统
                        this.drawExcretorySystem(centerX, centerY);
                        break;
                        
                    case 'integumentary':
                        // 简化的皮肤系统
                        this.drawIntegumentarySystem(centerX, centerY);
                        break;
                        
                    case 'reproductive':
                        // 简化的生殖系统
                        this.drawReproductiveSystem(centerX, centerY);
                        break;
                        
                    default:
                        // 默认绘制一个占位符
                        this.ctx.beginPath();
                        this.ctx.arc(centerX, centerY, 80, 0, Math.PI * 2);
                        this.ctx.fill();
                        this.ctx.stroke();
                        
                        this.ctx.fillStyle = '#333';
                        this.ctx.font = '16px Arial';
                        this.ctx.textAlign = 'center';
                        this.ctx.fillText('系统示意图', centerX, centerY);
                }
            }
            
            // 绘制循环系统的血管
            drawBloodVessels(x, y) {
                this.ctx.strokeStyle = '#e74c3c';
                this.ctx.lineWidth = 3;
                
                // 动脉
                this.ctx.beginPath();
                this.ctx.moveTo(x, y - 40);
                this.ctx.lineTo(x, y - 100);
                this.ctx.lineTo(x - 100, y - 150);
                this.ctx.stroke();
                
                this.ctx.beginPath();
                this.ctx.moveTo(x, y - 100);
                this.ctx.lineTo(x + 100, y - 150);
                this.ctx.stroke();
                
                // 静脉
                this.ctx.strokeStyle = '#3498db';
                this.ctx.beginPath();
                this.ctx.moveTo(x, y + 60);
                this.ctx.lineTo(x, y + 120);
                this.ctx.lineTo(x - 100, y + 170);
                this.ctx.stroke();
                
                this.ctx.beginPath();
                this.ctx.moveTo(x, y + 120);
                this.ctx.lineTo(x + 100, y + 170);
                this.ctx.stroke();
            }
            
            // 绘制呼吸系统
            drawLungs(x, y) {
                // 简化的肺部
                this.ctx.fillStyle = '#a3d6f5';
                
                // 左肺
                this.ctx.beginPath();
                this.ctx.moveTo(x - 20, y - 60);
                this.ctx.bezierCurveTo(x - 80, y - 40, x - 100, y + 40, x - 40, y + 80);
                this.ctx.bezierCurveTo(x - 20, y + 90, x - 20, y + 20, x - 20, y - 60);
                this.ctx.closePath();
                this.ctx.fill();
                this.ctx.stroke();
                
                // 右肺
                this.ctx.beginPath();
                this.ctx.moveTo(x + 20, y - 60);
                this.ctx.bezierCurveTo(x + 80, y - 40, x + 100, y + 40, x + 40, y + 80);
                this.ctx.bezierCurveTo(x + 20, y + 90, x + 20, y + 20, x + 20, y - 60);
                this.ctx.closePath();
                this.ctx.fill();
                this.ctx.stroke();
                
                // 气管
                this.ctx.fillStyle = '#fff';
                this.ctx.beginPath();
                this.ctx.rect(x - 10, y - 100, 20, 40);
                this.ctx.fill();
                this.ctx.stroke();
                
                // 支气管
                this.ctx.beginPath();
                this.ctx.moveTo(x, y - 60);
                this.ctx.lineTo(x - 20, y - 60);
                this.ctx.stroke();
                
                this.ctx.beginPath();
                this.ctx.moveTo(x, y - 60);
                this.ctx.lineTo(x + 20, y - 60);
                this.ctx.stroke();
            }
            
            // 新增泌尿系统绘制
            drawExcretorySystem(x, y) {
                // 绘制肾脏
                this.ctx.fillStyle = '#e84393';
                
                // 左肾
                this.ctx.beginPath();
                this.ctx.ellipse(x - 50, y, 30, 50, 0, 0, Math.PI * 2);
                this.ctx.fill();
                this.ctx.stroke();
                
                // 右肾
                this.ctx.beginPath();
                this.ctx.ellipse(x + 50, y, 30, 50, 0, 0, Math.PI * 2);
                this.ctx.fill();
                this.ctx.stroke();
                
                // 输尿管
                this.ctx.strokeStyle = '#4caf50';
                this.ctx.beginPath();
                this.ctx.moveTo(x - 40, y + 40);
                this.ctx.quadraticCurveTo(x - 30, y + 80, x - 20, y + 100);
                this.ctx.stroke();
                
                this.ctx.beginPath();
                this.ctx.moveTo(x + 40, y + 40);
                this.ctx.quadraticCurveTo(x + 30, y + 80, x + 20, y + 100);
                this.ctx.stroke();
                
                // 膀胱
                this.ctx.fillStyle = '#a29bfe';
                this.ctx.beginPath();
                this.ctx.ellipse(x, y + 120, 40, 30, 0, 0, Math.PI * 2);
                this.ctx.fill();
                this.ctx.stroke();
            }
            
            // 新增皮肤系统绘制
            drawIntegumentarySystem(x, y) {
                // 皮肤层次
                this.ctx.fillStyle = '#fdcb6e';
                this.ctx.fillRect(x - 100, y - 60, 200, 30);
                this.ctx.strokeRect(x - 100, y - 60, 200, 30);
                
                this.ctx.fillStyle = '#e17055';
                this.ctx.fillRect(x - 100, y - 30, 200, 60);
                this.ctx.strokeRect(x - 100, y - 30, 200, 60);
                
                this.ctx.fillStyle = '#ffeaa7';
                this.ctx.fillRect(x - 100, y + 30, 200, 40);
                this.ctx.strokeRect(x - 100, y + 30, 200, 40);
                
                // 标签
                this.ctx.fillStyle = '#333';
                this.ctx.font = '14px Arial';
                this.ctx.textAlign = 'left';
                
                this.ctx.fillText('表皮', x - 90, y - 40);
                this.ctx.fillText('真皮', x - 90, y);
                this.ctx.fillText('皮下组织', x - 90, y + 50);
                
                // 毛发和腺体
                this.ctx.strokeStyle = '#333';
                this.ctx.beginPath();
                this.ctx.moveTo(x + 50, y - 60);
                this.ctx.lineTo(x + 50, y - 90);
                this.ctx.stroke();
                
                this.ctx.fillStyle = '#636e72';
                this.ctx.beginPath();
                this.ctx.arc(x + 20, y, 10, 0, Math.PI * 2);
                this.ctx.fill();
                this.ctx.stroke();
                
                this.ctx.fillText('毛发', x + 60, y - 80);
                this.ctx.fillText('皮脂腺', x + 40, y);
            }
            
            // 新增生殖系统绘制
            drawReproductiveSystem(x, y) {
                // 简化的男性生殖系统
                this.ctx.fillStyle = '#81ecec';
                
                // 绘制在左侧
                this.ctx.beginPath();
                this.ctx.ellipse(x - 70, y, 40, 60, 0, 0, Math.PI * 2);
                this.ctx.fill();
                this.ctx.stroke();
                
                this.ctx.fillStyle = '#333';
                this.ctx.font = '14px Arial';
                this.ctx.textAlign = 'center';
                this.ctx.fillText('男性生殖系统', x - 70, y);
                
                // 简化的女性生殖系统
                this.ctx.fillStyle = '#fd79a8';
                
                // 绘制在右侧
                this.ctx.beginPath();
                this.ctx.ellipse(x + 70, y, 40, 60, 0, 0, Math.PI * 2);
                this.ctx.fill();
                this.ctx.stroke();
                
                this.ctx.fillStyle = '#333';
                this.ctx.font = '14px Arial';
                this.ctx.textAlign = 'center';
                this.ctx.fillText('女性生殖系统', x + 70, y);
            }
            
            // ... 其他系统的绘制方法 ...
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const bodySystem = new HumanBodySystems();
        });
    </script>
</body>
</html> 