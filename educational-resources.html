<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>教育资源推荐 - 学习助手</title>
    <link rel="icon" href="assets/icons/logo_btrfly.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/utilities.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="rgba(255,255,255,0.1)" d="M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') no-repeat bottom;
            background-size: cover;
        }

        .hero-section h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }

        .hero-section p {
            font-size: 1.3rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto 2rem;
            position: relative;
            z-index: 1;
        }

        .search-container {
            background: white;
            border-radius: 50px;
            padding: 8px;
            margin: 2rem auto;
            max-width: 600px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .search-input {
            flex: 1;
            border: none;
            padding: 12px 20px;
            font-size: 1.1rem;
            outline: none;
            color: #333;
            background: transparent;
        }

        .search-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }

        .category-nav {
            background: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .category-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            padding: 0 2rem;
        }

        .category-btn {
            background: #f8f9fa;
            border: 2px solid transparent;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            white-space: nowrap;
        }

        .category-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: #667eea;
        }

        .category-btn:hover:not(.active) {
            background: #e9ecef;
            border-color: #667eea;
        }

        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            padding: 3rem 0;
            max-width: 1200px;
            margin: 0 auto;
        }

        .resource-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid #f0f0f0;
            position: relative;
        }

        .resource-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
        }

        .resource-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1.5rem;
            position: relative;
        }

        .resource-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .resource-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .resource-subtitle {
            opacity: 0.9;
            font-size: 1rem;
        }

        .resource-body {
            padding: 2rem;
        }

        .resource-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .features-list {
            list-style: none;
            padding: 0;
            margin: 1.5rem 0;
        }

        .features-list li {
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #555;
        }

        .features-list li::before {
            content: '✓';
            color: #28a745;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .subjects-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .subject-tag {
            background: #e9ecef;
            color: #495057;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .resource-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .btn-visit {
            flex: 1;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-visit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-bookmark {
            background: #f8f9fa;
            color: #666;
            border: 1px solid #dee2e6;
            padding: 0.75rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-bookmark:hover {
            background: #e9ecef;
            color: #333;
        }

        .btn-bookmark.bookmarked {
            background: #ffc107;
            color: white;
            border-color: #ffc107;
        }

        .featured-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff6b6b;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .stats-section {
            background: #f8f9fa;
            padding: 3rem 0;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .stat-item {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #666;
            font-weight: 500;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2.5rem;
            }

            .hero-section p {
                font-size: 1.1rem;
            }

            .search-container {
                margin: 1.5rem 1rem;
            }

            .category-buttons {
                padding: 0 1rem;
                justify-content: flex-start;
                overflow-x: auto;
                scroll-snap-type: x mandatory;
            }

            .category-btn {
                flex-shrink: 0;
                scroll-snap-align: start;
            }

            .resources-grid {
                grid-template-columns: 1fr;
                padding: 2rem 1rem;
                gap: 1.5rem;
            }

            .resource-card {
                margin: 0;
            }

            .resource-actions {
                flex-direction: column;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }
        }

        @media (max-width: 480px) {
            .hero-section {
                padding: 3rem 1rem;
            }

            .hero-section h1 {
                font-size: 2rem;
            }

            .search-container {
                flex-direction: column;
                gap: 0.5rem;
                padding: 15px;
            }

            .search-input {
                text-align: center;
            }

            .search-btn {
                width: 100%;
                justify-content: center;
                border-radius: 25px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .resource-card {
            animation: fadeInUp 0.6s ease forwards;
        }

        .resource-card:nth-child(even) {
            animation-delay: 0.1s;
        }

        .resource-card:nth-child(3n) {
            animation-delay: 0.2s;
        }

        /* Loading State */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 3rem;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .no-results {
            text-align: center;
            padding: 3rem;
            color: #666;
        }

        .no-results i {
            font-size: 3rem;
            color: #ddd;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="container">
            <div class="nav-brand">
                <img src="assets/icons/logo_btrfly.ico" alt="Logo" class="nav-logo">
                <span class="nav-title">学习助手</span>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-home"></i>
                    <span>首页</span>
                </a>
                <a href="educational-resources.html" class="nav-link active">
                    <i class="fas fa-star"></i>
                    <span>教育资源</span>
                </a>
            </div>
            <div class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <h1><i class="fas fa-graduation-cap"></i> 优质教育资源推荐</h1>
            <p>发现全球最优秀的在线学习平台，包括交互式模拟、虚拟实验室、编程学习和各学科的专业工具</p>
            
            <div class="search-container">
                <input type="text" class="search-input" placeholder="搜索教育资源...按主题、科目或网站名称" id="resourceSearch">
                <button class="search-btn" onclick="searchResources()">
                    <i class="fas fa-search"></i>
                    <span>搜索</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Category Navigation -->
    <nav class="category-nav">
        <div class="category-buttons">
            <button class="category-btn active" data-category="all">
                <i class="fas fa-th"></i> 全部资源
            </button>
            <button class="category-btn" data-category="simulation">
                <i class="fas fa-flask"></i> 科学模拟
            </button>
            <button class="category-btn" data-category="math">
                <i class="fas fa-calculator"></i> 数学工具
            </button>
            <button class="category-btn" data-category="programming">
                <i class="fas fa-code"></i> 编程学习
            </button>
            <button class="category-btn" data-category="language">
                <i class="fas fa-language"></i> 语言学习
            </button>
            <button class="category-btn" data-category="comprehensive">
                <i class="fas fa-university"></i> 综合平台
            </button>
            <button class="category-btn" data-category="creative">
                <i class="fas fa-palette"></i> 创意设计
            </button>
        </div>
    </nav>

    <!-- Resources Grid -->
    <main class="container">
        <div class="resources-grid" id="resourcesGrid">
            <!-- Resources will be populated by JavaScript -->
        </div>
        
        <div class="loading" id="loadingIndicator" style="display: none;">
            <div class="spinner"></div>
        </div>
        
        <div class="no-results" id="noResults" style="display: none;">
            <i class="fas fa-search"></i>
            <h3>未找到匹配的资源</h3>
            <p>请尝试不同的搜索关键词或浏览不同的分类</p>
        </div>
    </main>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="container">
            <h2 style="margin-bottom: 3rem; color: #333;">教育资源统计</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">精选网站</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">12</div>
                    <div class="stat-label">学科分类</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">免费资源</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">24/7</div>
                    <div class="stat-label">随时访问</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>学习助手</h3>
                    <p>致力于提供最优质的教育资源，帮助每个学习者实现梦想。</p>
                </div>
                <div class="footer-section">
                    <h4>快速链接</h4>
                    <ul>
                        <li><a href="index.html">首页</a></li>
                        <li><a href="educational-resources.html">教育资源</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>联系我们</h4>
                    <p>如有建议或发现优质资源，欢迎联系我们</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 学习助手. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <script>
        // Educational Resources Data
        const educationalResources = [
            {
                id: 1,
                title: "PhET Interactive Simulations",
                subtitle: "科罗拉多大学物理教育技术项目",
                description: "提供免费的物理、化学、生物、地球科学和数学的交互式模拟实验。所有模拟都基于最新的教育研究，支持多种语言包括中文。",
                icon: "fas fa-atom",
                url: "https://phet.colorado.edu/",
                category: ["simulation", "math"],
                subjects: ["物理", "化学", "生物", "数学", "地球科学"],
                features: [
                    "200+免费交互式模拟",
                    "支持50+种语言",
                    "基于教育研究设计",
                    "适合K-12及大学教育",
                    "离线版本可下载"
                ],
                featured: true,
                rating: 4.9
            },
            {
                id: 2,
                title: "Gizmos ExploreLearning",
                subtitle: "世界最大的数学和科学模拟库",
                description: "拥有550+虚拟交互式STEM模拟，符合最新教育标准。通过沉浸式在线实验室和以学生为中心的探究活动，让学生发现STEM潜力。",
                icon: "fas fa-microscope",
                url: "https://gizmos.explorelearning.com/",
                category: ["simulation", "math"],
                subjects: ["数学", "物理", "化学", "生物", "地球科学", "工程"],
                features: [
                    "550+交互式模拟",
                    "3-12年级适用",
                    "STEM案例研究",
                    "教师专业发展支持",
                    "基于研究证明有效"
                ],
                featured: true,
                rating: 4.8
            },
            {
                id: 3,
                title: "Khan Academy",
                subtitle: "免费世界一流教育",
                description: "提供数学、科学、计算机编程、历史、艺术史、经济学等课程的免费在线教育。个性化学习仪表板让学习者按自己的节奏学习。",
                icon: "fas fa-graduation-cap",
                url: "https://www.khanacademy.org/",
                category: ["comprehensive", "math"],
                subjects: ["数学", "科学", "计算机科学", "历史", "艺术", "经济学"],
                features: [
                    "完全免费的课程",
                    "个性化学习路径",
                    "即时反馈和提示",
                    "进度跟踪",
                    "适合所有年龄"
                ],
                featured: true,
                rating: 4.7
            },
            {
                id: 4,
                title: "Coursera",
                subtitle: "顶尖大学和企业的在线课程",
                description: "与世界顶尖大学和企业合作，提供在线课程、专项课程和学位项目。涵盖商务、计算机科学、数据科学、语言学习等领域。",
                icon: "fas fa-university",
                url: "https://www.coursera.org/",
                category: ["comprehensive"],
                subjects: ["商务", "计算机科学", "数据科学", "语言", "艺术", "健康"],
                features: [
                    "顶尖大学课程",
                    "专业证书项目",
                    "在线学位",
                    "财务援助",
                    "移动学习应用"
                ],
                featured: false,
                rating: 4.6
            },
            {
                id: 5,
                title: "Codecademy",
                subtitle: "交互式编程学习平台",
                description: "通过实践学习编程。提供Python、JavaScript、HTML/CSS、SQL等编程语言的交互式课程，让你在浏览器中直接编写代码。",
                icon: "fas fa-code",
                url: "https://www.codecademy.org/",
                category: ["programming"],
                subjects: ["Python", "JavaScript", "HTML/CSS", "SQL", "数据科学", "机器学习"],
                features: [
                    "边做边学的方式",
                    "实时代码编辑器",
                    "项目作品集",
                    "职业路径指导",
                    "社区支持"
                ],
                featured: false,
                rating: 4.5
            },
            {
                id: 6,
                title: "Duolingo",
                subtitle: "免费有趣的语言学习",
                description: "全球最受欢迎的语言学习应用，支持40+种语言学习。通过游戏化的方式让语言学习变得有趣且有效。",
                icon: "fas fa-comments",
                url: "https://www.duolingo.com/",
                category: ["language"],
                subjects: ["英语", "西班牙语", "法语", "德语", "意大利语", "日语", "韩语"],
                features: [
                    "40+种语言选择",
                    "游戏化学习体验",
                    "每日挑战和连击",
                    "社交学习功能",
                    "离线学习模式"
                ],
                featured: false,
                rating: 4.4
            },
            {
                id: 7,
                title: "Scratch",
                subtitle: "面向儿童的可视化编程",
                description: "MIT开发的可视化编程语言，让8-16岁的孩子通过拖拽代码块创建交互式故事、游戏和动画，培养创造性思维。",
                icon: "fas fa-puzzle-piece",
                url: "https://scratch.mit.edu/",
                category: ["programming", "creative"],
                subjects: ["编程基础", "逻辑思维", "创意设计", "数学概念"],
                features: [
                    "可视化编程界面",
                    "在线社区分享",
                    "教育资源丰富",
                    "支持多种语言",
                    "完全免费使用"
                ],
                featured: false,
                rating: 4.6
            },
            {
                id: 8,
                title: "TED-Ed",
                subtitle: "TED的教育视频平台",
                description: "提供简短而有力的教育视频，涵盖各个学科。每个视频都配有讨论问题、延伸阅读和互动测验，适合翻转课堂教学。",
                icon: "fas fa-play-circle",
                url: "https://ed.ted.com/",
                category: ["comprehensive"],
                subjects: ["科学", "历史", "文学", "艺术", "心理学", "哲学"],
                features: [
                    "高质量教育视频",
                    "互动式测验",
                    "课堂讨论工具",
                    "教师资源",
                    "多语言字幕"
                ],
                featured: false,
                rating: 4.5
            },
            {
                id: 9,
                title: "GeoGebra",
                subtitle: "动态数学软件",
                description: "集几何、代数、表格、图形、统计和微积分于一体的动态数学软件，适合各个教育水平使用。提供丰富的教学资源和活动。",
                icon: "fas fa-chart-line",
                url: "https://www.geogebra.org/",
                category: ["math"],
                subjects: ["几何", "代数", "微积分", "统计", "概率"],
                features: [
                    "多合一数学工具",
                    "3D图形功能",
                    "增强现实支持",
                    "教学活动库",
                    "跨平台使用"
                ],
                featured: false,
                rating: 4.7
            },
            {
                id: 10,
                title: "Canva",
                subtitle: "简单易用的设计工具",
                description: "提供丰富的模板和设计元素，让任何人都能创建专业的图形设计。特别适合制作教育海报、演示文稿和信息图表。",
                icon: "fas fa-palette",
                url: "https://www.canva.com/",
                category: ["creative"],
                subjects: ["平面设计", "演示制作", "海报设计", "社交媒体"],
                features: [
                    "拖拽式设计界面",
                    "丰富的模板库",
                    "团队协作功能",
                    "品牌套件工具",
                    "一键发布分享"
                ],
                featured: false,
                rating: 4.6
            },
            {
                id: 11,
                title: "Quizlet",
                subtitle: "学习工具和抽认卡",
                description: "创建数字抽认卡、测验和学习游戏。使用科学支持的学习模式帮助学生更有效地记忆和掌握学习材料。",
                icon: "fas fa-brain",
                url: "https://quizlet.com/",
                category: ["comprehensive"],
                subjects: ["语言", "历史", "科学", "数学", "各类记忆学习"],
                features: [
                    "智能抽认卡系统",
                    "多种学习模式",
                    "进度跟踪分析",
                    "班级管理功能",
                    "语音识别练习"
                ],
                featured: false,
                rating: 4.4
            },
            {
                id: 12,
                title: "Wolfram Alpha",
                subtitle: "计算知识引擎",
                description: "强大的计算引擎，能够回答数学、科学、工程、统计等领域的复杂问题。提供详细的步骤解释和可视化结果。",
                icon: "fas fa-calculator",
                url: "https://www.wolframalpha.com/",
                category: ["math", "simulation"],
                subjects: ["数学", "物理", "化学", "工程", "统计", "金融"],
                features: [
                    "步骤详解功能",
                    "图形可视化",
                    "单位转换",
                    "数据分析",
                    "移动应用支持"
                ],
                featured: false,
                rating: 4.5
            },
            {
                id: 13,
                title: "Edpuzzle",
                subtitle: "让视频变得互动",
                description: "将任何视频转换为互动式课程。教师可以裁剪视频、添加问题、录制旁白，学生的观看进度和答题情况一目了然。",
                icon: "fas fa-video",
                url: "https://edpuzzle.com/",
                category: ["comprehensive"],
                subjects: ["任何视频相关学科"],
                features: [
                    "视频互动编辑",
                    "实时进度监控",
                    "问题嵌入功能",
                    "班级管理",
                    "详细分析报告"
                ],
                featured: false,
                rating: 4.3
            },
            {
                id: 14,
                title: "Desmos Graphing Calculator",
                subtitle: "免费在线图形计算器",
                description: "强大的在线图形计算器，支持函数、统计、几何等多种数学应用。提供丰富的活动和课程，帮助学生探索数学概念。",
                icon: "fas fa-square-root-alt",
                url: "https://www.desmos.com/",
                category: ["math"],
                subjects: ["代数", "几何", "微积分", "统计"],
                features: [
                    "免费图形计算器",
                    "3D图形支持",
                    "活动建构器",
                    "班级活动",
                    "实时协作功能"
                ],
                featured: false,
                rating: 4.8
            },
            {
                id: 15,
                title: "Tinkercad",
                subtitle: "3D设计和电路模拟",
                description: "Autodesk出品的免费在线3D设计和电路模拟工具，适合初学者学习3D建模、3D打印和电子电路设计。",
                icon: "fas fa-cube",
                url: "https://www.tinkercad.com/",
                category: ["creative", "simulation"],
                subjects: ["3D设计", "电子工程", "创客教育", "STEM"],
                features: [
                    "简单易用界面",
                    "3D打印支持",
                    "电路模拟器",
                    "代码块编程",
                    "课堂管理工具"
                ],
                featured: false,
                rating: 4.4
            }
        ];

        let currentCategory = 'all';
        let searchTerm = '';
        let bookmarkedItems = JSON.parse(localStorage.getItem('bookmarkedResources') || '[]');

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            renderResources();
            setupEventListeners();
        });

        function setupEventListeners() {
            // Category buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentCategory = this.dataset.category;
                    renderResources();
                });
            });

            // Search input
            document.getElementById('resourceSearch').addEventListener('input', function() {
                searchTerm = this.value.toLowerCase();
                renderResources();
            });

            // Enter key search
            document.getElementById('resourceSearch').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchResources();
                }
            });
        }

        function searchResources() {
            const searchInput = document.getElementById('resourceSearch');
            searchTerm = searchInput.value.toLowerCase();
            renderResources();
        }

        function renderResources() {
            const grid = document.getElementById('resourcesGrid');
            const loading = document.getElementById('loadingIndicator');
            const noResults = document.getElementById('noResults');

            // Show loading
            loading.style.display = 'flex';
            grid.innerHTML = '';
            noResults.style.display = 'none';

            // Simulate loading delay
            setTimeout(() => {
                const filteredResources = educationalResources.filter(resource => {
                    const matchesCategory = currentCategory === 'all' || resource.category.includes(currentCategory);
                    const matchesSearch = !searchTerm || 
                        resource.title.toLowerCase().includes(searchTerm) ||
                        resource.description.toLowerCase().includes(searchTerm) ||
                        resource.subjects.some(subject => subject.toLowerCase().includes(searchTerm)) ||
                        resource.features.some(feature => feature.toLowerCase().includes(searchTerm));
                    
                    return matchesCategory && matchesSearch;
                });

                loading.style.display = 'none';

                if (filteredResources.length === 0) {
                    noResults.style.display = 'block';
                    return;
                }

                // Sort featured items first
                filteredResources.sort((a, b) => {
                    if (a.featured && !b.featured) return -1;
                    if (!a.featured && b.featured) return 1;
                    return b.rating - a.rating;
                });

                grid.innerHTML = filteredResources.map(resource => createResourceCard(resource)).join('');
            }, 500);
        }

        function createResourceCard(resource) {
            const isBookmarked = bookmarkedItems.includes(resource.id);
            
            return `
                <div class="resource-card" data-category="${resource.category.join(' ')}">
                    ${resource.featured ? '<div class="featured-badge">推荐</div>' : ''}
                    <div class="resource-header">
                        <i class="${resource.icon} resource-icon"></i>
                        <h3 class="resource-title">${resource.title}</h3>
                        <p class="resource-subtitle">${resource.subtitle}</p>
                    </div>
                    <div class="resource-body">
                        <p class="resource-description">${resource.description}</p>
                        
                        <div class="subjects-tags">
                            ${resource.subjects.map(subject => `<span class="subject-tag">${subject}</span>`).join('')}
                        </div>
                        
                        <ul class="features-list">
                            ${resource.features.slice(0, 4).map(feature => `<li>${feature}</li>`).join('')}
                        </ul>
                        
                        <div class="resource-actions">
                            <a href="${resource.url}" target="_blank" rel="noopener noreferrer" class="btn-visit">
                                <i class="fas fa-external-link-alt"></i>
                                访问网站
                            </a>
                            <button class="btn-bookmark ${isBookmarked ? 'bookmarked' : ''}" 
                                    onclick="toggleBookmark(${resource.id})" 
                                    title="${isBookmarked ? '取消收藏' : '收藏'}">
                                <i class="fas fa-bookmark"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function toggleBookmark(resourceId) {
            const index = bookmarkedItems.indexOf(resourceId);
            if (index === -1) {
                bookmarkedItems.push(resourceId);
            } else {
                bookmarkedItems.splice(index, 1);
            }
            
            localStorage.setItem('bookmarkedResources', JSON.stringify(bookmarkedItems));
            renderResources(); // Re-render to update bookmark status
        }

        // Navigation toggle for mobile
        document.addEventListener('DOMContentLoaded', function() {
            const navToggle = document.querySelector('.nav-toggle');
            const navMenu = document.querySelector('.nav-menu');
            
            if (navToggle && navMenu) {
                navToggle.addEventListener('click', function() {
                    navMenu.classList.toggle('active');
                    navToggle.classList.toggle('active');
                });
            }
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>